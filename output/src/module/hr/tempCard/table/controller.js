define(["require","../../app","../config","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("../config"),r=e("module/config"),i=e("module/codeConfig");t.controller("hrTempCardTableCtrl",["$scope","$state","hrRequest","tempCardListTableColsConfig","hrOptUtil","$filter",function(e,t,i,s,o,u){function l(){g(),e.addTempCard=h,e.onSingleBorrowClick=d,e.onSingleReturnClick=v,e.onSingleDelClick=m}function c(e){if(e=="all")return f.ALL;if(e=="canBorrow")return f.CAN_BORROW;if(e=="hadBorrow")return f.HAD_BORROW}function h(){o.tempCardAdd(function(e){e.hadSuccess&&(g(),p())})}function p(){e.$emit("amountChange")}function d(e){o.tempCardBorrow(e,function(e){e.hadSuccess&&(g(),p())})}function v(e){o.tempCardReturn(e,function(e){e.hadSuccess&&(g(),p())})}function m(e){o.tempCardDel(e,function(e){e.hadSuccess&&(g(),p())})}function g(){var t=c(e.nav);t==f.ALL&&(t=undefined),i.getTempCardList({status:t,pageDto:{pageNum:e.currentPage||1,pageSize:r.PAGE_SIZE}}).then(function(t){var n=t.data;e.tableOptions.data=y(n),e.tableOptions.totalCount=t.pageDto.count})}function y(e){for(var t=0,n;n=e[t++];)n.statusValue=u("tempCardStatus")(n.status);return e}e.entryName=t.current.name;var a=e.entryName.split(".");e.nav=a[2];var f=n.TAB_CODE;e.tabCode=n.TAB_CODE,e.isMainScope=!0,e.tableOptions={data:[],canSelect:!1,totalCount:0,cols:s.getConfig(e),onPageChange:function(t){e.currentPage=t,g()},mainScope:e},l()}])});