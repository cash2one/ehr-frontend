define("common/app",["require"],function(e){return angular.module("app.common",["ui.router"])}),define("common/directive/compile",["require","../app"],function(e){var t=e("../app");t.directive("compile",["$compile","$templateCache",function(e,t){return{restrict:"A",link:function(n,r,i){n.$watch(i.compile,function(i){var s=t.get(i);if(!s){var o=$.ajax({type:"GET",url:i,async:!1}).responseText;t.put(i,o),s=o}var u=e(s),a=u(n);r.append(a)})}}}])}),define("common/directive/stopEvent",["require","../app"],function(e){var t=e("../app");t.directive("stopEvent",function(){return{restrict:"A",link:function(e,t,n){t.bind(n.stopEvent,function(e){e.stopPropagation()})}}})}),define("common/directive/inputValidate/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("inputValidate",["$http","$templateCache","$compile",function(e,t,n){return{restrict:"EA",scope:{options:"=inputValidate"},replace:!1,link:function(e,r,i){if(e.options){e.optTip="输入",e.options.mode=="file"&&(e.optTip="上传");var s="src/common/directive/inputValidate/tpl.html";e.maxlength=e.options.maxLength,e.minlength=e.options.minLength,e.min=e.options.min,e.max=e.options.max,e.$watch("options.min",function(t,n){e.min=t}),e.$watch("options.max",function(t,n){e.max=t});var o=t.get(s)||$.ajax({type:"GET",url:s,async:!1}).responseText;e.name=e.options.name;var u=e.options.formName,a=e.$parent;e.form=a[u];while(!e.form)a=a.$parent,e.form=a[u];var f=n(o)(e);$(r).after(f)}}}}])}),define("module/nameConfig",["require"],function(e){return{SEX:{1:"女",2:"男"},DEGREE:{1:"本科",2:"硕士",3:"博士",4:"专科",5:"其它"},TYPE:{1:"正式",2:"实习生",3:"劳务"},PROBATIONARY:{1:"3个月",3:"6个月",2:"无"},SALARY_TYPE:{1:"元/天",2:"元/月"},PC_TYPE:{1:"Windows 台式机标配",2:"Windows 笔记本标配",3:"Windows台式机高配（影视创作部专用）",4:"Windows笔记本高配（产品技术专用）",5:"Mac笔记本（产品技术专用）",6:"Mac台式机（设计专用）",7:"无"},STAFF_STATUS:{1:"已入职",2:"放弃",4:"离职",5:"待入职",6:"草稿",8:"待离职"},MARITAL_STATUS:{1:"已婚",2:"未婚",3:"离异",4:"丧偶"},FOREIGN_STATUS:{1:"是",0:"否"},GRADUATE_STATUS:{1:"是",0:"否"},CONTACT_TIME:{1:"三年",2:"6个月",3:"无期限",4:"五年"},ACCOUNT_TYPE:{1:"本地城镇",2:"本地农村",3:"外地城镇",4:"外地农村"},RECOMMEND_TYPE:{1:"招聘经理人脉关系",2:"招聘HR的渠道",3:"其它员工推荐",4:"招聘网站",5:"付费猎头",6:"校园招聘",7:"其它"},ABANDON_REASON:{1:"薪酬不满意",2:"原单位挽留",3:"家庭原因",4:"有更好的机会",5:"其它"},PC_TYPE:{1:"Windows 台式机标配",2:"Windows 笔记本标配",3:"Windows台式机高配（影视创作部专用）",4:"Windows笔记本高配（产品技术专用）",5:"Mac笔记本（产品技术专用）",6:"Mac台式机（设计专用）",7:"无"},SALARY_MODE:{1:"固定工资",2:"绩效工资"},LEAVE_REASON:{1:"主动离职",2:"被动离职"},LEAVE_DETAIL_REASON:{1:{1:"工作地点",2:"工作时间",3:"上下级关系",4:"工作内容",5:"工作压力太大",6:"个人发展前景",7:"薪资待遇",8:"身体健康原因",9:"照顾家人",10:"回家乡发展",11:"回学校"},2:{1:"主动辞退",2:"业务调整辞退"}},APPLY_STATUS_NAME:{0:"待审批",1:"审批中",5:"通过已执行",3:"拒绝",4:"已撤回",2:"通过待执行"},APPLY_HANDLE_STATUS_NAME:{0:"待审批",1:"审批中",5:"通过",3:"拒绝",4:"已撤回",2:"通过"},TEMP_CARD_STATUS:{2:"可借出",3:"已借出"},EMPTY_VALUE:"-",PUNCH_CARD:{0:"不打卡",1:"打卡-餐补不计入工资",2:"打卡-餐补计入工资"},ID_CARD_TYPE:{0:"护照",1:"身份证",2:"港澳居民来往内地通行证",3:"台湾居民来往内地通行证"},MEAL_SALARY_METHOD:{1:"随工资发放",2:"充值到饭卡"},REMOTE_PUNCH_CARD:{0:"否",1:"是"},BUSINESS_UNIT:{1:"跟谁学事业部",2:"天校事业部",3:"商学院事业部"},ACHIEVEMENT_LEVEL:{10:"铜牌",20:"银牌",30:"金牌",40:"钻石"}}}),define("module/codeConfig",["require"],function(e){return{TYPE_CODE:{REGULAR:1,INTERNS:2,LABOR:3},AGENT_TYPE_CODE:{REGULAR:21},STAFF_STATUS_CODE:{DRAFT:6,TO_JOIN:5,HAS_JOINED:1,LEAVED:4,ABANDED:2,TO_LEAVE:8},ABANDON_REASON:{SALARY:1,SAVE_BY_COMPANY:2,FAMILY:3,BETTER_OPPORTUNITY:4,OTHER:5},ROLE_TYPE:{OWNER:1,RECRUIT_HR:2,SALARY_HR:3,RELATIONSHIP_HR:4,TRAINING_HR:5,HRBP:6,ASSET_MANAGER:7,IT_OWNER:8},APPLY_CODE:{PROBATION_CHANGE:101,STAFF_ENTER:1,REJOIN:2,AGENT_ENTER:201,AGENT_REJOIN:202,AGENT_STRUCTURE:231,AGENT_LEAVE:241,OFFER_CHANGE:11,LEAVE:41,SALARY_INFO:21,STRUCTURE:31,TRANS_FULL_MEMBER:51,MULTIPLE:71,WORK_TARGET:111,FORMAL_APPLY:121},COMPANY_TYPE:{HEAD_QUARTERS:1,BRANCH:2},SALARY_TYPE:{DAY:1,MONTH:2},PUNCH_CARD:{NO_NEED:0,NEED_SUBSIDY_NOT_BY_SALARY:1,NEED_SUBSIDY_BY_SALARY:2},MEAL_SALARY_METHOD:{SALARY:1,MEALCARD:2}}}),define("module/config",["require","./codeConfig","./nameConfig"],function(e){var t=e("./codeConfig"),n=e("./nameConfig");return{SALARY_TYPE:[{id:1,name:"元/天"},{id:2,name:"元/月"}],PC_TYPE:[{id:undefined,name:"请选择"},{id:2,name:"Windows 笔记本标配"},{id:5,name:"Mac笔记本（产品技术专用）"},{id:1,name:"Windows 台式机标配"},{id:3,name:"Windows台式机高配（影视创作部专用）"},{id:4,name:"Windows笔记本高配（产品技术专用）"},{id:6,name:"Mac台式机（设计专用）"},{id:7,name:"无"}],SEX:[{id:undefined,name:"请选择"},{id:1,name:"女"},{id:2,name:"男"}],DEGREE:[{id:undefined,name:"请选择"},{id:1,name:"本科"},{id:2,name:"硕士"},{id:3,name:"博士"},{id:4,name:"专科"},{id:5,name:"其它"}],MARITAL_STATUS:[{id:1,name:"已婚"},{id:2,name:"未婚"},{id:3,name:"离异"},{id:4,name:"丧偶"}],TYPE:[{id:undefined,name:"请选择"},{id:1,name:"正式"},{id:2,name:"实习生"},{id:3,name:"劳务"}],AGENT_TYPE:[{id:undefined,name:"请选择"},{id:21,name:"正式"}],RECOMMEND_TYPE:[{id:1,name:"招聘经理人脉关系"},{id:2,name:"招聘HR的渠道"},{id:3,name:"其它员工推荐"},{id:4,name:"招聘网站"},{id:5,name:"付费猎头"},{id:6,name:"校园招聘"},{id:7,name:"其它"}],EMPTY:{id:undefined,name:"请选择"},ACCOUNT_TYPE:[{id:1,name:"本地城镇"},{id:2,name:"本地农村"},{id:3,name:"外地城镇"},{id:4,name:"外地农村"}],IS_GRADUATE:[{id:1,name:"是"},{id:0,name:"否"}],FOREIGN_STATUS:[{id:1,name:"是"},{id:0,name:"否"}],ID_CARD_TYPE:[{id:1,name:"身份证"},{id:2,name:"港澳居民来往内地通行证"},{id:3,name:"台湾居民来往内地通行证"},{id:0,name:"护照"}],PROBATIONARY:[{id:3,name:"6个月"},{id:1,name:"3个月"},{id:2,name:"无"}],CONTRACT_TIME:[{id:2,name:"6个月"},{id:1,name:"三年"},{id:4,name:"五年"},{id:3,name:"无期限"}],SALARY_MODE:[{id:undefined,name:"请选择"},{id:1,name:"固定工资"},{id:2,name:"绩效工资"}],LEAVE_REASON:[{id:undefined,name:"请选择"},{id:"1-1",name:"主动离职 - 工作地点"},{id:"1-2",name:"主动离职 - 工作时间"},{id:"1-3",name:"主动离职 - 上下级关系"},{id:"1-4",name:"主动离职 - 工作内容"},{id:"1-5",name:"主动离职 - 工作压力太大"},{id:"1-6",name:"主动离职 - 个人发展前景"},{id:"1-7",name:"主动离职 - 薪资待遇"},{id:"1-8",name:"主动离职 - 身体健康原因"},{id:"1-9",name:"主动离职 - 照顾家人"},{id:"1-10",name:"主动离职 - 回家乡发展"},{id:"1-11",name:"主动离职 - 回学校"},{id:"2-1",name:"被动离职 - 主动辞退"},{id:"2-2",name:"被动离职 - 业务调整辞退"}],PAGE_SIZE:20,LEVEL_NAME:{M:"M",A:"A"},STRUCTURE_ROOT_ID:1,DATE_FORMAT:"YYYY-MM-DD",EMPTY_VALUE:"-",FORBID_OF_LABOR_STAFF:["socialSecurityBase","houseFundBase","trafficSubsidy","mobileSubsidy","socialSecurityCity","endowBase","unemployBase","medicalBase","injuryBase","maternityBase","probationarySalary","probationary","formalDate"],FORBID_OF_REGULAR_STAFF:["probationarySalary"],BASE_REG_STR:"^\\d{1,6}$|^\\d{1,6}\\.\\d{1,2}",SIX_NUMBER_REG:"^\\d{1,6}$",NEG_SIX_NUMBER_REG:"^-?\\d{1,6}$",NEGATIVE_BASE_REG_STR:"^-?\\d{1,6}$|^-?\\d{1,6}(\\.\\d{1,2})$",FILE_CONTENT_TYPE:"multipart/form-data; boundary=----WebKitFormBoundary9nsID7VXCAqUXBLI",ID_CARD_CODE:1,REMOTE_PUNCH_CARD:[{id:0,name:"否"},{id:1,name:"是"}]}}),define("common/directive/inputControl/directive",["require","../../app","module/nameConfig","module/config","moment"],function(e){var t=e("../../app"),n=e("module/nameConfig"),r=e("module/config"),i=e("moment");t.directive("inputControl",["$filter","$timeout","ajaxService","util",function(e,t,r,s){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/common/directive/inputControl/tpl.html",replace:!1,compile:function(o,u,a,f){return{pre:function(e,t,n){e.options.min=e.options.min||new Date("1900-01-01"),e.errorOption={displayName:e.options.errorDisplayName||e.options.displayName,formName:e.options.formName,name:e.options.name,mode:e.options.mode,min:e.options.min,max:e.options.max,minLength:e.options.minLength,maxLength:e.options.maxLength},e.options.mode&&e.options.mode=="nameSuggestion"&&(e.disable=e.options.disable,e.require=e.options.require),e.options.mode&&e.options.mode=="structure"&&(e.treeSelectorOptions={manageNodes:e.options.manageNodes})},post:function(o,u,a,f){function h(){var t=o.options.filter,r=o.options.mode;if(o.options.displayValue){o.displayValue=o.options.displayValue;return}if(r=="combine"){if(t){o.displayValue=e(t)({input:o.result.input,select:o.result.select});return}o.displayValue=o.result.input+o.result.select;return}if(r=="structure"){o.displayValue=o.result.value&&o.result.value.name||n.EMPTY_VALUE;return}if(o.result.value instanceof Date){var i=o.result.value.getTime();o.displayValue=e("date")(i,"yyyy-MM-dd");return}if(t){o.displayValue=e(t)(o.result.value);return}o.displayValue=s.isEmpty(o.result.value)?n.EMPTY_VALUE:o.result.value}function p(e){function r(e,t){var t=t.toLowerCase();for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1}var t=e.name.split("."),n=t[t.length-1],i=["pdf","png","jpg","jpeg","doc","docx"];return r(i,n)?!0:!1}o.result={};var l=o.options.formName,c=o.$parent;o.form=c[l];while(!o.form)c=c.$parent,o.form=c[l];o.$watch("options.min",function(e,t){o.errorOption.min=i(e).subtract(1,"day").toDate()}),o.$watch("options.max",function(e,t){o.errorOption.max=i(e).add(1,"day").toDate()}),o.fileChange=function(){o.uploadFile()},o.uploadFile=function(){var e=o.options.name,t=$("input[name="+e+"]")[0].files[0],n=o.form[o.options.name];if(t&&!p(t)){o.$apply(function(){n.$setValidity("file",!1)});return}o.$apply(function(){n.$setValidity("file",!0)}),o.fileError="";var i=new FormData;i.append("file",t),r.send("/ADD/file/file.json",{data:i,type:"file"}).then(function(e){f.$setViewValue(e.data.storageId),o.options.fileUrl=e.data.url,o.options.required&&n.$setValidity("fileRequired",!0),info("上传成功")})},f.$render=function(){o.options.mode&&o.options.mode=="combine"?f.$viewValue&&(o.result.input=f.$viewValue.inputVal,o.result.select=f.$viewValue.selectVal):o.options.mode&&o.options.mode=="selectWithInput"?f.$viewValue&&(o.result.input=f.$viewValue.inputVal,o.result.select=f.$viewValue.selectVal):o.options.mode&&o.options.mode=="file"?o.options.required&&t(function(){f.$viewValue?o.form[o.options.name].$setValidity("fileRequired",!0):o.form[o.options.name].$setValidity("fileRequired",!1)},0):o.options.mode&&o.options.mode=="checkbox"?o.result.value=!!f.$viewValue:o.result.value=f.$viewValue,h()},o.options.mode=="selectWithInput"?(o.$watch("result.input",function(e,t){f.$setViewValue({inputVal:o.result.input,selectVal:o.result.select}),h()},!0),o.$watch("result.select",function(e,t){f.$setViewValue({inputVal:o.result.input,selectVal:o.result.select}),h()},!0)):o.options.mode=="selectWithInput"||o.options.mode=="combine"?(o.$watch("result.input",function(e,t){f.$setViewValue({inputVal:o.result.input,selectVal:o.result.select}),h()},!0),o.$watch("result.select",function(e,t){f.$setViewValue({inputVal:o.result.input,selectVal:o.result.select}),h()},!0)):o.$watch("result.value",function(e,t){e!=t&&f.$setViewValue(e),h()},!0),o.$watch("options.displayValue",function(e,t){e!=t&&(o.displayValue=e)},!0)}}}}}])}),define("common/directive/nameSuggestion/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("nameSuggestion",["$http","ajaxService",function(e,t){return{restrict:"EA",templateUrl:"src/common/directive/nameSuggestion/tpl.html",scope:{name:"@",disable:"=",require:"@",errorOption:"="},require:"?ngModel",replace:!1,compile:function(e,n,r,i){return{pre:function(e,t,n,r){},post:function(e,n,r,i){e.getAccounts=function(n){return t.send("/GET/ac/queryAccounts.json",{showLoading:!1,data:{searchKey:n}}).then(function(t){var n=t.data.map(function(e){return e.displayName+","+e.username}),r=[];return e.$root.userInfo.isAgent?n.forEach(function(e,t){e.indexOf("a-")>-1&&r.push(e)}):r=n,r})},e.typeaheadOnSelect=function(t){i.$setViewValue(e.value)},e.$watch("value",function(e,t){e||i.$setViewValue(e)}),i.$render=function(){e.value=i.$viewValue}}}}}}])}),define("common/directive/checkboxGroup/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("checkboxGroup",function(){return{restrict:"EA",scope:{options:"=",confirmHandler:"&",cancelHandler:"&"},replace:!1,templateUrl:"src/common/directive/checkboxGroup/tpl.html",link:function(e,t,n){function r(){var t=e.options.data,n=[];for(var r=0,i;i=t[r++];)for(var s=0,o;o=i.items[s++];)o.checked&&n.push(o.key);return n}function i(){var t=e.options.data;for(var n=0,r;r=t[n++];){var i=r.items;for(var s=0,o;o=i[s++];)o.isDefault?o.checked=!0:o.checked=!1}e.options.checkedValues=e.defaultValues}function s(){var t=e.options.checkedValues,n=e.options.data;for(var r=0,i;i=n[r++];){var s=i.items;for(var o=0,u;u=s[o++];)$.inArray(u.key,t)!=-1?u.checked=!0:u.checked=!1}}function o(){var t=e.options.data,n=[];for(var r=0,i;i=t[r++];){var s=i.items;for(var o=0,u;u=s[o++];)u.isDefault&&n.push(u.key)}return n}function u(){var t=e.options.data;for(var n=0,r;r=t[n++];){var i=r.items;for(var s=0,o;o=i[s++];)o.isDefault?o.checked=!0:o.checked=!1}e.options.checkedValues=e.defaultValues}function a(){var t=e.defaultValues,n=e.options.checkedValues;if(t.length!=n.length)return!1;for(var r=0,i;i=t[r++];)if($.inArray(i,n)==-1)return!1;return!0}function f(){a()?e.checkboxGroupType="default":e.checkboxGroupType="selfDefine"}e.defaultValues=o(),e.error="",e.options.checkedValues&&e.options.checkedValues.length!=0?s():i(),f(),e.defaultClick=function(){u()},e.itemClick=function(){var t=r(),n=e.options.maxItems||8,i=t.length;if(i==0){e.error="请选择至少1个指标";return}if(i>n){e.error="请选择少于"+n+"个指标";return}e.error="",e.options.checkedValues=t,f()},e.$watch("options.checkedValues",function(e,t){e!=t&&(s(),f())},!0)}}})}),define("common/directive/customCols/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("customCols",function(){return{restrict:"EA",scope:{options:"=",confirmHandler:"&"},replace:!1,templateUrl:"src/common/directive/customCols/tpl.html",link:function(e,t,n){e.status={},e.status.isopen=!1,e.confirmBtnClickHandler=function(t){if(t!="")return;e.confirmHandler(),e.status.isopen=!1},e.cancelBtnClickHandler=function(){e.status.isopen=!1}}}})}),define("common/directive/table/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("tableControl",["$http","ajaxService","$filter",function(e,t,n){return{restrict:"EA",templateUrl:"src/common/directive/table/tpl.html",scope:{options:"="},replace:!1,link:function(e,t,r){function i(t){var n=e.options.data;for(var r=0,i;i=e.dataSource[r++];)i.selected=t;for(var r=0,i;i=n[r++];)i.selected=t}function s(){var t=e.dataSource;if(!t.length)return!1;for(var n=0,r;r=t[n++];)if(!r.selected)return!1;return!0}function o(e){var t=[];for(var n=0,r;r=e[n++];)r.selected&&t.push(r);return t}function u(){var t={};e.dataSource=$.extend(!0,[],e.options.data);var r=e.options.cols,i=r.length;for(var s=0;s<i;s++){var o=r[s];o&&o.filter&&(t[o.field]=o.filter)}for(var s=0,o;o=e.dataSource[s++];)for(var u=0,f;f=r[u++];){var l=f.field,c=t[l];if(c){var h=c.split(":"),p=$.extend(!0,[],h);p[0]=o[l],o[l]=n(h[0]).apply(undefined,p)}}a()}function a(){s()?e.selectCurAll=!0:e.selectCurAll=!1}e.dataSource=[],e.options.pageSize=e.options.pageSize||20,e.mainScope=e.options.mainScope,e.onSelectCurAllChange=function(){e.selectCurAll?(i(!0),e.options.onSelectAll&&e.options.onSelectAll()):i(!1),e.options.selectedItems=o(e.options.data)},e.onItemSelectChange=function(t,n){var r=e.dataSource[t];r.selected=n;var i=e.options.data[t];i.selected=n,r.selected==0?e.selectCurAll=!1:s()&&(e.selectCurAll=!0),e.options.selectedItems=o(e.options.data),e.options&&e.options.onItemSelect&&e.options.onItemSelect()},e.onPageChanged=function(){e.options.onPageChange&&e.options.onPageChange(e.curPage)},e.$watch("options.data",function(e,t){u()},!0),e.$watch("options.cols",function(e,t){u()},!0)}}}])}),define("common/directive/commonInfo/directive",["require","../../app","module/codeConfig","module/codeConfig"],function(e){var t=e("../../app"),n=e("module/codeConfig");t.directive("commonInfo",["$http","ajaxService","hrOptUtil",function(t,n,r){return{restrict:"EA",templateUrl:"src/common/directive/commonInfo/tpl.html",scope:!1,require:"?ngModel",replace:!1,link:function(t,n,i,s){function a(){r.uploadHeadImg(t.commonInfo.number,function(e){e.hadSuccess&&(t.commonInfo.headImgUrl=e.url)})}var o=e("module/codeConfig"),u=o.STAFF_STATUS_CODE;(t.isFromHRBP||t.isFromRelationshipHR)&&t.commonInfo.status!=u.LEAVED&&(t.canEditHeadImg=!0),t.uploadClick=function(){if(!t.canEditHeadImg)return;a()},t.editClick=function(){if(!t.canEditHeadImg)return;a()}}}}])}),define("common/directive/multiSelect/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("multiSelect",function(){return{restrict:"EA",scope:{options:"="},replace:!1,require:"?ngModel",templateUrl:"src/common/directive/multiSelect/tpl.html",link:function(e,t,n,r){e.itemChange=function(t){e.selected=[];var n=[];for(var i=0,s;s=e.options.items[i++];)s.checked==1&&(e.selected.push(s.id),n.push(s.name));e.selectedNames=n.join(","),r.$setViewValue(e.selected)},e.status={},e.status.isopen=!0,r.$formatters.push(function(e){return e}),r.$parsers.push(function(e){return e}),r.$render=function(){e.selected=r.$viewValue,e.paintName()},e.paintName=function(){var t=[];for(var n=0,r;r=e.options.items[n++];)$.inArray(r.id,e.selected)!=-1&&(r.checked=!0,t.push(r.name));e.selectedNames=t.join(",")},e.$watch("options.items",function(t,n){e.paintName()},!0)}}})}),define("common/directive/structureSelector/directive",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.directive("structureSelector",["adminRequest","util","$rootScope",function(e,t,n){return{restrict:"EA",scope:{options:"=",disable:"=",require:"@",errorOption:"=",name:"@"},replace:!1,require:"?ngModel",templateUrl:"src/common/directive/structureSelector/tpl.html",compile:function(){function r(e,t){var n={};for(var i=0,s;s=e[i++];){if(s.id==t){n=s;break}if(s.children){n=r(s.children,t);if(n.id)break}}return n}function i(e,t){var n=t.parentId,i=[];while(n){var s=r(e,n);if(!s)break;i.unshift(s),n=s.parentId}return i}function s(e){var n=e.children,r=[];if(n)for(var i=0,e;e=n[i++];)r.push(e),e.children&&t.merge(r,s(e));return r}function o(e){if(!e)return[];var t=e.children,n=[];if(t)for(var r=0,e;e=t[r++];)n.push(e.id);return n}return{pre:function(e,n,r,i){e.optableNodes=[],e.opts={isSelectable:function(n){var r=t.findIndexInObjArr(e.optableNodes,"id",n.id);return r!=-1}}},post:function(u,a,f,l){function c(e){u.selectedNode=r(u.structureData,e),u.expandedNodes=i(u.structureData,u.selectedNode),u.paintName(u.selectedNode)}u.options=u.options||{},u.options.manageNodes=u.options.manageNodes||[];if(u.options&&u.options.manageNodes&&!u.options.manageNodes instanceof Array){console.error("组织架构数的manageNodes必须是数组");return}u.status={},u.status.isopen=!1,u.structureData=[],u.nodeFilter=function(e){var n=t.findIndexInObjArr(u.visibleNodes,"id",e.id);return n!=-1},u.paintName=function(e){var t=i(u.structureData,e),n=[];for(var r=0,s;s=t[r++];)n.push(s.label);n.push(e.label),u.selectedNodeName=n.join("-")},l.$render=function(){if(l.$viewValue){var e=l.$viewValue.id;u.selectedNode=r(u.structureData,e),u.expandedNodes=i(u.structureData,u.selectedNode),u.selectedNodeName=l.$viewValue.name}else u.selectedNode=undefined,u.initExpandedData(),u.selectedNodeName=undefined},u.getStructureList=function(){e.getStructure({containDisabled:0}).then(function(e){var r=u.$root.isAgent;u.structureData=t.getTreeData(e.data),u.$root.userInfo.isAgent&&(u.structureData=t.getAgentStructure(u.structureData)),n.structureData=u.structureData,l.$viewValue&&c(l.$viewValue.id),u.initTreeAttribute()})},u.initTreeAttribute=function(){u.initSelectaleData(),u.initVisibleData(),u.initExpandedData()},u.initExpandedData=function(){if(u.selectedNode&&u.selectedNode.id)u.expandedNodes=i(u.structureData,u.selectedNode);else{var e=[],n=[];u.options.manageNodes&&u.options.manageNodes.length?n=u.options.manageNodes:n=o(u.structureData[0]);for(var s=0,a;a=n[s++];){var f=r(u.structureData,a);e.push(f),t.merge(e,i(u.structureData,f))}u.expandedNodes=e}},u.initVisibleData=function(){var e=u.structureData,n=[],s=[];u.options.manageNodes&&u.options.manageNodes.length?s=u.options.manageNodes:s=o(u.structureData[0]);for(var a=0,f;f=s[a++];)n.push(r(e,f));var l=[];for(var a=0,c;c=n[a++];){var h=i(u.structureData,c);t.merge(l,h)}u.parentNodes=l,u.visibleNodes=t.merge(l,u.childrenNodes)},u.initSelectaleData=function(){var e=u.structureData,n=[],i=[];u.options.manageNodes&&u.options.manageNodes.length?i=u.options.manageNodes:i=o(u.structureData[0]);for(var a=0,f;f=i[a++];)n.push(r(e,f));var l=[];for(var a=0,c;c=n[a++];){var h=s(c);t.merge(l,h)}t.merge(l,n),u.childrenNodes=l,u.optableNodes=l},u.onSelect=function(e){u.paintName(e),l.$setViewValue({id:e.id,name:u.selectedNodeName}),u.status.isopen=!1},u.$watch("options.manageNodes",function(e,t){e!=t&&u.structureData&&u.initTreeAttribute()},!0),u.getStructureList()}}}}}])}),define("common/directive/itemSet/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("itemSet",["$http",function(e){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/common/directive/itemSet/tpl.html",replace:!1,link:function(e,t,n,r){function i(e){var t=[];for(var n=0,r;r=e[n++];)t.push(r.id);return t}e.delClickHandler=function(t,n){e.listData.splice(n,1),r.$setViewValue(e.listData),e.options.delClickHandler&&e.options.delClickHandler(t,n)},r.$formatters.push(function(e){return e}),r.$parsers.push(function(e){return e}),r.$render=function(){e.listData=r.$viewValue}}}}])}),define("common/directive/multiName/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("multiName",["$http","ajaxService",function(e,t){return{restrict:"EA",templateUrl:"src/common/directive/multiName/tpl.html",scope:{name:"@",disable:"=",require:"@",errorOption:"="},require:"?ngModel",replace:!1,compile:function(e,n,r,i){return{pre:function(e,t,n,r){},post:function(e,n,r,i){e.errorOption=e.errorOption||{},e.itemSetOption={tpl:"src/common/directive/multiName/itemSetTpl.html"},e.getAccounts=function(e){return t.send("/GET/ac/queryAccounts.json",{showLoading:!1,data:{searchKey:e}}).then(function(e){return e.data.map(function(e){return e.displayName+","+e.username})})},e.isUserExisted=function(t){for(var n=0,r;r=e.listValue[n++];)if(r.userName==t)return!0;return!1},e.typeaheadOnSelect=function(t){var n=e.value.split(",");e.isUserExisted(n[1])||e.listValue.push({name:n[0],userName:n[1]}),e.value="",i.$setViewValue(e.listValue)},i.$render=function(){e.listValue=i.$viewValue||[]}}}}}}])}),define("common/directive/singleSelect/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("singleSelect",["$http",function(e){return{restrict:"EA",scope:{values:"=",clickHandler:"&"},require:"?ngModel",templateUrl:"src/common/directive/singleSelect/tpl.html",replace:!1,link:function(e,t,n,r){e.valueChange=function(t,n){r.$setViewValue(t),e.value=t,e.clickHandler({val:t,index:n})},r.$formatters.push(function(e){return e}),r.$parsers.push(function(e){return e}),r.$render=function(){e.value=r.$viewValue}}}}])}),define("common/directive/timerButton/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("timerButton",["$interval",function(e){return{restrict:"EA",replace:!1,scope:{onClick:"&clickhandler",begintimer:"=",remain:"@time"},templateUrl:"src/common/directive/timerButton/tpl.html",link:function(t,n,r){function s(){t.remain=i,t.showTimer=!0;var n=e(function(){t.remain--,t.remain==0&&(t.showTimer=!1,t.begintimer=!1,e.cancel(n))},1e3)}var i=t.remain;t.clickHandler=function(){t.onClick()},t.$watch("begintimer",function(e,t){e==1&&s()},!0)}}}])}),define("common/directive/fiveBase/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={endowBase:{required:n.fiveBaseInitOptions.required,displayName:"",name:"endowBase",formName:t,placeholder:"",pattern:i.BASE_REG_STR,prefixClass:"blue",errorDisplayName:"养老保险基数",postfix:"元"},unemployBase:{required:n.fiveBaseInitOptions.required,displayName:"",name:"unemployBase",formName:t,placeholder:"",pattern:i.BASE_REG_STR,prefixClass:"blue",errorDisplayName:"失业保险基数",postfix:"元"},medicalBase:{required:n.fiveBaseInitOptions.required,displayName:"",name:"medicalBase",formName:t,placeholder:"",pattern:i.BASE_REG_STR,prefixClass:"blue",errorDisplayName:"医保基数",postfix:"元"},injuryBase:{required:n.fiveBaseInitOptions.required,displayName:"",name:"injuryBase",formName:t,placeholder:"",pattern:i.BASE_REG_STR,prefixClass:"blue",errorDisplayName:"工伤保险基数",postfix:"元"},maternityBase:{required:n.fiveBaseInitOptions.required,displayName:"",name:"maternityBase",formName:t,placeholder:"",pattern:i.BASE_REG_STR,prefixClass:"blue",errorDisplayName:"生育保险基数",postfix:"元"}};return u}}),define("common/directive/fiveBase/directive",["require","../../app","module/codeConfig","./inputOptions"],function(e){var t=e("../../app"),n=e("module/codeConfig"),r=e("./inputOptions");t.directive("fiveBase",["$http","ajaxService","hrOptUtil",function(e,t,n){return{restrict:"EA",templateUrl:"src/common/directive/fiveBase/tpl.html",scope:!1,require:"?ngModel",replace:!1,compile:function(e,t,n,i){return{pre:function(e){var t=e.fiveBaseInitOptions;e.fiveBaseInitOptions.fieldName=t.fieldName||"五险基数",e.fiveBaseOptions=r(t.formName,e)}}}}}])}),define("common/directive/popoverHtmlUnsafePopup/directive",["require","../../app"],function(e){var t=e("../../app");t.directive("popoverHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"src/common/directive/popoverHtmlUnsafePopup/tpl.html",link:function(e,t,n){e.closePopover=function(){e.$parent.tt_isOpen=!1,t.remove()}}}})}),define("common/directive/popoverHtmlUnsafe",["require","../app"],function(e){var t=e("../app");t.directive("popoverHtmlUnsafe",["$tooltip",function(e){return e("popoverHtmlUnsafe","popover","click")}])}),define("json",["require","exports","module"],function(require,exports,module){return typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;typeof JSON.stringify!="function"&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),JSON}),define("imageCrop/imageCrop",["require","json"],function(e){"use strict";function n(e){$.extend(this,n.defaultOptions,e),this.init()}if(window.ImageCrop)return window.ImageCrop;var t=e("json");n.prototype={constructor:n,init:function(){var e=this;e.movieName="_ImageCrop_"+r++,n.instances[e.movieName]=e;var t=$(e.getFlashHTML());e.element.replaceWith(t),e.swf=t[0]},getFlashHTML:function(){var e=this,t=e.flashUrl;return['<object id="',e.movieName,'" type="application/x-shockwave-flash" data="',t,'" width="',e.width,'" height="',e.height,'" class="imagecrop">','<param name="wmode" value="transparent" />','<param name="movie" value="',t,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value=\''+e.getFlashVars()+"' />","</object>"].join("")},getFlashVars:function(){var e=this;return["movieName="+encodeURIComponent(e.movieName),"action="+encodeURIComponent(e.action),"accept="+encodeURIComponent(e.accept),"adaptive="+encodeURIComponent(e.adaptive),"header="+(e.header?encodeURIComponent(t.stringify(e.header)):""),"button="+(e.button?encodeURIComponent(t.stringify(e.button)):""),"minSize="+($.type(e.minSize)==="number"?e.minSize:""),"maxSize="+($.type(e.maxSize)==="number"?e.maxSize:""),"minWidth="+($.type(e.minWidth)==="number"?e.minWidth:""),"maxWidth="+($.type(e.maxWidth)==="number"?e.maxWidth:""),"minHeight="+($.type(e.minHeight)==="number"?e.minHeight:""),"maxHeight="+($.type(e.maxHeight)==="number"?e.maxHeight:""),"src="+encodeURIComponent(t.stringify(e.src)),"dest="+encodeURIComponent(t.stringify(e.dest))].join("&amp;")},upload:function(){var e=this.swf;e.upload&&e.upload()},leftRotate:function(){var e=this.swf;e.leftRotate&&e.leftRotate()},rightRotate:function(){var e=this.swf;e.rightRotate&&e.rightRotate()},isReady:function(){var e=this.swf;if(e.isReady)return e.isReady()},dispose:function(){var e=this,t=e.swf;t.dispose&&t.dispose(),e.swf=e.element=window[this.movieName]=n.instances[e.movieName]=null}},n.defaultOptions={flashUrl:e.toUrl("./imageCrop.swf")},n.instances={},n.version="0.0.1";var r=0;return window.ImageCrop=n,n}),define("common/directive/imageCrop/directive",["require","../../app","imageCrop/imageCrop"],function(e){var t=e("../../app");e("imageCrop/imageCrop"),t.directive("imageCrop",["$http",function(e){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/common/directive/imageCrop/tpl.html",replace:!1,link:function(e,t,n,r){var i=e.options;i.element=$(t),i.flashUrl="src/dep/imageCrop/bin/src/imageCrop.swf",new ImageCrop(i)}}}])}),define("common/directive/main",["require","./compile","./stopEvent","./inputValidate/directive","./inputControl/directive","./nameSuggestion/directive","./checkboxGroup/directive","./customCols/directive","./table/directive","./commonInfo/directive","./multiSelect/directive","./structureSelector/directive","./itemSet/directive","./multiName/directive","./singleSelect/directive","./timerButton/directive","./fiveBase/directive","./popoverHtmlUnsafePopup/directive","./popoverHtmlUnsafe","./imageCrop/directive"],function(e){e("./compile"),e("./stopEvent"),e("./inputValidate/directive"),e("./inputControl/directive"),e("./nameSuggestion/directive"),e("./checkboxGroup/directive"),e("./customCols/directive"),e("./table/directive"),e("./commonInfo/directive"),e("./multiSelect/directive"),e("./structureSelector/directive"),e("./itemSet/directive"),e("./multiName/directive"),e("./singleSelect/directive"),e("./timerButton/directive"),e("./fiveBase/directive"),e("./popoverHtmlUnsafePopup/directive"),e("./popoverHtmlUnsafe"),e("./imageCrop/directive")}),define("common/service/ajax",["require","../app"],function(e){var t=e("../app");t.factory("ajaxService",["$http","$rootScope","$q","$cacheFactory","loadingUtil","login",function(e,t,n,r,i,s){function a(t,r){var s=r.cache||!1,a=typeof r.asyn=="undefined"?!0:r.asyn,c=typeof r.showLoading=="undefined"?!0:r.showLoading,h=r.cacheTime,p=n.defer(),d=t+"--"+JSON.stringify(r),v=o[d]||null;if(v)var m=v.content,g=v.getTime;var y=l(g,h);if(s&&m&&y)f(m,r,p);else{c&&i.showLoading();if(a){var b={method:"POST",url:t,cache:s,data:r.data||{}};r.type&&r.type=="file"&&(b.transformRequest=angular.identity,b.headers={"Content-Type":undefined}),e(b).success(function(e){T(e)}).error(function(){x()})}else{var w=$.ajax({url:t,type:"post",data:r.data||{},async:!1});try{var E=$.parseJSON(w.responseText);T(E)}catch(S){x()}}function x(){u--,c&&u==0&&i.hideLoading(),alert("网络异常")}function T(e){u--,c&&u==0&&i.hideLoading(),f(e,r,p),s&&(o[d]={content:e,getTime:(new Date).getTime()})}}return p.promise}function f(e,t,n){e.status==200?n.resolve(e):n.reject(e),e.status==200?t.successHandler&&t.successHandler(e):e.status==500?alert("系统异常"):e.status==700?s.show():e.status==400||e.status==800?t.failHandler?t.failHandler(e,e.error.message):alert(e.error&&e.error.message||"未知错误("+(new Date).getTime()+")，请联系ehr@baijiahulian.com"):e.status==300?t.partSuccessHandler&&t.partSuccessHandler(e):e.status==0?window.location.reload():alert("unkonwn error")}function l(e,t){if(!t)return!0;var n=(new Date).getTime();return n-e>t?!1:!0}var o={},u=0;return{send:function(e,t){return u++,a(e,t)},clearCache:function(e){for(var t in o)t.indexOf(e)==0&&(o.key=null)}}}])}),define("common/service/hrRequest",["require","../app"],function(e){var t=e("../app");t.factory("hrRequest",["ajaxService","$q","localStorage",function(e,t,n){return{addAssetCode:function(t){var t=t||{};return e.send("/MOD/staff/assetCode.json",{data:t})},getCompany:function(t){var t=t||{};return e.send("/GET/company/list.json",{data:t})},getContractCompany:function(t){var t=t||{};return e.send("/GET/contractCompany/list.json",{data:t})},getSocialSecurity:function(t){var t=t||{};return e.send("/GET/socialSecurityCity/list.json",{data:t})},getOffice:function(t){var t=t||{};return e.send("/GET/office/list.json",{data:t})},getSocialSecurityCity:function(t){var t=t||{};return e.send("/GET/socialSecurityCity/list.json",{data:t})},getDepartment:function(t){var t=t||{};return e.send("/GET/department/list.json",{data:t})},getScdDepartment:function(t){var t=t||{};return e.send("/GET/scdDepartment/list.json",{data:t})},getLevel:function(t){var t=t||{};return e.send("/GET/level/list.json",{data:t})},getPosition:function(t){var t=t||{};return e.send("/GET/position/list.json",{data:t})},getCardRecord:function(t){var t=t||{};return e.send("/GET/cardRecord/list.json",{data:t})},savePreEnterInfo:function(t){var t=t||{};return e.send("/ADD/staff/preEnterInfo.json",{data:t})},submitPreEnterInfo:function(t){var t=t||{};return t.content&&(t.content=JSON.stringify(t.content)),e.send("/ADD/approve/approve.json",{data:t})},modPreEnterInfo:function(t){var t=t||{};return e.send("/MOD/staff/preEnterInfo.json",{data:t})},getStaffInfo:function(t){var t=t||{};return e.send("/GET/staff/list.json",{data:t})},getPreEnterInfo:function(t){var t=t||{};return e.send("/GET/staff/preEnterList.json",{data:t})},getCustomCols:function(e){return n.get("customCol")},modCustomCols:function(e){n.set("customCol",e.data)},getStaffBaseInfo:function(t){var t=t||{};return e.send("/GET/staff/baseInfo.json",{data:t})},getStaffWorkInfo:function(t){var t=t||{};return e.send("/GET/staff/workInfo.json",{data:t})},getStaffSalaryInfo:function(t){var t=t||{};return e.send("/GET/staff/salaryInfo.json",{data:t})},getStaffSecretInfo:function(t){var t=t||{};return e.send("/GET/staff/secretInfo.json",{data:t})},getStaffChangeInfo:function(t){var t=t||{};return e.send("/GET/staff/changeInfo.json",{data:t})},getStaffSalaryChangeInfo:function(t){var t=t||{};return e.send("/GET/staff/salaryChangeInfo.json",{data:t})},saveBaseInfo:function(t){var t=t||{};return e.send("/MOD/staff/baseInfo.json",{data:t})},saveBaseInfoSelf:function(t){var t=t||{};return e.send("/MOD/staff/baseInfoSelf.json",{data:t})},saveWorkInfo:function(t){var t=t||{};return e.send("/MOD/staff/workInfo.json",{data:t})},saveSecretInfo:function(t){var t=t||{};return e.send("/MOD/staff/secretInfo.json",{data:t})},saveSalaryInfo:function(t){var t=t||{};return e.send("/MOD/staff/welfareSalary.json",{data:t})},addEducationExperience:function(t){var t=t||{};return e.send("/ADD/staff/educationExperience.json",{data:t})},delEducationExperience:function(t){var t=t||{};return e.send("/DEL/staff/educationExperience.json",{data:t})},modEducationExperience:function(t){var t=t||{};return e.send("/MOD/staff/educationExperience.json",{data:t})},getEducationExperience:function(t){var t=t||{};return e.send("/GET/staff/educationExperienceList.json",{data:t})},addWorkExperience:function(t){var t=t||{};return e.send("/ADD/staff/workExperience.json",{data:t})},delWorkExperience:function(t){var t=t||{};return e.send("/DEL/staff/workExperience.json",{data:t})},getWorkExperience:function(t){var t=t||{};return e.send("/GET/staff/workExperienceList.json",{data:t})},modWorkExperience:function(t){var t=t||{};return e.send("/MOD/staff/workExperience.json",{data:t})},addFamilyMember:function(t){var t=t||{};return e.send("/ADD/staff/familyMember.json",{data:t})},delFamilyMember:function(t){var t=t||{};return e.send("/DEL/staff/familyMember.json",{data:t})},getFamilyMember:function(t){var t=t||{};return e.send("/GET/staff/familyMemberList.json",{data:t})},modFamilyMember:function(t){var t=t||{};return e.send("/MOD/staff/familyMember.json",{data:t})},getInitInfo:function(t){var t=t||{};return e.send("/GET/staff/initInfo.json",{data:t})},leaveJob:function(t){var t=t||{};return e.send("/MOD/staff/dimission.json",{data:t})},getLeaveInfo:function(t){var t=t||{};return e.send("/GET/staff/dimissionInfo.json",{data:t})},getCommonInfo:function(t){var t=t||{};return e.send("/GET/staff/commonInfo.json",{data:t})},modStaffStatus:function(t){var t=t||{};return e.send("/MOD/staff/status.json",{data:t})},getRejoinInfo:function(t){var t=t||{};return e.send("/GET/staff/preEnterInfo.json",{data:t})},getRejoinAgent:function(t){var t=t||{};return e.send("/GET/staff/preAgentEnterInfo.json",{data:t})},modHeadImg:function(t){var t=t||{};return e.send("/MOD/staff/headImg.json",{data:t})},validatePassword:function(t){var t=t||{};return e.send("/GET/staff/isValidPassword.json",{data:t})},modMobileValidateCode:function(t){var t=t||{};return e.send("/SEND/staff/modMobileValidateCode.json",{data:t})},modMobile:function(t){var t=t||{};return e.send("/MOD/staff/mobile.json",{data:t})},getBank:function(t){var t=t||{};return e.send("/GET/bank/list.json",{data:t})},getSalaryList:function(t){var t=t||{};return e.send("/GET/salary/list.json",{data:t})},modSalary:function(t){var t=t||{};return e.send("/MOD/salary/salary.json",{data:t})},getTaxList:function(t){var t=t||{};return e.send("/GET/staff/taxList.json",{data:t})},getStaffSocialSecurityList:function(t){var t=t||{};return e.send("/GET/staff/socialSecurityList.json",{data:t})},getTempCardCount:function(t){var t=t||{};return e.send("/GET/tempCard/amount.json",{data:t})},getTempCardList:function(t){var t=t||{};return e.send("/GET/tempCard/list.json",{data:t})},borrowTempCard:function(t){var t=t||{};return e.send("/MOD/tempCard/borrow.json",{data:t})},delTempCard:function(t){var t=t||{};return e.send("/DEL/tempCard/tempCard.json",{data:t})},returnTempCard:function(t){var t=t||{};return e.send("/MOD/tempCard/return.json",{data:t})},addTempCard:function(t){var t=t||{};return e.send("/ADD/tempCard/tempCard.json",{data:t})},getMonthSalary:function(t){var t=t||{};return e.send("/GET/staff/monthSalary.json",{data:t})},forbidAccount:function(t){var t=t||{};return e.send("/MOD/staff/forbidAccount.json",{data:t})},changeMealSalaryMethod:function(t){var t=t||{};return e.send("/MOD/staff/mealSalaryMethod.json",{data:t})},getJobNumber:function(t){var t=t||{};return e.send("/MOD/staff/displayNumber.json",{data:t})},getWorkTarget:function(t){var t=t||{};return e.send("/GET/staff/workTarget.json",{data:t})}}}])}),define("common/service/adminRequest",["require","../app"],function(e){var t=e("../app");t.factory("adminRequest",["ajaxService",function(e){return{getAuth:function(t){var t=t||{};return e.send("/GET/staff/auth.json",{data:t})},modAuth:function(t){var t=t||{};return e.send("/MOD/staff/auth.json",{data:t})},modCompany:function(t){var t=t||{};return e.send("/MOD/company/company.json",{data:t})},modContractCompany:function(t){var t=t||{};return e.send("/MOD/contractCompany/contractCompany.json",{data:t})},modSocialSecurityCity:function(t){var t=t||{};return e.send("/MOD/socialSecurityCity/socialSecurityCity.json",{data:t})},modOffice:function(t){var t=t||{};return e.send("/MOD/office/office.json",{data:t})},modDepartment:function(t){var t=t||{};return e.send("/MOD/department/department.json",{data:t})},modScdDepartment:function(t){var t=t||{};return e.send("/MOD/scdDepartment/scdDepartment.json",{data:t})},addCompany:function(t){var t=t||{};return e.send("/ADD/company/company.json",{data:t})},addContractCompany:function(t){var t=t||{};return e.send("/ADD/contractCompany/contractCompany.json",{data:t})},addSocialSecurityCity:function(t){var t=t||{};return e.send("/ADD/socialSecurityCity/socialSecurityCity.json",{data:t})},addOffice:function(t){var t=t||{};return e.send("/ADD/office/office.json",{data:t})},addDepartment:function(t){var t=t||{};return e.send("/ADD/department/department.json",{data:t})},addScdDepartment:function(t){var t=t||{};return e.send("/ADD/scdDepartment/scdDepartment.json",{data:t})},getStuctureInfo:function(t){var t=t||{};return e.send("/GET/structure/info.json",{data:t})},getKeyNodeInfo:function(t){var t=t||{};return e.send("/GET/structure/keyNodeInfo.json",{data:t})},getStuctureStaffCount:function(t){var t=t||{};return e.send("/GET/structure/staffCount.json",{data:t})},getStructureAgentStaffCount:function(t){var t=t||{};return e.send("/GET/structure/agentStaffCount.json",{data:t})},delStucture:function(t){var t=t||{};return e.send("/MOD/structure/disable.json",{data:t})},enableStucture:function(t){var t=t||{};return e.send("/MOD/structure/enable.json",{data:t})},getStructure:function(t){var t=t||{},n=t.containDisabled;return t.containDisabled=typeof n=="undefined"?1:n,e.send("/GET/structure/list.json",{data:t})},addStructure:function(t){var t=t||{};return e.send("/ADD/structure/structure.json",{data:t})},modStructure:function(t){var t=t||{};return e.send("/MOD/structure/structure.json",{data:t})},getWorkdays:function(t){var t=t||{};return e.send("/GET/workday/days.json",{data:t})},modWorkdays:function(t){var t=t||{};return e.send("/MOD/calendar/calendar.json",{data:t})},modKeyInfo:function(t){var t=t||{};return e.send("/MOD/staff/keyInfo.json",{data:t})},getCalendarList:function(t){var t=t||{};return e.send("/GET/calendar/list.json",{data:t})},modCalendarName:function(t){var t=t||{};return e.send("/MOD/calendar/name.json",{data:t})},modCalendarDay:function(t){var t=t||{};return e.send("/GET/calendar/calendar.json",{data:t})},addCalendar:function(t){var t=t||{};return e.send("/ADD/calendar/calendar.json",{data:t})},getDisability:function(t){var t=t||{};return e.send("/GET/disability/list.json",{data:t})},addDisability:function(t){var t=t||{};return e.send("/ADD/disability/disability.json",{data:t})},delDisability:function(t){var t=t||{};return e.send("/DEL/disability/disability.json",{data:t})},getLevelTemplate:function(t){var t=t||{};return e.send("/GET/levelTemplate/list.json",{data:t})},addLevelTemplate:function(t){var t=t||{};return e.send("/ADD/levelTemplate/template.json",{data:t})},delLevelTemplate:function(t){var t=t||{};return e.send("/DEL/levelTemplate/template.json",{data:t})},modLevelTemplate:function(t){var t=t||{};return e.send("/MOD/levelTemplate/template.json",{data:t})},addLevel:function(t){var t=t||{};return e.send("/ADD/levelTemplate/level.json",{data:t})},delLevel:function(t){var t=t||{};return e.send("/DEL/levelTemplate/level.json",{data:t})},modLevel:function(t){var t=t||{};return e.send("/MOD/levelTemplate/level.json",{data:t})},getLevel:function(t){var t=t||{};return e.send("/GET/levelTemplate/levelList.json",{data:t})}}}])}),define("common/service/config",["require"],function(e){return{HR_TYPE:{HRBP:"HRBP",RECRUIT_HR:"ZPHR",SALARY_HR:"XCHR",RELATION_HR:"GXHR",TRAIN_HR:"PXHR"}}}),define("common/service/authUtil",["require","../app","./config"],function(e){var t=e("../app"),n=e("./config");t.factory("authUtil",["ajaxService","$rootScope",function(e,t){return{isManager:function(){return t.userInfo&&t.userInfo.isManager},isCommonUser:function(){return t.userInfo&&!(t.userInfo.isManager||t.userInfo.isAdmin||t.userInfo.isBasicHr)},isHR:function(){return this.isSalaryHR()||this.isTrainingHR()||this.isHRBP()||this.isRelationshipHR()||this.isRecruitHR()},isReception:function(){return t.userInfo&&!!t.userInfo.hasRoles.reception},isAdmin:function(){return t.userInfo&&t.userInfo.isAdmin},isAgent:function(){return t.userInfo&&t.userInfo.isAgent},isHRBP:function(){return t.userInfo&&!!t.userInfo.hasRoles.businessPartnerHR},isRecruitHR:function(){return t.userInfo&&!!t.userInfo.hasRoles.recruitHR},isSalaryHR:function(){return t.userInfo&&!!t.userInfo.hasRoles.salaryHR},isRelationshipHR:function(){return t.userInfo&&!!t.userInfo.hasRoles.relationshipHR},isTrainingHR:function(){return t.userInfo&&!!t.userInfo.hasRoles.trainingHR},isAssetManager:function(){return t.userInfo&&!!t.userInfo.hasRoles.assetManager},isItOwner:function(){return t.userInfo&&!!t.userInfo.hasRoles.itOwner},isStructureOwner:function(){return t.userInfo&&!!t.userInfo.hasRoles.roleOwner},canSearchStaff:function(){return this.isHRBP()||this.isSalaryHR()||this.isTrainingHR()||this.isRelationshipHR()||this.isSalaryHR()||this.isAdmin()?!0:!1},canDoTransFullTime:function(){return this.isHRBP()?!0:!1},canDoChangeStructure:function(){return this.isHRBP()?!0:!1},canDoChangeSalary:function(){return this.isHRBP()?!0:!1},canDoLeave:function(){return this.isHRBP()?!0:!1},isHeadquartersHR:function(){return t.userInfo&&t.userInfo.structureName.indexOf("人力资源部")!=-1}}}])}),define("common/service/login",["require","../app","./config"],function(e){var t=e("../app"),n=e("./config");t.factory("login",["$rootScope","$modal",function(e,t,n){return{show:function(){t.open({animation:!1,backdrop:"static",size:"sm",templateUrl:"src/common/service/login/login.html",controller:["$scope","$modalInstance","$http",function(e,t,n){e.saveHandler=function(){(!e.username||!e.password)&&alert("请输入用户名和密码"),n({method:"POST",url:"/GET/user/login.json",data:{password:e.password,username:e.username}}).success(function(e){e.status==200?window.location.reload():e.status==500?alert("系统异常"):(e.status==400||e.status==800)&&alert(e.error.message)})}}]})}}}])}),define("common/service/localStorage",["require","../app"],function(e){var t=e("../app");t.factory("localStorage",["ajaxService",function(e){return{set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){return JSON.parse(localStorage.getItem(e))}}}])}),define("common/service/loading",["require","../app","module/config"],function(e){var t=e("../app"),n=e("module/config");t.factory("loadingUtil",["$modal",function(e){return{showLoading:function(e){$("#loading-contrainer").removeClass("hide"),$("#loading-contrainer-back").removeClass("hide")},hideLoading:function(){$("#loading-contrainer").addClass("hide"),$("#loading-contrainer-back").addClass("hide")}}}])}),define("common/service/util",["require","../app","module/config","moment"],function(e){var t=e("../app"),n=e("module/config"),r=e("moment");t.factory("util",["ajaxService","$rootScope","$modal",function(e,t,i,s){var o=n.SALARY_TYPE[1].id;return{isEmpty:function(e){return angular.isUndefined(e)||e===""||e===null},alert:function(e){i.open({animation:!1,templateUrl:"src/common/service/alert/alert.html",controller:["$scope","$modalInstance",function(t,n){t.tip=e,t.closeHandler=function(){n.dismiss()}}],size:"sm"})},info:function(e){i.open({animation:!1,templateUrl:"src/common/service/info/info.html",controller:["$scope","$modalInstance","$timeout",function(t,n,r){t.tip=e,t.closeHandler=function(){n.dismiss()},r(function(){n.dismiss()},1e3)}],size:"sm"})},confirm:function(e,t){i.open({animation:!1,templateUrl:"src/common/service/confirm/confirm.html",controller:["$scope","$modalInstance",function(n,r){n.tip=e,n.saveHandler=function(){r.dismiss(),t()},n.closeHandler=function(){r.dismiss()}}],size:"sm"})},buildSelectOpitons:function(e,t){var r=[];for(var i in e)e.hasOwnProperty(i)&&r.push({id:+i,name:e[i]});return t&&r.unshift(n.EMPTY),r},findIndexInObjArr:function(e,t,n){for(var r=0,i;i=e[r++];)if(i[t]==n)return r-1;return-1},getObjById:function(e,t){var n=null;for(var r=0,i;i=e[r++];){if(i.id==t){n=i;break}if(i.children){var n=this.getObjById(i.children,t);if(n)break}}return n},getTreeData:function(e){var e=$.extend(!0,[],e);for(var t=0,n;n=e[t++];){n.label=n.name;if(n.parentId){var r=this.getObjById(e,n.parentId);r.children||(r.children=[]),r.children.push(n),t-=1,e.splice(t,1)}}return this.appendNodeLevelAndSort(e),e},getAgentStructure:function(e){var e=$.extend(!0,[],e);for(var t=0,n;n=e[0].children[t++];)n.label!=="合作伙伴"&&e[0].children.splice(t-1,1);return e},getParentKeyNodeItem:function(e,t){var n=this.getObjById(e,t);if(!n)return undefined;var r=n.parentId;while(r){if(n.isKeyNode)return n;n=this.getObjById(e,r);if(!n)return undefined;r=n.parentId}return e[0]},getParentIds:function(e,t){var n=this.getObjById(e,t);if(n)var r=n.parentId;return r?r:undefined},appendNodeLevelAndSort:function(e){var t=[],n=1;e=this.pinyinSort(e,"name");for(var r=0,i;i=e[r++];)i.level=n,t.push(i);while(t.length){var s=t.splice(0,1)[0],o=s.children;if(o){o=this.pinyinSort(o,"name");for(var r=0,i;i=o[r++];)i.level=s.level+1,t.push(i)}}},getSalaryNode:function(e,t){var n=[],r=t.userInfo.hasAllRoles.salaryHR;for(var i=0,s;s=e[i++];)s.isKeyNode&&$.inArray(s.id,r)!=-1&&n.push(s);return n},getPunchCard:function(e){var t=[];for(var n=0,r;r=e[n++];)r.isPunchCard&&t.push(r);return t},isNodeSalaryHR:function(e){var n=t.userInfo.hasRoles.salaryHR;return $.inArray(e,n)!=-1?!0:!1},canManageNodeSalary:function(e){var n=t.userInfo.hasAllRoles.salaryHR;return $.inArray(e,n)!=-1?!0:!1},getUsernameFromSuggestion:function(e){return e?e.split(",")[1]:undefined},getNameFromSuggestion:function(e){return e?e.split(",")[0]:undefined},getShowUserName:function(e,t){return e&&t?t+","+e:e?e:t?e:n.EMPTY_VALUE},merge:function(e,t){var n=$.merge(e,t);return $.unique(n)},formatTime:function(e){var t=new Date(+e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},validateLast7Day:function(e,t){var n=new Date(t),r=new Date,i=n.getDate(),s=r.getDate(),o=n.getMonth(),u=r.getMonth();return o<u&&n<r?(alert(e+"不能早于当前月份"),!1):n<r&&s-i>7?(alert(e+"不能早于当前时间7天"),!1):!0},forbidFieldOfLabor:function(e,t,r){var i=n.FORBID_OF_LABOR_STAFF;for(var s=0,u;u=i[s++];)e[u]&&(e[u].forbid=t,t&&(u=="trafficSubsidy"||u=="mobileSubsidy"||u=="probationarySalary"?r[u]={inputVal:undefined,selectVal:o}:r[u]=undefined))},forbidFieldOfRegular:function(e,t,r){var i=n.FORBID_OF_REGULAR_STAFF;for(var s=0,u;u=i[s++];)e[u]&&(e[u].forbid=t,t&&(u=="probationarySalary"?r[u]={inputVal:undefined,selectVal:o}:r[u]=undefined))},setDefaultSocialBase:function(e,t,n){function i(e,t){e>r[t+"Max"]?n[t+"Base"]=r[t+"Max"]:e<r[t+"Min"]?n[t+"Base"]=r[t+"Min"]:n[t+"Base"]=e}var e=e||{},r=t;if(r.socialSecurityBySalary){var s=typeof e.salary=="undefined"?+n.probationarySalary.inputVal:+e.salary;i(s,"socialSecurity"),i(s,"endow"),i(s,"medical"),i(s,"unemploy"),i(s,"injury"),i(s,"maternity");return}n.socialSecurityBase=r.socialSecurityDefault||0,n.endowBase=r.socialSecurityDefault||0,n.medicalBase=r.socialSecurityDefault||0,n.unemployBase=r.socialSecurityDefault||0,n.injuryBase=r.socialSecurityDefault||0,n.maternityBase=r.socialSecurityDefault||0},setDefaultHouseBase:function(e,t,n){var e=e||{},r=t;if(r.houseFundBySalary){var i=typeof e.salary=="undefined"?+n.probationarySalary.inputVal:+e.salary;i>r.houseFundMax?n.houseFundBase=r.houseFundMax:i<r.houseFundMin?n.houseFundBase=r.houseFundMin:n.houseFundBase=i;return}n.houseFundBase=r.houseFundDefault},validateSocialAndHouseFundBase:function(e,t){function n(e,n,r){var i=t[n+"Max"],s=t[n+"Min"],o=e[n+"Base"];return o>i?(alert(r+"缴纳基数须小于该城市缴纳上限"+i+"元"),!1):o<s?(alert(r+"缴纳基数须大于该城市缴纳下限"+s+"元"),!1):!0}var r=t.needFiveBase;return n(e,"socialSecurity","社保")?n(e,"houseFund","公积金")?r&&!n(e,"endow","养老保险")?!1:r&&!n(e,"unemploy","失业保险")?!1:r&&!n(e,"medical","医疗保险")?!1:r&&!n(e,"injury","工伤保险")?!1:r&&!n(e,"maternity","生育保险")?!1:!0:!1:!1},diffDaysFromNow:function(e){var t=r(),n=r(e.getTime());return n.diff(t,"days")},inputEmpty:function(e){return typeof e=="undefined"||e===""?!0:!1},getInputInt:function(e){return typeof e=="undefined"?0:+e},fix:function(e){return this.toFixed(+e,2)},toFixed:function(e,t){var n=""+e,r=n.match(/\.\d*/g);if(!r)return e;if(r[0].slice(1).length<=t)return e;var i=Math.abs(e).toString(),s=e<0,o,u;return i=i.substr(0,i.indexOf(".")+t+2),o=i.charAt(i.length-1),i=i.substr(0,i.length-1),o>=5&&(u=Math.pow(10,i.length-i.indexOf(".")-1),i=(+i+1/u).toFixed(t)),i*(s?-1:1)},getShortStructureName:function(e,t){var n=e.indexOf(t),r="";return n!=-1?r=e.slice(n+t.length+1):r=e,r==""&&(r=e),r},pinyinSort:function(e,t){return t?e.sort(function(e,n){return e[t].localeCompare(n[t])}):e.sort(function(e,t){return e.localeCompare(t)})}}}])}),define("jsLibrary/src/function/decimalLength",["require","exports","module"],function(e,t,n){"use strict";return function(e){var t=(""+e).split(".");return t.length===2?t[1].length:0}}),define("jsLibrary/src/function/float2Int",["require","exports","module"],function(e,t,n){"use strict";return function(e,t){var n=(""+e).split("."),r;return t>=0||(t=0),n.length===1?r=e+(new Array(t+1)).join("0"):(t=Math.max(0,t-n[1].length),r=n.join("")+(new Array(t+1)).join("0")),+r}}),define("jsLibrary/src/function/plus",["require","exports","module","./decimalLength","./float2Int"],function(e,t,n){"use strict";var r=e("./decimalLength"),i=e("./float2Int");return function(e,t){var n=Math.max(r(e),r(t));return e=i(e,n),t=i(t,n),(e+t)/Math.pow(10,n)}}),define("jsLibrary/src/function/minus",["require","exports","module","./decimalLength","./float2Int"],function(e,t,n){"use strict";var r=e("./decimalLength"),i=e("./float2Int");return function(e,t){var n=Math.max(r(e),r(t));return e=i(e,n),t=i(t,n),(e-t)/Math.pow(10,n)}}),define("jsLibrary/src/function/multiply",["require","exports","module","./decimalLength","./float2Int"],function(e,t,n){"use strict";var r=e("./decimalLength"),i=e("./float2Int");return function(e,t){var n=Math.max(r(e),r(t));e=i(e,n),t=i(t,n);var s=Math.pow(10,n);return e*t/(s*s)}}),define("jsLibrary/src/function/divide",["require","exports","module","./decimalLength","./float2Int"],function(e,t,n){"use strict";var r=e("./decimalLength"),i=e("./float2Int");return function(e,t){var n=Math.max(r(e),r(t));return e=i(e,n),t=i(t,n),e/t}}),define("common/service/bigDecimal",["require","../app","module/config","jsLibrary/src/function/plus","jsLibrary/src/function/minus","jsLibrary/src/function/multiply","jsLibrary/src/function/divide"],function(e){var t=e("../app"),n=e("module/config");t.factory("bigDecimal",[function(){return{add:function(t,n){return e("jsLibrary/src/function/plus")(t,n)},minus:function(t,n){return e("jsLibrary/src/function/minus")(t,n)},multiply:function(t,n){return e("jsLibrary/src/function/multiply")(t,n)},div:function(t,n){return e("jsLibrary/src/function/divide")(t,n)}}}])}),define("common/service/main",["require","./ajax","./hrRequest","./adminRequest","./authUtil","./login","./localStorage","./loading","./util","./bigDecimal"],function(e){e("./ajax"),e("./hrRequest"),e("./adminRequest"),e("./authUtil"),e("./login"),e("./localStorage"),e("./loading"),e("./util"),e("./bigDecimal")}),define("common/filter/sex",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("sex",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.SEX[e]}})}),define("common/filter/degree",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("degree",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.DEGREE[e]}})}),define("common/filter/maritalStatus",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("maritalStatus",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.MARITAL_STATUS[e]}})}),define("common/filter/probationary",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("probationaryPeriod",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.PROBATIONARY[e]}})}),define("common/filter/salary",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("salary",function(){return function(e){return e===null||typeof e=="undefined"||typeof e.value=="undefined"?n.EMPTY_VALUE:e.value+n.SALARY_TYPE[e.salaryType]}})}),define("common/filter/type",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("type",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.TYPE[e]}})}),define("common/filter/dateFormat",["require","../app","module/nameConfig","moment"],function(e){var t=e("../app"),n=e("module/nameConfig"),r=e("moment");t.filter("dateFormat",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:r(+e).format("YYYY-MM-DD")}})}),define("common/filter/timeFormat",["require","../app","module/nameConfig","moment"],function(e){var t=e("../app"),n=e("module/nameConfig"),r=e("moment");t.filter("timeFormat",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:r(e).format("YYYY-MM-DD HH:mm:ss")}})}),define("common/filter/emptyFormat",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("emptyFormat",["util",function(e){return function(t){return e.isEmpty(t)?n.EMPTY_VALUE:t}}])}),define("common/filter/abandonReason",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("abandonReason",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.ABANDON_REASON[e]}})}),define("common/filter/staffStatus",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("staffStatus",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.STAFF_STATUS[e]}})}),define("common/filter/pcType",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("pcType",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.PC_TYPE[e]}})}),define("common/filter/foreign",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("foreign",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.FOREIGN_STATUS[e]}})}),define("common/filter/accountType",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("accountType",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.ACCOUNT_TYPE[e]}})}),define("common/filter/isGraduate",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("isGraduate",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.GRADUATE_STATUS[e]}})}),define("common/filter/contractTime",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("contractTime",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.CONTACT_TIME[e]}})}),define("common/filter/recommendType",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("recommendType",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.RECOMMEND_TYPE[e]}})}),define("common/filter/salaryType",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("salaryType",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.SALARY_MODE[e]}})}),define("common/filter/applyStatus",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("applyStatus",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.APPLY_STATUS_NAME[e]}})}),define("common/filter/applyHandleStatus",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("applyHandleStatus",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.APPLY_HANDLE_STATUS_NAME[e]}})}),define("common/filter/boolean",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("boolean",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:e?"是":"否"}})}),define("common/filter/unit",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("unit",function(){return function(e,t){return e===null||typeof e=="undefined"?n.EMPTY_VALUE:e+t}})}),define("common/filter/tempCardStatus",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("tempCardStatus",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.TEMP_CARD_STATUS[e]}})}),define("common/filter/punchCard",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("punchCard",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.PUNCH_CARD[e]}})}),define("common/filter/idCardType",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("idCardType",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.ID_CARD_TYPE[e]}})}),define("common/filter/mealSalaryMethod",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("mealSalaryMethod",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.MEAL_SALARY_METHOD[e]}})}),define("common/filter/weekendShow",["require","../app"],function(e){var t=e("../app");t.filter("weekendShow",function(){return function(e){if($.isNumeric(e)){var t=parseInt(e);return t===0?"工作日":t===1?"休息日":"--"}return"--"}})}),define("common/filter/remotePunchCard",["require","../app","module/nameConfig"],function(e){var t=e("../app"),n=e("module/nameConfig");t.filter("remotePunchCard",function(){return function(e){return e===null||e===""||typeof e=="undefined"?n.EMPTY_VALUE:n.REMOTE_PUNCH_CARD[e]}})}),define("common/filter/main",["require","./sex","./degree","./maritalStatus","./probationary","./salary","./type","./dateFormat","./timeFormat","./emptyFormat","./abandonReason","./staffStatus","./pcType","./foreign","./accountType","./isGraduate","./contractTime","./recommendType","./salaryType","./applyStatus","./applyHandleStatus","./boolean","./unit","./tempCardStatus","./punchCard","./idCardType","./mealSalaryMethod","./weekendShow","./remotePunchCard"],function(e){e("./sex"),e("./degree"),e("./maritalStatus"),e("./probationary"),e("./salary"),e("./type"),e("./dateFormat"),e("./timeFormat"),e("./emptyFormat"),e("./abandonReason"),e("./staffStatus"),e("./pcType"),e("./foreign"),e("./accountType"),e("./isGraduate"),e("./contractTime"),e("./recommendType"),e("./salaryType"),e("./applyStatus"),e("./applyHandleStatus"),e("./boolean"),e("./unit"),e("./tempCardStatus"),e("./punchCard"),e("./idCardType"),e("./mealSalaryMethod"),e("./weekendShow"),e("./remotePunchCard")}),define("common/main",["require","./app","./directive/main","./service/main","./filter/main"],function(e){e("./app"),e("./directive/main"),e("./service/main"),e("./filter/main")}),define("module/home/app",["require"],function(e){return angular.module("app.home",["ui.router"])}),define("module/hr/app",["require"],function(e){return angular.module("app.hr",["ui.router"])}),define("module/hr/directive/educationInfo/directive",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.directive("educationInfo",["ajaxService","hrRequest",function(e,t){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/module/hr/directive/educationInfo/tpl.html",replace:!1,compile:function(e,r,i,s){return{pre:function(e,t,r,i){var s="educationForm";e.inputOptions={start:{required:!0,displayName:"开始时间",name:"start",formName:s,type:"month"},end:{required:!0,displayName:"结束时间",name:"end",formName:s,type:"month"},school:{required:!0,displayName:"学校",name:"school",formName:s,maxLength:15,placeholder:"少于15个字"},discipline:{required:!0,displayName:"专业",name:"discipline",formName:s,maxLength:15,placeholder:"少于15个字"},degree:{required:!0,displayName:"学历",name:"degree",formName:s,mode:"select",items:n.DEGREE}}},post:function(e,n,r,i){function s(){e.editInfo={startShow:undefined,endShow:undefined,school:undefined,discipline:undefined,degree:undefined}}function o(){e.editInfo={start:e.start,end:e.end,school:e.school,discipline:e.discipline,degree:e.degree}}e.onDel=function(){confirm("确认删除该条信息吗？",function(){t.delEducationExperience({id:e.id}).then(function(t){info("删除成功");if(e.$parent.$parent.eduExperList&&e.$parent.$parent.eduExperienceId){var r=0;e.$parent.$parent.eduExpList.indexOf(e.id)!==-1&&(r=e.$parent.$parent.eduExpList.indexOf(e.id),e.$parent.$parent.eduExpList.splice(r,1)),e.$parent.$parent.eduExperienceId.indexOf(e.id)!==-1&&(r=e.$parent.$parent.eduExperienceId.indexOf(e.id),e.$parent.$parent.eduExperienceId.splice(r,1))}i.$setViewValue({}),$(n).html("")})})},e.onEditSave=function(n){n.$submitted=!0;if(!n.$valid)return;var r=e.editInfo.start.getTime(),s=e.editInfo.end.getTime();if(r>s){alert("结束时间必须大于开始时间");return}var o={id:e.id,start:r,end:s,school:e.editInfo.school,discipline:e.editInfo.discipline,degree:e.editInfo.degree};t.modEducationExperience(o).then(function(t){info("修改成功"),e.editing=!1,e.start=e.editInfo.start,e.end=e.editInfo.end,e.startShow=e.formatMonth(e.editInfo.start),e.endShow=e.formatMonth(e.editInfo.end),e.school=e.editInfo.school,e.discipline=e.editInfo.discipline,e.degree=e.editInfo.degree,i.$setViewValue(o)})},e.onEdit=function(){e.editing=!0,o()},e.onCancelEdit=function(){e.editing=!1,s()},e.formatMonth=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)},i.$formatters.push(function(e){return e}),i.$parsers.push(function(e){return e}),i.$render=function(){e.id=i.$viewValue.id,e.start=i.$viewValue.start,e.end=i.$viewValue.end,e.school=i.$viewValue.school,e.discipline=i.$viewValue.discipline,e.degree=i.$viewValue.degree,e.disable=i.$viewValue.disable,e.startShow=e.formatMonth(e.start),e.endShow=e.formatMonth(e.end)}}}}}}])}),define("module/hr/directive/workInfo/directive",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.directive("workInfo",["ajaxService","hrRequest",function(e,t){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/module/hr/directive/workInfo/tpl.html",replace:!1,compile:function(e,n,r,i){return{pre:function(e,t,n,r){var i="workForm";e.inputOptions={start:{required:!0,displayName:"开始时间",name:"start",formName:i,type:"month",placeholder:"YYYY-MM"},end:{required:!0,displayName:"结束时间",name:"end",formName:i,type:"month"},company:{required:!0,displayName:"单位",name:"company",formName:i,maxLength:30,placeholder:"少于30个字"},position:{required:!0,displayName:"职位",name:"position",formName:i,maxLength:30,placeholder:"少于30个字"}}},post:function(e,n,r,i){function s(){e.editInfo={start:e.start,end:e.end,company:e.company,position:e.position}}function o(){e.editInfo={start:undefined,end:undefined,company:undefined,position:undefined}}e.onDel=function(){confirm("确认删除该条信息吗？",function(){t.delWorkExperience({id:e.id}).then(function(t){info("删除成功");if(e.$parent.$parent.workExpList&&e.$parent.$parent.workExperienceId){var r=0;e.$parent.$parent.workExpList.indexOf(e.id)!==-1&&(r=e.$parent.$parent.workExpList.indexOf(e.id),e.$parent.$parent.workExpList.splice(r,1)),e.$parent.$parent.workExperienceId.indexOf(e.id)!==-1&&(r=e.$parent.$parent.workExperienceId.indexOf(e.id),e.$parent.$parent.workExperienceId.splice(r,1))}i.$setViewValue({}),$(n).html("")})})},e.onEditSave=function(n){n.$submitted=!0;if(!n.$valid)return;var r=e.editInfo.start.getTime(),s=e.editInfo.end.getTime();if(r>s){alert("结束时间必须大于开始时间");return}var o={id:e.id,start:r,end:s,company:e.editInfo.company,position:e.editInfo.position};t.modWorkExperience(o).then(function(t){info("修改成功"),e.editing=!1,e.start=e.editInfo.start,e.end=e.editInfo.end,e.startShow=e.formatMonth(e.editInfo.start),e.endShow=e.formatMonth(e.editInfo.end),e.company=e.editInfo.company,e.position=e.editInfo.position,i.$setViewValue(o)})},e.onEdit=function(){e.editing=!0,s()},e.onCancelEdit=function(){e.editing=!1,o()},e.formatMonth=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)},i.$formatters.push(function(e){return e}),i.$parsers.push(function(e){return e}),i.$render=function(){e.id=i.$viewValue.id,e.start=i.$viewValue.start,e.end=i.$viewValue.end,e.company=i.$viewValue.company,e.position=i.$viewValue.position,e.disable=i.$viewValue.disable,e.startShow=e.formatMonth(e.start),e.endShow=e.formatMonth(e.end)}}}}}}])}),define("module/hr/directive/familyInfo/directive",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.directive("familyInfo",["ajaxService","hrRequest",function(e,t){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/module/hr/directive/familyInfo/tpl.html",replace:!1,compile:function(e,r,i,s){return{pre:function(e,t,n){var r="familyForm";e.inputOptions={name:{required:!0,displayName:"姓名",name:"name",formName:r,maxLength:30,placeholder:"少于30个字"},title:{required:!0,displayName:"称谓",name:"title",formName:r,maxLength:30,placeholder:"少于30个字"},birthday:{required:!1,displayName:"生日",name:"birthday",formName:r,type:"date",placeholder:"YYYY-MM-DD",filter:"dateFormat"},company:{required:!1,displayName:"单位",name:"company",formName:r,maxLength:30,placeholder:"少于30个字"},position:{required:!1,displayName:"职位",name:"position",formName:r,maxLength:30,placeholder:"少于30个字"},mobile:{required:!1,displayName:"联系电话",maxLength:15,name:"mobile",formName:r,pattern:"\\d*",placeholder:"少于15个数字"}}},post:function(e,r,i){function s(){e.editInfo=$.extend(!0,e.editInfo,e.options),e.editInfo.birthday=e.editInfo.birthday&&new Date(e.editInfo.birthday)}function o(){e.editInfo={name:undefined,title:undefined,birthday:undefined,company:undefined,position:undefined,mobile:undefined}}e.emptyValue=n.EMPTY_VALUE,e.onDel=function(){confirm("确认删除该条信息吗？",function(){t.delFamilyMember({id:e.options.id}).then(function(e){info("删除成功"),$(r).html("")})})},e.onEditSave=function(n){n.$submitted=!0;if(!n.$valid)return;var r={id:e.editInfo.id,name:e.editInfo.name,title:e.editInfo.title,birthday:e.editInfo.birthday&&e.editInfo.birthday.getTime(),company:e.editInfo.company,position:e.editInfo.position,mobile:e.editInfo.mobile};t.modFamilyMember(r).then(function(t){info("修改成功"),$.extend(!0,e.options,r),e.editing=!1})},e.onEdit=function(){e.editing=!0,s()},e.onCancelEdit=function(){e.editing=!1,o()}}}}}}])}),define("module/hr/directive/main",["require","./educationInfo/directive","./workInfo/directive","./familyInfo/directive"],function(e){e("./educationInfo/directive"),e("./workInfo/directive"),e("./familyInfo/directive")}),define("module/hr/newer/options/baseInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{name:{required:!1,displayName:"常用名",maxLength:5,name:"name",formName:t,placeholder:"少于5个字，不填默认同法律名"},nickName:{required:!0,displayName:"昵称",maxLength:5,name:"name",formName:t,placeholder:"少于5个字"},namePinyin:{required:!0,displayName:"姓名拼音",maxLength:15,name:"namePinyin",formName:t,pattern:"[a-z]*",placeholder:"用于生成邮箱，少于15个字符"},sex:{required:!0,displayName:"性别",name:"sex",formName:t,mode:"select",items:n.SEX,filter:"sex"},degree:{required:!0,displayName:"学历",name:"degree",formName:t,mode:"select",items:n.DEGREE,filter:"degree"},lawName:{required:!0,displayName:"法律名",maxLength:5,name:"lawName",formName:t,placeholder:"少于5个字"},idCardNumber:{required:!1,displayName:"身份证号",maxLength:18,name:"idCardNumber",formName:t,pattern:"[0-9a-zA-Z()（）]*",placeholder:"少于18个字"}}}}),define("module/hr/newer/options/contactInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{mobile:{required:!1,displayName:"手机号",maxLength:15,name:"mobile",formName:t,pattern:"\\d*",placeholder:"少于15个数字",prefixClass:"blue"},personalEmail:{required:!1,displayName:"邮箱",maxLength:50,name:"personalEmail",formName:t,type:"email",placeholder:"50位英文字母+数字+字符"}}}}),define("module/hr/newer/options/info",["require","module/config"],function(e){return function(t,n){var r=e("module/config");return{type:{required:!1,displayName:"员工类型",mode:"select",formName:t,name:"type",items:r.TYPE,prefixClass:"blue",filter:"type",changeHandler:n.typeChange},structure:{required:!1,displayName:"组织架构",name:"structure",formName:t,manageNodes:n.userInfo.hasRoles.recruitHR,mode:"structure",prefixClass:"blue"},level:{required:!1,displayName:"等级",mode:"select",formName:t,name:"level",items:[],prefixClass:"blue"},position:{required:!1,displayName:"职位",mode:"select",formName:t,name:"position",items:[],prefixClass:"blue"},leader:{required:!1,displayName:"直属领导",mode:"nameSuggestion",formName:t,name:"leader",prefixClass:"blue"},formalDate:{required:!1,displayName:"转正日期",mode:"select",formName:t,name:"formalDate",items:[],prefixClass:"blue"},promiseEnterDate:{required:!1,displayName:"入职时间",name:"promiseEnterDate",formName:t,placeholder:"yy-MM-dd",type:"date",prefixClass:"blue"},contractCompany:{required:!1,displayName:"合同签约公司",mode:"select",formName:t,name:"contractCompany",items:[],prefixClass:"blue"},socialSecurityCity:{required:!1,displayName:"社保缴纳城市",mode:"select",name:"socialSecurityCity",formName:t,items:[]}}}}),define("module/hr/newer/options/otherInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{resumeStorageId:{required:!1,displayName:"电子简历",name:"resumeStorageId",formName:t,prefixClass:"blue",mode:"file"},pcType:{required:!1,displayName:"配备电脑",name:"pcType",formName:t,mode:"select",items:n.PC_TYPE,prefixClass:"blue",filter:"pcType"},detail:{required:!1,displayName:"备注",maxLength:200,name:"detail",formName:t,placeholder:"少于200个字",mode:"textarea"},recommendType:{required:!1,displayName:"入职推荐途径",name:"recommendType",formName:t,mode:"select",items:n.RECOMMEND_TYPE,prefixClass:"blue",filter:"recommendType"},recommendDetail:{required:!1,displayName:"推荐详情",maxLength:30,name:"recommendDetail",formName:t,placeholder:"少于30个字"}}}}),define("module/hr/newer/options/salaryInfo",["require","module/config"],function(e){return function(t,n){function i(e){return e&&e.input?e.input+e.select:"-"}var r=e("module/config");return{baseSalary:{required:!1,displayName:"基本工资",maxLength:10,name:"baseSalary",formName:t,placeholder:"",items:r.SALARY_TYPE,type:"number",mode:"combine",pattern:"\\d*",prefixClass:"blue"},probationarySalary:{required:!1,displayName:"试用期基本工资",maxLength:10,name:"probationarySalary",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine",prefixClass:"blue",changeHandler:n.probationarySalaryChange},salaryType:{required:!1,displayName:"工资类型",name:"salaryType",formName:t,mode:"select",items:r.SALARY_MODE,prefixClass:"blue",filter:"salaryType"},socialSecurityBase:{required:!1,displayName:"社保缴纳基数",name:"socialSecurityBase",formName:t,placeholder:"",pattern:r.BASE_REG_STR,prefixClass:"blue",postfix:"元"},houseFundBase:{required:!1,displayName:"公积金缴纳基数",name:"houseFundBase",formName:t,placeholder:"",pattern:r.BASE_REG_STR,prefixClass:"blue",postfix:"元"},trafficSubsidy:{required:!1,displayName:"交通补贴",maxLength:10,name:"trafficSubsidy",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine",prefixClass:"blue"},mobileSubsidy:{required:!1,displayName:"通讯补贴",maxLength:10,name:"mobileSubsidy",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine",prefixClass:"blue"},reportAddress:{required:!1,displayName:"报道地址",mode:"select",name:"reportAddress",formName:t,items:[],prefixClass:"blue"}}}}),define("module/hr/newer/options/editInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{reason:{required:!1,displayName:"变动原因",maxLength:200,name:"reason",formName:t,placeholder:"少于200个字",mode:"textarea"}}}}),define("module/hr/config",["require"],function(e){return{OPT_TYPE:{COMMIT:2,SAVE:1},SEARCH_TYPE:{SUBORDINATE:1,HR:2,ADMIN:3,OWNER:4},PATH:{NEW_STAFF_EXPORT:"EXPORT/staff/preEnterInfo.json",STAFF_EXPORT:"EXPORT/staff/list.json"},CHINESE_ID_CARD_NUMBER_LENGTH:18,BRANCH_COMPANY_FLAG:"分公司",DIMISSION_STATUS:{NOT_APPLY:0,APPLY_PASSED:1,HAS_LEAVED:2}}}),define("module/apply/config",["require"],function(e){return{TAB_CODE:{TO_HANDLE:0,HAS_HANDLED:1,PROMOTE_MYSELF:4},STATUS_CODE:{TO_HANDLE:0,IN_PROCESS:1,PASS:5,REJECT:3,CANCEL:4,TO_EXCUTE:2},HANDLE_RESULT:{AGREE:2,REJECT:3},EXECUTE_TIP_DAYS:5,EXECUTE_TIP:"生效日期距离当前时间比较近，如月底之前未审批通过，将自动变为无效审批,确认提交该审批吗？",TRANSFULL_EXECUTE_TIP:"转正日期距离当前时间比较近，如转正日期之前未被审批通过，将自动变为无效审批,确认提交该审批吗？",LEAVE_EXECUTE_TIP:"最后工作日期距离当前时间比较近，如最后工作日期之前未被审批通过，将自动变为无效审批,确认提交该审批吗？",SUCCESS_TIP:"已经进入审批流程，请注意查看邮件。",EXECUTE_DATE_TIP:"生效日期指通过审批后，变更实际生效的日期。生效日期当月月底前未能通过的审批，需重新发起。",WORK_TARGET_EXECUTE_TIP:"确定要提交试用期工作目标吗？",FORMAL_APPLY_EXECUTE_TIP:"确定要提交转正申请吗？"}}),define("module/hr/newer/controller",["require","../app","./options/baseInfo","./options/contactInfo","./options/info","./options/otherInfo","./options/salaryInfo","./options/editInfo","module/config","module/codeConfig","../config","module/apply/config","moment"],function(e){var t=e("../app"),n=e("./options/baseInfo"),r=e("./options/contactInfo"),i=e("./options/info"),s=e("./options/otherInfo"),o=e("./options/salaryInfo"),u=e("./options/editInfo"),a=e("module/config"),f=e("module/codeConfig"),l=f.TYPE_CODE,c=e("../config"),h=f.STAFF_STATUS_CODE,p=a.SALARY_TYPE[1].id,d=e("module/apply/config"),v=e("moment");t.controller("newerCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","hrUtil","hrOptUtil","util","$filter",function(e,t,d,m,g,y,b,w,E){function N(){C(),k(),e.initScopeVar(),e.entry=="newerEdit"&&e.getInfo(),e.entry=="rejoin"&&b.rejoin(U),e.getContractCompany(),z(),Y()}function C(){e.entry="";switch(g.current.name){case"hr.newerEdit":e.entry="newerEdit";break;case"hr.rejoin":e.entry="rejoin"}}function k(){e.title="添加offer",e.canEdit=!1,e.number=m.get("number"),e.fromApply=!1,e.entry=="newerEdit"&&(e.title="offer信息",e.isReadOnly=!0,e.canEdit=!0),e.entry=="rejoin"&&(e.title="员工再入职")}function L(){D(e.baseOptions),D(e.contactOptions),D(e.infoOptions),D(e.otherOptions),D(e.salaryOptions),D(e.fiveBaseOptions),e.infoOptions.position.displayValue=e.positionName,e.infoOptions.formalDate.displayValue=e.formalDate&&v(e.infoOptions.formalDate.items[e.formalDate-1].name).format("YYYY-MM-DD"),e.infoOptions.contractCompany.displayValue=e.contractCompanyName,e.infoOptions.socialSecurityCity.displayValue=e.socialSecurityCityName,e.salaryOptions.baseSalary.displayValue=A(e.baseSalary),e.salaryOptions.reportAddress.displayValue=e.reportAddressName,e.salaryOptions.probationarySalary.displayValue=A(e.probationarySalary),e.salaryOptions.trafficSubsidy.displayValue=A(e.trafficSubsidy),e.salaryOptions.mobileSubsidy.displayValue=A(e.mobileSubsidy),e.infoOptions.level.displayValue=e.level}function A(e){return E("salary")({value:e.inputVal,salaryType:e.selectVal})}function O(){P(e.baseOptions),P(e.contactOptions),P(e.infoOptions),P(e.otherOptions),P(e.salaryOptions),P(e.fiveBaseOptions),e.isEditing=!0,e.isReadOnly=!1}function M(t,n){if($.inArray(t,e.notRequiredFieldWhenSubmit)!=-1)return!0;var r=e.type;if(r!=l.INTERNS&&r!=l.LABOR||$.inArray(t,T)==-1){if(t=="probationarySalary"||t=="baseSalary"||t=="mobileSubsidy"||t=="trafficSubsidy"){var i=e[t].inputVal;if(typeof i=="undefined"||i==null)return n[t].$setViewValue(undefined),n[t].$setValidity("required",!1),!1}if(t=="structure"){if(!e[t]||!e[t].id)return n[t].$error.requiredSubmitted=!0,!1}else if(typeof e[t]=="undefined")return t=="promiseEnterDate"?n[t].$error.dateRequired=!0:t=="leader"?n[t].$error.sugguestionRequired=!0:n[t].$error.requiredSubmitted=!0,!1;return t=="promiseEnterDate"?n[t].$error.dateRequired=!1:t=="leader"?n[t].$error.sugguestionRequired=!1:n[t].$error.requiredSubmitted=!1,!0}return!0}function _(e,t){var n=!0;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r].name;M(i,t)||(n=!1)}return n}function D(e){for(var t in e)e[t].disable=!0}function P(e){for(var t in e)t!="name"&&t!="lawName"&&t!="namePinyin"&&(e[t].disable=!1)}function H(){e.type===1?e.contractEndDate=e.promiseEnterDate&&new Date(v(e.promiseEnterDate).add(3,"year").format()):e.contractEndDate=e.promiseEnterDate&&new Date(v(e.promiseEnterDate).add(6,"month").format());var t={name:e.name||e.lawName,namePinyin:e.namePinyin,sex:e.sex,degree:e.degree,lawName:e.lawName,mobile:e.mobile,personalEmail:e.personalEmail,idCardNumber:e.idCardNumber,type:e.type,contractCompany:e.contractCompany,socialSecurityCity:e.socialSecurityCity,structure:e.structure&&e.structure.id,structureName:e.structure&&e.structure.name,level:e.level,position:e.position,formalDate:e.formalDate&&(new Date(e.infoOptions.formalDate.items[e.formalDate-1].name)).getTime(),promiseEnterDate:e.promiseEnterDate&&e.promiseEnterDate.getTime(),contractEndDate:e.contractEndDate&&e.contractEndDate.getTime(),leader:w.getUsernameFromSuggestion(e.leader),baseSalary:y.getSalary(e.baseSalary),probationarySalary:y.getSalary(e.probationarySalary),mobileSubsidy:y.getSalary(e.mobileSubsidy),trafficSubsidy:y.getSalary(e.trafficSubsidy),socialSecurityBase:+e.socialSecurityBase,houseFundBase:+e.houseFundBase,salaryType:+e.salaryType,reportAddress:+e.reportAddress,pcType:e.pcType,recommendType:e.recommendType,resumeStorageId:e.resumeStorageId};return x.needFiveBase&&(t.endowBase=+e.endowBase,t.unemployBase=+e.unemployBase,t.medicalBase=+e.medicalBase,t.injuryBase=+e.injuryBase,t.maternityBase=+e.maternityBase),t}function B(t,n){e[t]&&(n[t]=e[t])}function j(t){for(var n in t)t.hasOwnProperty(n)&&(n=="baseSalary"||n=="probationarySalary"||n=="mobileSubsidy"||n=="trafficSubsidy"?e[n]={inputVal:undefined,selectVal:p}:n=="resumeStorageId"?(e.otherOptions.resumeStorageId.fileUrl=undefined,e.resumeStorageId=undefined):e[n]=undefined);e.levelIndex=undefined}function F(n){var n=e.newerEnterForm;if(!n.$valid)return;var r=H();if(!w.validateSocialAndHouseFundBase(r,x))return;r.optType=c.OPT_TYPE.SAVE,B("detail",r),B("recommendDetail",r),B("scdDepartment",r);var i=t.savePreEnterInfo;e.entry=="newerEdit"&&(i=t.modPreEnterInfo,r.number=e.number),i(r).then(function(t){info("操作成功"),e.entry!="newerEdit"&&m.set("number",t.data.number),j(r),n.$submitted=!1})}function I(){var n=e.newerEnterForm;if(!x.needFiveBase){var r=e.socialSecurityBase;e.endowBase=r,e.unemployBase=r,e.medicalBase=r,e.injuryBase=r,e.maternityBase=r}var i=_(e.baseOptions,n),s=_(e.contactOptions,n),o=_(e.infoOptions,n),u=_(e.otherOptions,n),a=_(e.salaryOptions,n),l=_(e.fiveBaseOptions,n);if(!n.$valid||!i||!s||!o||!u||!a||!l)return;var h=H();if(!w.validateSocialAndHouseFundBase(h,x))return;if(h.type==f.TYPE_CODE.REGULAR&&!h.socialSecurityCity){alert("正式员工必须填写社保缴纳城市");return}h.optType=c.OPT_TYPE.COMMIT,B("detail",h),B("recommendDetail",h),B("scdDepartment",h);if(S!=h.promiseEnterDate&&!w.validateLast7Day("入职时间",h.promiseEnterDate))return;var p=t.submitPreEnterInfo,d={content:h,type:f.APPLY_CODE.STAFF_ENTER};if(e.entry=="rejoin"){var v=e.number;d.type=f.APPLY_CODE.REJOIN,d.editedNumber=v,d.content.number=v}if(e.entry=="newerEdit"){var v=e.number;e.optType==c.OPT_TYPE.COMMIT?d.type=f.APPLY_CODE.OFFER_CHANGE:d.type=f.APPLY_CODE.STAFF_ENTER,d.editedNumber=v,d.content.number=v,d.reason=e.reason}p(d).then(function(t){alert("系统已经接受了您的请求，开始审批流程，请注意查看审批结果邮件"),j(h),e.entry=="newerEdit"&&g.go("hr.newer"),n.$submitted=!1})}function q(){e.optType==c.OPT_TYPE.COMMIT&&(e.canSave=!1,e.commited=!0),e.status==h.DRAFT||e.status==h.TO_JOIN?e.showAbandonBtn=!0:e.showAbandonBtn=!1,e.entry=="rejoin"&&(e.canSave=!1,e.showAbandonBtn=!1),e.status==h.ABANDED&&(e.showAbandonInfo=!0)}function R(){e.promiseEnterDate&&(S=e.promiseEnterDate,e.promiseEnterDate=new Date(e.promiseEnterDate),e.type===1&&(e.infoOptions.formalDate.items=[{id:1,name:v(e.promiseEnterDate).add(3,"month").format("YYYY/MM/DD")},{id:2,name:v(e.promiseEnterDate).add(6,"month").format("YYYY/MM/DD")}])),e.formalDate&&(+v(e.promiseEnterDate).add(3,"month").format("YYYYMMDD")==+v(e.formalDate).format("YYYYMMDD")?e.formalDate=1:e.formalDate=2),e.mobile=e.mobile,e.leader&&(e.leader=e.leaderName+","+e.leader),e.baseSalary=y.transSalaryInfo(e.baseSalary),e.probationarySalary=y.transSalaryInfo(e.probationarySalary),e.mobileSubsidy=y.transSalaryInfo(e.mobileSubsidy),e.trafficSubsidy=y.transSalaryInfo(e.trafficSubsidy),e.structure={id:e.structure,name:e.structureName},e.otherOptions.resumeStorageId.fileUrl=e.resumeUrl}function U(t){$.extend(!0,e,t.staffInfo),G(e.type),e.baseOptions.name.disable=!0,e.baseOptions.namePinyin.disable=!0,e.baseOptions.lawName.disable=!0,e.baseOptions.idCardNumber.disable=!0,e.baseOptions.sex.disable=!0,R(),q()}function z(){t.getSocialSecurityCity().then(function(t){t.data.unshift(a.EMPTY),e.infoOptions.socialSecurityCity.items=t.data})}function W(n,r){t.getSocialSecurityCity({socialSecurityCity:n}).then(function(t){x=t.data[0],e.needFiveBase=x.needFiveBase,r||(X(),V())})}function X(t){var t=t||{};typeof t.type=="undefined"?type=e.type:type=t.type;if(type==l.INTERNS||type==l.LABOR)return;w.setDefaultSocialBase(t,x,e)}function V(t){var t=t||{},n=x;typeof t.type=="undefined"?type=e.type:type=t.type;if(type==l.INTERNS||type==l.LABOR)return;if(n.houseFundBySalary){var r=typeof t.salary=="undefined"?+e.probationarySalary.inputVal:+t.salary;r>n.houseFundMax?e.houseFundBase=n.houseFundMax:r<n.houseFundMin?e.houseFundBase=n.houseFundMin:e.houseFundBase=r;return}e.houseFundBase=n.houseFundDefault}function J(e){X({salary:e}),V({salary:e})}function K(e){X({type:e}),V({type:e}),G(e)}function Q(e){}function G(t){t==l.INTERNS||t==l.LABOR?(w.forbidFieldOfLabor(e.baseOptions,!0,e),w.forbidFieldOfLabor(e.contactOptions,!0,e),w.forbidFieldOfLabor(e.infoOptions,!0,e),w.forbidFieldOfLabor(e.otherOptions,!0,e),w.forbidFieldOfLabor(e.salaryOptions,!0,e),w.forbidFieldOfLabor(e.fiveBaseOptions,!0,e)):(w.forbidFieldOfLabor(e.baseOptions,!1,e),w.forbidFieldOfLabor(e.contactOptions,!1,e),w.forbidFieldOfLabor(e.infoOptions,!1,e),w.forbidFieldOfLabor(e.otherOptions,!1,e),w.forbidFieldOfLabor(e.salaryOptions,!1,e),w.forbidFieldOfLabor(e.fiveBaseOptions,!1,e))}function Y(){t.getOffice().then(function(t){t.data.unshift(a.EMPTY),e.salaryOptions.reportAddress.items=t.data})}function Z(e,t){var n="";if(typeof t!="undefined")for(var r=0;r<e.length;r++)if(e[r].id===t){n=e[r].name;break}return n}function et(){var t=e.newerEnterForm;if(!t.$valid)return;var n=tt();b.showOfferDetail(n)}function tt(){var t="";if(e.position)for(var n=0;n<e.infoOptions.position.items.length;n++)if(e.infoOptions.position.items[n].id===e.position){t=e.infoOptions.position.items[n].name;break}var r={lawName:e.lawName,promiseEnterDate:typeof e.promiseEnterDate=="undefined"?"":e.promiseEnterDate,office:Z(e.salaryOptions.reportAddress.items,e.reportAddress),structure:typeof e.structure=="undefined"?"":e.structure.name,position:Z(e.infoOptions.position.items,e.position),probationarySalary:typeof e.probationarySalary.inputVal=="undefined"?"":e.probationarySalary.inputVal,baseSalary:typeof e.baseSalary.inputVal=="undefined"?"":e.baseSalary.inputVal,formalDate:e.formalDate,type:e.type};return r}e.save=F,e.submit=I;var S="",x={};e.probationarySalaryChange=J,e.typeChange=K,e.showOfferDetail=et;var T=a.FORBID_OF_LABOR_STAFF;e.getInfo=function(){t.getPreEnterInfo({number:e.number,pageDto:{pageNum:1,pageSize:a.PAGE_SIZE}}).then(function(n){$.extend(!0,e,n.data[0]),R(),G(e.type),e.isReadOnly&&L(),e.socialSecurityCity&&t.getSocialSecurityCity({socialSecurityCity:e.socialSecurityCity}).then(function(t){x=t.data[0],e.needFiveBase=x.needFiveBase}),q()})},e.getLevel=function(n){n?t.getLevel({structure:e.structure.id}).then(function(t){for(var n=0,r;r=t.data[n++];)r.id=n;t.data.unshift(a.EMPTY),e.infoOptions.level.items=t.data,e.levelIndex=e.getLevelIndex(e.level)}):(e.infoOptions.level.items=[],e.infoOptions.position.items=[])},e.getPosition=function(n){n?t.getPosition({structure:e.structure.id,level:e.level}).then(function(t){t.data.unshift(a.EMPTY),e.infoOptions.position.items=t.data}):e.infoOptions.position.items=[]},e.$watch("structure",function(t,n){t!=n&&t&&t.id&&(e.getLevel(t),e.getPosition(t),n&&typeof n.id!="undefined"&&(e.level=undefined,e.position=undefined))},!0),e.$watch("promiseEnterDate",function(t,n){e.isReadOnly||(t&&e.type===1?(e.infoOptions.formalDate.forbid=!1,e.infoOptions.formalDate.items=[{id:1,name:v(t).add(3,"month").format("YYYY/MM/DD")},{id:2,name:v(t).add(6,"month").format("YYYY/MM/DD")}],e.formalDate=2):(e.infoOptions.formalDate.forbid=!0,e.formalDate=undefined))}),e.$watch("type",function(t,n){e.isReadOnly||t===1&&e.promiseEnterDate&&(e.infoOptions.formalDate.forbid=!1,e.infoOptions.formalDate.items=[{id:1,name:v(e.promiseEnterDate).add(3,"month").format("YYYY/MM/DD")},{id:2,name:v(e.promiseEnterDate).add(6,"month").format("YYYY/MM/DD")}],e.formalDate=2)}),e.$watch("socialSecurityCity",function(e,t){e?t?W(e):W(e,!0):x={}},!0),e.$watch("levelIndex",function(t,n){t!=n&&(e.level=e.getLevelByIndex(t))},!0),e.$watch("level",function(t,n){t!=n&&(e.getPosition(t),typeof n!="undefined"&&(e.position=undefined))},!0),e.getLevelByIndex=function(t){return typeof t=="undefined"?undefined:e.infoOptions.level.items[t].name},e.getLevelIndex=function(t){var n=e.infoOptions.level.items;for(var r=0,i;i=n[r++];)if(i.name==t)return i.id},e.getContractCompany=function(){t.getContractCompany().then(function(t){t.data.unshift(a.EMPTY),e.infoOptions.contractCompany.items=t.data})},e.desertClick=function(){b.desertCondidate(e.number,function(){e.getInfo()})},e.initScopeVar=function(){e.fiveBaseInitOptions={formName:"newerEnterForm",required:!1};var t="newerEnterForm";e.canSave=!0,e.fiveBaseRequired=!1,e.baseOptions=n(t),e.contactOptions=r(t),e.infoOptions=i(t,e),e.otherOptions=s(t),e.salaryOptions=o(t,e),e.editOptions=u(t),e.onEditClick=O,e.baseSalary={selectVal:p},e.probationarySalary={selectVal:p},e.trafficSubsidy={selectVal:p},e.mobileSubsidy={selectVal:p},e.notRequiredFieldWhenSubmit=["recommendDetail","detail","personalEmail","idCardNumber","socialSecurityCity","name"],e.showAbandonBtn=!1},N()}])}),define("module/hr/search/colsConfig",["require"],function(e){return function(e){return{lastEnterTime:{field:"lastEnterTime",displayName:"上次入职信息"},lastLeaveTime:{field:"lastLeaveTime",displayName:"上次离职信息"},lastStaffTypeValue:{field:"lastStaffTypeValue",displayName:"上次员工类型"},entryLeaveLog:{field:"entryLeaveLog",displayName:"入离职信息",cellTpl:"src/module/hr/search/tableTpl/entryLeaveLog.html"},personalEmail:{field:"personalEmail",displayName:"联系邮箱"},emergContact:{field:"emergContact",displayName:"紧急联系人"},emergContactMobile:{field:"emergContactMobile",displayName:"紧急联系人电话"},address:{field:"address",displayName:"住址及邮编"},filePlace:{field:"filePlace",displayName:"档案挂靠处"},accountType:{field:"accountTypeValue",displayName:"户口类型"},contractCompany:{field:"contractCompanyName",displayName:"合同签约公司"},formalDate:{field:"formalDateValue",displayName:"转正日期"},contractEndDate:{field:"contractEndDateValue",displayName:"合同到期时间"},isGraduate:{field:"isGraduateValue",displayName:"是否毕业生入职"},hometown:{field:"hometown",displayName:"籍贯"},accountLocation:{field:"accountLocation",displayName:"户口所在地"},citizenship:{field:"citizenship",displayName:"国籍"},isForeign:{field:"isForeignValue",displayName:"证件类型"},cardNum:{field:"cardNum",displayName:"银行卡号"},lawName:{field:"lawName",displayName:"法律名"},name:{field:"name",displayName:"姓名",cellTpl:"src/module/hr/search/tableTpl/name.html"},sex:{field:"sexValue",displayName:"性别"},birthday:{field:"birthdayValue",displayName:"出生日期"},ethnic:{field:"ethnic",displayName:"民族"},religion:{field:"religion",displayName:"宗教信仰"},degree:{field:"degreeValue",displayName:"学历"},politicalStatus:{field:"politicalStatus",displayName:"政治面貌"},maritalStatus:{field:"maritalStatusValue",displayName:"婚姻状况"},birthplace:{field:"birthplace",displayName:"出生地"},beginWorkTime:{field:"beginWorkTimeValue",displayName:"全职参加工作时间"},idCardNumber:{field:"idCardNumber",displayName:"证件号"},email:{field:"email",displayName:"邮箱"},structureName:{field:"structureName",displayName:"组织架构"},mobile:{field:"mobile",displayName:"手机号"},enterTime:{field:"enterTimeValue",displayName:"入职日期"},lastModTime:{field:"lastModTimeValue",displayName:"最新更新时间"},promiseEnterDate:{field:"promiseEnterDateValue",displayName:"入职日期"},status:{field:"statusName",displayName:"员工状态"},positionName:{field:"positionName",displayName:"职位名称"},displayNumber:{field:"displayNumber",displayName:"员工编号"},leaderName:{field:"leaderName",displayName:"直属领导"},level:{field:"level",displayName:"级别"},type:{field:"typeValue",displayName:"员工类型"},leaveDate:{field:"leaveDateValue",displayName:"离职日期"},baseSalary:{field:"baseSalary",displayName:"基本工资",filter:"salary"},salaryType:{field:"salaryTypeValue",displayName:"工资类型"},probationarySalary:{field:"probationarySalary",displayName:"试用期基本工资",filter:"salary"},serialNum:{field:"serialNum",displayName:"序号"},assetCode:{field:"assetCode",displayName:"固定资产编码"},pcType:{field:"pcTypeValue",displayName:"电脑"},socialSecurityCity:{field:"socialSecurityCityName",displayName:"社保缴纳城市"},office:{field:"officeName",displayName:"工作地点"},sit:{field:"sit",displayName:"工位"},icCardNumber:{field:"icCardNumber",displayName:"工卡卡号"},socialSecurityBase:{field:"socialSecurityBase",displayName:"社保基数"},houseFundBase:{field:"houseFundBase",displayName:"公积金基数"},salaryLastDay:{field:"salaryLastDay",displayName:"最近薪酬变更日期"},salaryLastSalary:{field:"salaryLastSalary",displayName:"最近薪酬变更金额"},welfareSalary:{field:"welfareSalary",displayName:"职位福利费"},workEmail:{field:"workEmail",displayName:"邮箱地址"},opt:{field:"opt",displayName:"操作",cellTpl:"src/module/hr/search/tableTpl/opt.html"}}}}),define("module/hr/search/config",["require"],function(e){return{DEFAULT_COLS:{SALARY_HR:["name","lawName","displayNumber","idCardNumber","status","socialSecurityCity","salaryType","cardNum","type","positionName","leaderName"],RELATIONSHIP_HR:["name","sex","displayNumber","type","lawName","degree","mobile","level","positionName","leaderName"],HRBP_HR:["name","sex","displayNumber","mobile","degree","lawName","type","level","positionName","leaderName"],TRAINING_HR:["name","sex","displayNumber","degree","enterTime","lawName","type","level","positionName","leaderName"],RECRUIT_HR:["name","sex","displayNumber","mobile","degree","promiseEnterDate","status","lawName","level","positionName","leaderName"],MANAGER:["name","sex","displayNumber","type","degree","level","positionName"],OWNER:["name","sex","displayNumber","type","degree","level","positionName"],ASSET_MANAGER:["name","displayNumber","email","structureName","positionName","assetCode","pcType","office","enterTime"],IT_MANAGER:["name","displayNumber","email","structureName","positionName","assetCode","pcType","office","enterTime"],ADMIN:["name","displayNumber","lawName","sex","email"],AGENT:["name","mobile","enterTime","leaderName","structureName","level","positionName","sex"]}}}),define("module/hr/search/customCols",["require","./config"],function(e){function n(e,t){var n=o(e,t),r=e[n.groupIndex];r.items.splice(n.itemIndex,1)}function r(e,t){for(var n=0,r;r=t[n++];)i(e,r)}function i(e,t){var n=o(e,t),r=e[n.groupIndex];r.items[n.itemIndex].isDefault=!0}function s(e,t){var n=o(e,t),r=e[n.groupIndex];r.items[n].isDefault=!1}function o(e,t){var n=!1;for(var r=0,i;i=e[r++];){for(var s=0,o;o=i.items[s++];)if(o.key==t){n=!0;break}if(n)break}return n?{groupIndex:r-1,itemIndex:s-1}:-1}function u(e){function s(){var n=t.DEFAULT_COLS;e.userInfo.isAgent?r(i,n.AGENT):e.isRecruitHRSearch?r(i,n.RECRUIT_HR):e.isSalaryHRSearch?r(i,n.SALARY_HR):e.isBusinessPartnerHRSearch?r(i,n.HRBP_HR):e.isTrainingHRSearch?r(i,n.TRAINING_HR):e.isRelationshipHRSearch?r(i,n.RELATIONSHIP_HR):e.isSubordinateSearch&&r(i,n.MANAGER)}var i=[];return e.userInfo.isAgent?i=[{name:"基本信息",key:"baseInfo",items:[{key:"name",value:"姓名",isDefault:!1},{key:"sex",value:"性别",isDefault:!1},{key:"displayNumber",value:"员工编号",isDefault:!1},{key:"mobile",value:"手机号",isDefault:!1},{key:"enterTime",value:"入职日期",isDefault:!1},{key:"email",value:"邮箱地址",isDefault:!1},{key:"birthday",value:"出生日期",isDefault:!1},{key:"accountLocation",value:"户口所在地",isDefault:!1},{key:"degree",value:"学历",isDefault:!1},{key:"isForeign",value:"证件类型",isDefault:!1},{key:"idCardNumber",value:"证件号码",isDefault:!1},{key:"beginWorkTime",value:"全职参加工作时间",isDefault:!1},{key:"status",value:"员工状态",isDefault:!1},{key:"leaveDate",value:"离职日期",isDefault:!1}]},{name:"岗位信息",key:"workInfo",items:[{key:"leaderName",value:"直属领导",isDefault:!1},{key:"structureName",value:"组织架构",isDefault:!1},{key:"level",value:"级别",isDefault:!1},{key:"positionName",value:"职位名称",isDefault:!1},{key:"workEmail",value:"邮箱地址",isDefault:!1}]}]:i=[{name:"基本信息",key:"baseInfo",items:[{key:"name",value:"姓名",isDefault:!1},{key:"sex",value:"性别",isDefault:!1},{key:"displayNumber",value:"员工编号",isDefault:!1},{key:"status",value:"员工状态",isDefault:!1},{key:"type",value:"员工类型",isDefault:!1},{key:"lawName",value:"法律名",isDefault:!1},{key:"email",value:"邮箱地址",isDefault:!1}]},{name:"个人资料",key:"natureInfo",items:[{key:"hometown",value:"籍贯",isDefault:!1},{key:"ethnic",value:"民族",isDefault:!1},{key:"politicalStatus",value:"政治面貌",isDefault:!1},{key:"birthplace",value:"出生地点",isDefault:!1},{key:"accountLocation",value:"户口所在地",isDefault:!1},{key:"degree",value:"学历",isDefault:!1},{key:"religion",value:"宗教信仰",isDefault:!1},{key:"maritalStatus",value:"婚姻状况",isDefault:!1},{key:"citizenship",value:"国籍",isDefault:!1},{key:"isForeign",value:"证件类型",isDefault:!1},{key:"idCardNumber",value:"证件号码",isDefault:!1},{key:"birthday",value:"出生日期",isDefault:!1},{key:"accountType",value:"户口类型",isDefault:!1},{key:"beginWorkTime",value:"全职参加工作时间",isDefault:!1},{key:"isGraduate",value:"是否毕业生入职",isDefault:!1},{key:"mobile",value:"手机号",isDefault:!1},{key:"enterTime",value:"入职日期",isDefault:!1},{key:"formalDate",value:"转正日期",isDefault:!1},{key:"contractEndDate",value:"合同到期时间",isDefault:!1},{key:"promiseEnterDate",value:"入职日期",isDefault:!1},{key:"lastModTime",value:"最新更新时间",isDefault:!1},{key:"pcType",value:"电脑",isDefault:!1},{key:"leaveDate",value:"离职日期",isDefault:!1},{key:"entryLeaveLog",value:"入离职信息",isDefault:!1},{key:"lastEnterTime",value:"上次入职信息",isDefault:!1},{key:"lastLeaveTime",value:"上次离职信息",isDefault:!1},{key:"lastStaffTypeValue",value:"上次员工类型",isDefault:!1}]},{name:"岗位信息",key:"workInfo",items:[{key:"contractCompany",value:"合同签约公司",isDefault:!1},{key:"structureName",value:"组织架构",isDefault:!1},{key:"level",value:"级别",isDefault:!1},{key:"positionName",value:"职位名称",isDefault:!1},{key:"leaderName",value:"直属领导",isDefault:!1},{key:"socialSecurityCity",value:"社保缴纳城市",isDefault:!1},{key:"office",value:"工作地点",isDefault:!1},{key:"sit",value:"工位",isDefault:!1},{key:"icCardNumber",value:"工卡卡号",isDefault:!1},{key:"workEmail",value:"邮箱地址",isDefault:!1}]},{name:"薪酬信息",key:"salaryInfo",items:[{key:"baseSalary",value:"基本工资",isDefault:!1},{key:"probationarySalary",value:"试用期基本工资",isDefault:!1},{key:"salaryType",value:"工资类型",isDefault:!1},{key:"socialSecurityBase",value:"社保基数",isDefault:!1},{key:"houseFundBase",value:"公积金基数",isDefault:!1},{key:"salaryLastDay",value:"最近薪酬日期",isDefault:!1},{key:"salaryLastSalary",value:"最近薪酬金额",isDefault:!1},{key:"welfareSalary",value:"职位福利费",isDefault:!1}]},{name:"隐私信息",key:"secretInfo",items:[{key:"cardNum",value:"银行卡号"},{key:"personalEmail",value:"联系邮箱"},{key:"emergContact",value:"紧急联系人"},{key:"emergContactMobile",value:"紧急联系人电话"},{key:"address",value:"住址及邮编"},{key:"filePlace",value:"档案挂靠处"}]}],e.userInfo.isAgent||(e.isRecruitHRSearch?(n(i,"enterTime"),n(i,"leaveDate"),n(i,"hometown"),n(i,"ethnic"),n(i,"politicalStatus"),n(i,"birthplace"),n(i,"accountLocation"),n(i,"religion"),n(i,"maritalStatus"),n(i,"citizenship"),n(i,"isForeign"),n(i,"birthday"),n(i,"accountType"),n(i,"beginWorkTime"),n(i,"isGraduate"),n(i,"contractEndDate"),n(i,"cardNum"),n(i,"emergContact"),n(i,"emergContactMobile"),n(i,"address"),n(i,"filePlace"),n(i,"email"),n(i,"office"),n(i,"sit")):(e.isAssetManagerSearch||n(i,"promiseEnterDate"),n(i,"lastModTime")),e.isAssetManagerSearch||n(i,"pcType")),s(),i}var t=e("./config");return u}),define("module/hr/search/controller",["require","../app","module/config","module/codeConfig","module/nameConfig","../config","./colsConfig","./customCols","./config","moment"],function(e){var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("module/nameConfig"),s=e("../config"),o=e("./colsConfig"),u=e("./customCols"),a=e("./config"),f=e("moment");t.controller("searchCtrl",["$scope","hrRequest","$state","hrUtil","localStorage","authUtil","util","hrOptUtil","adminUtil",function(e,t,l,c,h,p,d,v,m){function E(t){for(var r=0,i;i=t[r++];){i.canSeeInitInfo=!1;if(i.optType!=s.OPT_TYPE.SAVE&&e.isOfferSearch||e.isAssetManagerSearch||e.isItManagerSearch)i.canSeeInitInfo=!0,i.canAddAssetCode=!0;p.isRelationshipHR()&&i.status==g.TO_JOIN&&e.isToJoinSearch&&(i.canSeeJoinWork=!0),i.contractEndDate&&(i.contractEndDateValue=f(i.contractEndDate).format("YYYY-MM-DD")),(i.status==g.TO_JOIN||i.status==g.DRAFT)&&e.isAbandonSearch&&(i.canSeeAbandon=!0),(e.isSubordinateSearch||e.isOwnerSearch)&&i.hasSubordinate&&(i.canSeeSubAccount=!0),i.serialNum=(e.currentPage-1)*n.PAGE_SIZE+r}return t}function S(t){var n=s.PATH.STAFF_EXPORT;e.isRecruitHRSearch&&(n=s.PATH.NEW_STAFF_EXPORT);var r=c.getObjectQueryString(t),i=r==""?n:n+"?"+r+"&fields="+x().join(",");return i}function x(){var t=o(e),n=e.userDefineColOptions.checkedValues,r=[];for(var i=0,s;s=n[i++];){var u=t[s].field;u=="baseSalary"?(r.push("baseSalaryValue"),r.push("baseSalaryTypeValue")):u=="probationarySalary"?(r.push("probationarySalaryValue"),r.push("probationarySalaryTypeValue")):r.push(u)}return r}function A(t){for(var n=0,r;r=e.staffStatus[n++];)if(r.id==t){e.staffStatus.splice(n-1,1);return}}function O(){var e=[{id:g.HAS_JOINED,name:b[g.HAS_JOINED]},{id:g.LEAVED,name:b[g.LEAVED]}];return e.unshift(n.EMPTY),e}var g=r.STAFF_STATUS_CODE,y=g.DRAFT,b=i.STAFF_STATUS,w={};e.currentPage=1,e.pcTypeItems=d.buildSelectOpitons(i.PC_TYPE,!0),e.userDefineColConfirmHandler=function(t){e.getTableCols(),e.exportUrl=S(w)},e.getTableCols=function(){var t=o(e),n=e.userDefineColOptions.checkedValues,r=[];for(var i=0,s;s=n[i++];)t[s]&&r.push(t[s]);r.unshift(t.serialNum),r.push(t.opt),e.tableOptions.cols=r},e.onSearch=function(){e.getList()},e.getList=function(){e.showExport=!0;if(!e.query.month&&e.entryName=="hr.salaryBillSearch"){alert("请输入查询月份");return}w={pageDto:{pageNum:e.currentPage||1,pageSize:n.PAGE_SIZE}},e.isSubordinateSearch?w.searchType=s.SEARCH_TYPE.SUBORDINATE:e.isOwnerSearch?w.searchType=s.SEARCH_TYPE.OWNER:e.isAdminSearch?w.searchType=s.SEARCH_TYPE.ADMIN:e.isRecruitHRSearch||(w.searchType=s.SEARCH_TYPE.HR);for(var r in e.query)e.query.hasOwnProperty(r)&&typeof e.query[r]!="undefined"&&e.query[r]!==null&&(e.query[r]instanceof Date?w[r]=e.query[r].getTime():r=="name"&&!e.isRecruitHRSearch?w.userName=d.getUsernameFromSuggestion(e.query[r]):r=="leader"?w[r]=d.getUsernameFromSuggestion(e.query[r]):r=="structure"?w.structure=e.query.structure.id:r=="pcType"?w[r]=+e.query[r]:w[r]=e.query[r]);e.query.status?w.status=""+e.query.status:w.status=c.getFieldSet(e.staffStatus,"id").join(",");var i=t.getStaffInfo;e.isRecruitHRSearch&&(i=t.getPreEnterInfo),i(w).then(function(t){e.tableOptions.data=E(t.data),e.tableOptions.totalCount=t.pageDto&&t.pageDto.count||0}),e.exportUrl=S(w)},e.viewInitInfo=function(e){h.set("number",e),c.showInitInfo(e)},e.addAssetCodeClick=function(t){c.showAssetAddInfo(t,e.getList)},e.joinWorkClick=function(t){c.joinWork(t).then(function(t){e.getList()})},e.abandonClick=function(t){v.desertCondidate(t,function(t){t.hadSuccess&&e.getList()})},e.viewInfo=function(t,n){h.set("number",t);var r="";if(n=="newerSearch"){l.go("hr.newerEdit");return}n=="search"?(l.current.name=="hr.toJoinSearch"&&(e.isRelationshipHRSearch=!0),l.current.name=="hr.salaryBillSearch"&&(e.isSalaryHRSearch=!0),l.current.name=="admin.search"&&(e.isAdminSearch=!0),e.isBusinessPartnerHRSearch?r=l.href("hr.businessPartnerHR-staffInfo.baseInfo"):e.isTrainingHRSearch?r=l.href("hr.trainingHR-staffInfo.baseInfo"):e.isRelationshipHRSearch?r=l.href("hr.relationshipHR-staffInfo.baseInfo"):e.isSalaryHRSearch?r=l.href("hr.salaryHR-staffInfo.baseInfo"):e.isAdminSearch&&(r=l.href("admin.staffInfo.baseInfo"))):n=="subordinateSearch"&&(r=l.href("subordinate.info.baseInfo")),v.viewDetail(r,function(){e.getList()})},e.setPermission=function(e){h.set("number",e),window.location.href="#/admin/permission"},e.modKeyInfo=function(t){m.modKeyInfo(t,function(t){t.hadSuccess&&e.getList()})},e.getPreEnterStaffStatuses=function(){var e=[{id:g.DRAFT,name:b[g.DRAFT]},{id:g.TO_JOIN,name:b[g.TO_JOIN]}];return e.unshift(n.EMPTY),e},e.viewSubAccountClick=function(t){if(e.query.leader){var n=e.query.leader.split(",");e.leaderStack.push({leader:n[1],leaderName:n[0]})}else e.leaderStack.push({leader:undefined,leaderName:undefined});e.query.leader=d.getShowUserName(t.userName,t.name),e.getList()},e.returnLastLeaderClick=function(){var t=e.leaderStack.pop();t.leader?e.query.leader=d.getShowUserName(t.leader,t.leaderName):e.query.leader=undefined,e.getList()},e.entryName=l.current.name,e.showExport=!1,e.title="员工信息查询",e.query={},e.staffStatus=d.buildSelectOpitons(i.STAFF_STATUS),e.staffType=d.buildSelectOpitons(i.TYPE),e.structureOptions={},e.staffStatus.unshift(n.EMPTY),e.staffType.unshift(n.EMPTY),e.showCustomCols=!0;var T=e.userInfo.hasRoles,N=r.ROLE_TYPE,C=[];switch(e.entryName){case"hr.toJoinSearch":e.isToJoinSearch=!0,e.title="待入职员工查询",e.isHRSearch=!0,e.query.status=g.TO_JOIN,e.staffStatus=[{id:g.TO_JOIN,name:b[g.TO_JOIN]}],e.query.roleType=N.RELATIONSHIP_HR,e.structureOptions.manageNodes=T.relationshipHR,e.isRelationshipHRSearch=!0,C=a.DEFAULT_COLS.RELATIONSHIP_HR;break;case"hr.abandonSearch":e.isAbandonSearch=!0,e.title="候选人放弃",e.staffStatus=e.getPreEnterStaffStatuses(),e.structureOptions.manageNodes=T.recruitHR,C=a.DEFAULT_COLS.RECRUIT_HR;break;case"hr.assetManagerSearch":e.isAssetManagerSearch=!0,e.title="资产管理",e.showCustomCols=!1,e.query.roleType=N.ASSET_MANAGER;var k=[{id:g.TO_JOIN,name:b[g.TO_JOIN]},{id:g.HAS_JOINED,name:b[g.HAS_JOINED]}];k.unshift(n.EMPTY),e.staffStatus=k,e.structureOptions.manageNodes=T.assetManager,C=a.DEFAULT_COLS.ASSET_MANAGER;break;case"hr.itManagerSearch":e.isItManagerSearch=!0,e.title="IT管理",e.showCustomCols=!1,e.query.roleType=N.IT_OWNER;var k=[{id:g.TO_JOIN,name:b[g.TO_JOIN]},{id:g.HAS_JOINED,name:b[g.HAS_JOINED]}];k.unshift(n.EMPTY),e.staffStatus=k,e.structureOptions.manageNodes=T.itOwner,C=a.DEFAULT_COLS.IT_MANAGER;break;case"subordinate.search":e.isSubordinateSearch=!0,e.title="下属查询";var L=e.userInfo;e.userInfo.isAgent?(e.staffStatus=O(),C=a.DEFAULT_COLS.AGENT):(e.staffStatus=[{id:g.HAS_JOINED,name:b[g.HAS_JOINED]},{id:g.TO_LEAVE,name:b[g.TO_LEAVE]}],C=a.DEFAULT_COLS.MANAGER),e.query.status=g.HAS_JOINED,e.structureOptions.manageNodes=[n.STRUCTURE_ROOT_ID];break;case"subordinate.ownerSearch":e.isOwnerSearch=!0,e.title="部门员工查询";var L=e.userInfo;e.userInfo.isAgent?(e.staffStatus=O(),C=a.DEFAULT_COLS.AGENT):(A(y),C=a.DEFAULT_COLS.OWNER),e.query.status=g.HAS_JOINED,e.structureOptions.manageNodes=T.roleOwner;break;case"hr.newerSearch":e.isOfferSearch=!0,e.title="offer信息查询",e.structureOptions.manageNodes=T.recruitHR,C=a.DEFAULT_COLS.RECRUIT_HR;break;case"admin.search":e.isAdminSearch=!0,e.query.status=g.HAS_JOINED,A(y),e.showCustomCols=!1,e.structureOptions.manageNodes=[n.STRUCTURE_ROOT_ID],C=a.DEFAULT_COLS.ADMIN;break;case"hr.salaryHRSearch":e.isHRSearch=!0,e.isSalaryHRSearch=!0,e.title="员工信息查询-薪酬",e.query.status=g.HAS_JOINED,A(y),e.structureOptions.manageNodes=T.salaryHR,e.query.roleType=N.SALARY_HR,C=a.DEFAULT_COLS.SALARY_HR;break;case"hr.relationshipHRSearch":e.isHRSearch=!0,e.isRelationshipHRSearch=!0,e.title="员工信息查询-员工关系",e.query.status=g.HAS_JOINED,e.userInfo.isAgent?(e.staffStatus=O(),C=a.DEFAULT_COLS.AGENT):(A(y),C=a.DEFAULT_COLS.RELATIONSHIP_HR),e.query.roleType=N.RELATIONSHIP_HR,e.structureOptions.manageNodes=T.relationshipHR;break;case"hr.trainingHRSearch":e.isHRSearch=!0,e.isTrainingHRSearch=!0,e.title="员工信息查询-培训",e.query.roleType=N.TRAINING_HR,e.query.status=g.HAS_JOINED,A(y),e.structureOptions.manageNodes=T.trainingHR,C=a.DEFAULT_COLS.TRAINING_HR;break;case"hr.businessPartnerHRSearch":e.isHRSearch=!0,e.isBusinessPartnerHRSearch=!0,e.title="员工信息查询-HRBP",e.query.status=g.HAS_JOINED,A(y),e.structureOptions.manageNodes=T.businessPartnerHR,e.query.roleType=N.HRBP,C=a.DEFAULT_COLS.HRBP_HR}if(e.isOfferSearch||e.isAbandonSearch)e.isRecruitHRSearch=!0;e.leaderStack=[],e.tableOptions={data:[],canSelect:!0,totalCount:0,cols:[],pageSize:n.PAGE_SIZE,onPageChange:function(t){e.currentPage=t,e.getList()}},e.userDefineColOptions={data:u(e),name:"自定义显示字段",maxItems:50,checkedValues:C},e.getTableCols(),e.getList()}])}),define("module/hr/salaryList/colsConfig",["require"],function(e){return function(e){var t=window.navigator.userAgent,n="38px";return t.indexOf("Mac")>-1&&(n="65px"),[{field:"displayNumber",displayName:"工号",style:{width:"3%"},rowspan:2},{field:"lawName",displayName:"法律名",cellTpl:"src/module/hr/salaryList/tableTpl/name.html",style:{width:"4%"},rowspan:2},{field:"staffTypeValue",displayName:"员工类型",style:{width:"4%"},rowspan:2},{field:"systemMemo",displayName:"系统备注",cellTpl:"src/module/hr/salaryList/tableTpl/systemMemo.html",style:{width:"4%"},rowspan:"2"},{field:"",displayName:"最大出勤天数/全勤",cellTpl:"src/module/hr/salaryList/tableTpl/fullDay.html",style:{width:"4%"},rowspan:2},{field:"realDay",displayName:"实际出勤天数",style:{width:"3%"},cellTpl:"src/module/hr/salaryList/tableTpl/realDay.html",rowspan:2},{field:"executeSalary",headOneDisplayName:"应发工资",colspan:7,displayName:"执行工资",style:{width:"5%"},cellTpl:"src/module/hr/salaryList/tableTpl/executeSalary.html"},{field:"trafficSubsidy",displayName:"交通补贴",style:{width:"3%"}},{field:"mobileSubsidy",displayName:"通讯补贴",style:{width:"3%"}},{field:"mealSubsidy",displayName:"餐补",style:{width:"3%"}},{field:"",displayName:"绩效工资",style:{width:"5%"},cellTpl:"src/module/hr/salaryList/tableTpl/performSalary.html"},{field:"",displayName:"其它",style:{width:"4%"},cellTpl:"src/module/hr/salaryList/tableTpl/otherSalary.html"},{field:"sumSalary",displayName:"小计",style:{width:"5%"},cellTpl:"src/module/hr/salaryList/tableTpl/sumSalary.html"},{headOneDisplayName:"代扣五险一金及个税(个人)",colspan:4,field:"",displayName:"五险总计",style:{width:"3%"},cellTpl:"src/module/hr/salaryList/tableTpl/sumSocialSecurityPer.html"},{field:"",displayName:"住房公积金",style:{width:"3%"},cellTpl:"src/module/hr/salaryList/tableTpl/houseFundPer.html"},{field:"",displayName:"个人所得税",style:{width:"4%"},cellTpl:"src/module/hr/salaryList/tableTpl/personTax.html"},{field:"sumMinusPer",displayName:"小计",style:{width:"4%"},cellTpl:"src/module/hr/salaryList/tableTpl/sumMinusPer.html"},{headOneDisplayName:"五险一金(公司)",colspan:3,field:"",displayName:"五险总计",style:{width:"3%"},cellTpl:"src/module/hr/salaryList/tableTpl/sumSocialSecurityCom.html"},{field:"",displayName:"住房公积金",style:{width:"3%"},cellTpl:"src/module/hr/salaryList/tableTpl/houseFundCom.html"},{field:"sumCom",displayName:"小计",style:{width:"4%"},cellTpl:"src/module/hr/salaryList/tableTpl/sumCom.html"},{field:"taxFreeSubsidy",displayName:"免税所得",style:{width:"3%"},rowspan:2,cellTpl:"src/module/hr/salaryList/tableTpl/taxFreeSubsidy.html"},{headOneDisplayName:"年终奖",colspan:2,field:"yearAward",displayName:"税前年终奖",style:{width:"3%"}},{field:"yearAwardTax",displayName:"年终奖纳税",style:{width:"3%"}},{field:"realSumAll",displayName:"实发工资",style:{width:"5%"},rowspan:2,cellTpl:"src/module/hr/salaryList/tableTpl/realSum.html"},{field:"",displayName:"备注",style:{width:"4%"},rowspan:2,cellTpl:"src/module/hr/salaryList/tableTpl/detail.html"},{field:"opt",displayName:"操作",rowspan:2,cellTpl:"src/module/hr/salaryList/tableTpl/opt.html"}]}}),define("module/hr/salaryList/controller",["require","../app","module/config","module/codeConfig","module/nameConfig","../config","./colsConfig","moment"],function(e){function a(e,t,i,s,a,f,l,c){function T(){e.onSearch=N,e.onSave=A,e.onConfirm=I,e.onEdit=q,e.onOtherSalaryClick=J,e.onBatchSaveClick=D,e.onBatchConfirmClick=R,e.onSumSocialSecurityPerClick=K,e.onSumSocialSecurityComClick=Q,e.onDetailClick=G,e.onStructureChange=M;var t=u().add(-1,"M").format("YYYY-MM");e.monthMax=t,e.tableOptions={data:[],canSelect:!0,hasTwoHead:!0,totalCount:0,cols:o(e),pageSize:m,onPageChange:function(t){e.currentPage=t,k()},selectedItems:[],mainScope:e,bodyScroll:!0},e.getList=k,e.query.month=new Date(t+" 00:00:00"),L()}function N(){k(),_(e.query.structure)}function C(t){for(var r=0,s;s=t[r++];)s.i=r-1,s.rawRealDay=s.realDay,s.status==b.SAVE&&e.canEditSalary&&(s.isEdit=!0),s.staffType!=v.REGULAR&&(s.noInsurance=!0),s.welfareSalary==0&&s.welfareSalaryOri!=0&&(s.style={background:"#f2dede"}),s.structureName=i.getShortStructureName(s.structureName,g),s.staffTypeValue=s.staffTypeValue.replace(/员工/g,""),s.foreigner=s.isForeign!=n.ID_CARD_CODE,s.realSumAll=i.fix(w(s.realSum,s.yearAwardFinal)),i.isNodeSalaryHR(e.query.structure)?e.onlyViewMode=!1:e.onlyViewMode=!0;return t}function k(){if(!e.query.structure){alert("请选择组织架构");return}if(!e.query.month){alert("请输入查询月份");return}var n=(new Date).getDate(),r=(new Date).getMonth()+1,i=e.query.month.getMonth()+1,s=r-1;s==0&&(s=12),n>10?e.canEditSalary=!1:i==s?e.canEditSalary=!0:e.canEditSalary=!1;var o={pageDto:{pageNum:e.currentPage||1,pageSize:m},structure:e.query.structure,month:u(e.query.month.getTime()).format("YYYY-MM")};t.getSalaryList(o).then(function(t){e.tableOptions.data=C(t.data),e.tableOptions.totalCount=t.pageDto&&t.pageDto.count||0,$()}),e.exportUrl=z(o),e.exportMealSubsidyListUrl=X(o),e.exportWelfareSalaryListUrl=V(o)}function L(){a.getStructure().then(function(t){e.structureList=i.getSalaryNode(t.data,e);if(e.structureList.length){var n=e.structureList[0].id;e.query.structure=n,i.isNodeSalaryHR(e.query.structure)||(e.onlyViewMode=!0),_(n),g=e.structureList[0].name,k()}})}function A(t){var n=Y(t),r=e.salaryComputeForm;if(!r.$valid)return;if(!O(n))return;H([n])}function O(e){return e.realSumAll<0?(alert("实发工资不能为负数"),!1):!0}function M(t){for(var n=0,r;r=e.structureList[n++];)if(r.id==t){g=r.name;break}}function _(t){a.getStuctureInfo({id:t}).then(function(t){y=t.data,y.isPunchCard==r.PUNCH_CARD.NEED_SUBSIDY_NOT_BY_SALARY?(e.mealSubsidyToMealCard=!0,e.hasMealSubsidyList=!0):(e.mealSubsidyToMealCard=!1,e.hasMealSubsidyList=!1)})}function D(){var t=e.salaryComputeForm;if(!t.$valid)return;var n=e.tableOptions.selectedItems,r=P(n,b.SAVE);for(var i=0,s;s=r[i++];)if(!O(s))return;H(r)}function P(t,n){var r=[],i=e.tableOptions.data;for(var s=0,o;o=t[s++];)p[o.number]||o.status!=n?r.push(o):n==b.CONFIRM&&(j(o,!0),i[o.i].isEdit=!1);return r}function H(e){if(!e.length){info("保存成功");return}B(e,b.SAVE)}function B(n,r){var i="保存成功";r==b.CONFIRM&&(i="确认成功");var s=["id","realDay","executeSalary","trafficSubsidy","mobileSubsidy","mealSubsidy","otherSalary","mealPlus","recomend","houseSubsidy","specialReward","performExtSalary","performLeaveSalary","otherSubSidy","sumSalary","endowPer","unemployPer","medicalPer","injuryPer","maternityPer","sumSocialSecurityPer","personTax","houseFundPer","sumMinusPer","endowCom","unemployCom","medicalCom","injuryCom","maternityCom","sumSocialSecurityCom","houseFundCom","sumCom","detail","realSum","recommend","otherSubsidy","taxFreeSubsidy","welfareSalary"],o=[];for(var u=0,a;a=n[u++];){var f={};for(var l=0,c;c=s[l++];)f[c]=a[c];o.push(f)}t.modSalary({items:o,optType:r}).then(function(t){info(i);var s=e.tableOptions.data;for(var o=0,u;u=n[o++];){var a=s[u.i];r==b.CONFIRM&&(j(a,!0),a.isEdit=!1),a.status=r}})}function j(t,n){var r=t.i;t.executeSalaryOri!=0&&(e["realDayOptions"+r].disable=n),e["taxFreeSubsidyOptions"+r].disable=n,t.noInsurance||(e["houseFundPerOptions"+r].disable=n,e["houseFundComOptions"+r].disable=n)}function F(t){var n=e.tableOptions.data;for(var r=0,i;i=n[r++];)j(i,t)}function I(t){var n=Y(t),r=e.salaryComputeForm;if(!r.$valid)return;if(!O(n))return;U([n])}function q(e){var t=Y(e);t.isEdit=!0,j(t,!1)}function R(){var t=e.salaryComputeForm;if(!t.$valid)return;var n=e.tableOptions.selectedItems,r=P(n,b.CONFIRM);for(var i=0,s;s=r[i++];)if(!O(s))return;U(r)}function U(e){if(!e.length){info("成功");return}B(e,b.CONFIRM)}function z(e){return"EXPORT/salary/list.json?"+W(e)}function W(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&n!="pageDto"&&t.push(n+"="+e[n]);return t.join("&")}function X(e){return"EXPORT/staff/mealSubsidy.json?"+W(e)}function V(e){return"EXPORT/salary/welfareSalary.json?"+W(e)}function $(){var t=b.CONFIRM;for(var r=0;r<m;r++){var i=e.tableOptions.data[r];if(!i)break;i.performDetail!="[]"&&i.performDetail&&(i.performSalaryHtml=c.trustAsHtml('<div style="font-size:10px" class="perform-table">\n'+l.getPerformSalaryHtml(JSON.parse(i.performDetail),i.performSalary)+"</div>")),typeof i.performLeaveSalary!="undefined"&&(i.realSumHtml=dt(i.performLeaveSalary)),e["realDayOptions"+r]={required:!0,displayName:"",name:"realDay"+r,formName:"salaryComputeForm",placeholder:"",errorDisplayName:"实际出勤天数",pattern:n.BASE_REG_STR,blurHandler:Z(r),disable:i.status==t||i.executeSalaryOri==0||e.onlyViewMode},e["performSalaryOptions"+r]={required:!0,displayName:"",name:"performSalary"+r,formName:"salaryComputeForm",placeholder:"",errorDisplayName:"绩效工资",pattern:n.NEGATIVE_BASE_REG_STR,blurHandler:tt(r),disable:!0},e["houseFundPerOptions"+r]={required:!0,displayName:"",name:"houseFundPer"+r,formName:"salaryComputeForm",placeholder:"",errorDisplayName:"住房公积金",pattern:n.NEG_SIX_NUMBER_REG,blurHandler:nt(r),disable:i.status==t||i.noInsurance||e.onlyViewMode},e["houseFundComOptions"+r]={required:!0,displayName:"",name:"houseFundCom"+r,formName:"salaryComputeForm",placeholder:"",errorDisplayName:"住房公积金",pattern:n.NEG_SIX_NUMBER_REG,blurHandler:rt(r),disable:i.status==t||i.noInsurance||e.onlyViewMode},e["taxFreeSubsidyOptions"+r]={required:!0,displayName:"",name:"taxFreeSubsidy"+r,formName:"salaryComputeForm",placeholder:"",errorDisplayName:"免税所得",pattern:n.NEGATIVE_BASE_REG_STR,blurHandler:it(r),disable:i.status==t||e.onlyViewMode},e["personTaxOptions"+r]={required:!0,displayName:"",name:"personTax"+r,formName:"salaryComputeForm",placeholder:"",errorDisplayName:"个人所得税",pattern:n.BASE_REG_STR,blurHandler:st(r),disable:!0}}}function J(e){var t=Y(e);s.salaryOtherView(t,function(e){if(e.hasSuccess){var n=["mealPlus","recommend","houseSubsidy","specialReward","performExtSalary","otherSubsidy","otherSalary","sumSalary"];for(var r=0,i;i=n[r++];)t[i]=e.item[i];t.executeSalaryType!=d&&et(t),ut(t),lt(t),at(t),ct(t),ht(t)}})}function K(e){var t=Y(e);s.fiveInsuranceView(t,function(e){if(e.hasSuccess){var n=["endowPer","unemployPer","medicalPer","injuryPer","maternityPer","sumSocialSecurityPer"];for(var r=0,i;i=n[r++];)t[i]=e.item[i];lt(t),at(t),ct(t),ht(t)}})}function Q(e){var t=Y(e);s.fiveInsuranceComView(t,function(e){if(e.hasSuccess){var n=["endowCom","unemployCom","medicalCom","injuryCom","maternityCom","sumSocialSecurityCom"];for(var r=0,i;i=n[r++];)t[i]=e.item[i];ft(t),ht(t)}})}function G(e){var t=Y(e);s.salaryDetailView(t,function(e){e.hasSuccess&&(t.detail=e.item.detail,ht(t))})}function Y(t){return e.tableOptions.data[t]}function Z(e){return function(t,n){var r=Y(e),s=r.realDay;if(i.inputEmpty(t)){alert("请输入实际出勤天数");return}t=+t,r.realDay=t,r.executeSalaryType!=d&&et(r,s),r.trafficSubsidy=i.fix(r.trafficSubsidy+(r.realDay-s)*r.trafficSubsidyOri/r.maxDay),r.mobileSubsidy=i.fix(r.mobileSubsidy+(r.realDay-s)*r.mobileSubsidyOri/r.maxDay),r.mealSubsidy=i.fix(r.mealSubsidyOri*t/r.maxDay),ut(r),lt(r),at(r),ct(r),ht(r)}}function et(e,t){typeof t=="undefined"&&(t=e.realDay);var n=i.fix(w(e.executeSalary,x(S(E(e.realDay,t),e.executeSalaryOri),e.maxDay))),r=w(w(e.trafficSubsidy,e.mobileSubsidy),e.mealSubsidy),s=w(n,r);e.performSalary&&(s=w(s,e.performSalary)),e.welfareSalary&&(s=w(s,e.welfareSalary)),e.otherSalary<0&&(s=w(s,e.otherSalary));var o=i.fix(w(E(s,e.sumMinusPer),e.taxFreeSubsidy));o=i.fix(w(o,e.yearAwardFinal||0)),s>e.welfareSalaryOri&&o>e.welfareSalaryOri?e.welfareSalary?e.executeSalary=n:(e.executeSalary=E(n,e.welfareSalaryOri),e.style={background:"white"},e.welfareSalary=e.welfareSalaryOri):e.welfareSalary?(e.executeSalary=w(n,e.welfareSalary),e.welfareSalary=0):(e.executeSalary=n,e.welfareSalary=0,e.welfareSalary==0&&e.welfareSalaryOri!=0?e.style={background:"#f2dede"}:e.style={background:"white"})}function tt(e){return function(t,n){var r=Y(e);i.inputEmpty(t)?r.performSalary=0:r.performSalary=+t,ut(r),lt(r),at(r),ct(r),ht(r)}}function nt(e){return function(t,n){var r=Y(e);i.inputEmpty(t)?r.houseFundPer=0:r.houseFundPer=+t,lt(r),at(r),ct(r),ht(r)}}function rt(e){return function(t,n){var r=Y(e);i.inputEmpty(t)?r.houseFundCom=0:r.houseFundCom=+t,ft(r),ct(r),ht(r)}}function it(e){return function(t,n){var r=Y(e);i.inputEmpty(t)?r.taxFreeSubsidy=0:r.taxFreeSubsidy=+t,ct(r)}}function st(e){return function(t,n){var r=Y(e);i.inputEmpty(t)?r.personTax=0:r.personTax=+t,at(r),ct(r),ht(r)}}function ot(e,t){}function ut(e){var t=e.executeSalary;e.executeSalaryType==d&&(t=i.fix(e.executeSalary*e.realDay));var n=w(w(e.trafficSubsidy,e.mobileSubsidy),e.mealSubsidy),r=w(e.performSalary||0,e.otherSalary);e.sumSalary=i.fix(w(w(t,n),r))}function at(e){var t=w(w(e.sumSocialSecurityPer,e.houseFundPer||0),e.personTax||0);e.sumMinusPer=i.fix(t)}function ft(e){e.sumCom=i.fix(w(e.sumSocialSecurityCom,e.houseFundCom||0))}function lt(e){var t=w(e.sumSocialSecurityPer,e.houseFundPer),n=E(e.sumSalary,t);e.personTax=pt(e.staffType,e.foreigner,n),e.isDisability&&(e.personTax=x(e.personTax,2))}function ct(e){e.realSum=i.fix(w(E(e.sumSalary,e.sumMinusPer),e.taxFreeSubsidy)),e.realSumAll=i.fix(w(e.realSum,e.yearAwardFinal||0))}function ht(e){p[e.number]=!0}function pt(e,t,n){var r=t?4800:3500,s=E(n,r),o=0,u=0,a=0;return e==v.LABOR?(s=n,s<800?a=0:s<4e3?a=S(E(s,800),.2):s<25e3?a=S(s,.16):s<62500?a=E(S(s,.24),2e3):a=E(S(s,.32),7e3)):(s<=1500?(o=.03,u=0):s<=4500?(o=.1,u=105):s<=9e3?(o=.2,u=555):s<=35e3?(o=.25,u=1005):s<=55e3?(o=.3,u=2755):s<=8e4?(o=.35,u=5505):(o=.45,u=13505),a=E(S(s,o),u)),a>0?i.fix(a):0}function dt(e){var t="";return t+='<table border="1">\n    <tr>\n        <th>本月是否结清</th>\n        <th>下月需补扣</th>\n    </tr>\n    <tr>\n        <td>'+(e<0?"否":"是")+"</td>\n"+"        <td>"+ -e+"</td>\n"+"    </tr>\n"+"</table>\n",c.trustAsHtml(t)}e.currentPage=1,e.query={},e.canEditSalary=!0,e.onlyViewMode=!1;var h={},p={},d=r.SALARY_TYPE.DAY,v=r.TYPE_CODE,m=20,g="",y={},b={SAVE:1,CONFIRM:2},w=f.add,E=f.minus,S=f.multiply,x=f.div;e.optType=b,T()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("module/nameConfig"),s=e("../config"),o=e("./colsConfig"),u=e("moment");t.controller("hrSalaryListController",a),a.$inject=["$scope","hrRequest","util","hrOptUtil","adminRequest","bigDecimal","hrUtil","$sce"]}),define("module/hr/taxList/colsConfig",["require"],function(e){return function(e){return[{field:"displayNumber",displayName:"工号",width:50},{field:"lawName",displayName:"法律名",width:50},{field:"staffTypeValue",displayName:"员工类型",width:60},{field:"structureName",displayName:"组织架构",width:120},{field:"isForeignValue",displayName:"证件类型",width:40},{field:"idCardNumber",displayName:"证件号",width:45},{field:"income",displayName:"收入额",width:50},{field:"dutyFreeIncome",displayName:"免税收入额",width:50},{field:"standard",displayName:"费用扣除标准",width:50},{field:"taxIncome",displayName:"应纳税所得",width:50},{field:"taxRate",displayName:"税率（%）",width:50},{field:"taxMoney",displayName:"应扣税额",width:50},{field:"taxStructureName",displayName:"缴纳城市",width:50}]}}),define("module/hr/taxList/controller",["require","../app","module/config","module/codeConfig","module/nameConfig","../config","./colsConfig","moment"],function(e){function a(e,t,r,i,s,a,f,l){function c(){e.onSearch=h,e.tableOptions={data:[],canSelect:!0,totalCount:0,cols:o(e),pageSize:n.PAGE_SIZE,onPageChange:function(t){e.currentPage=t,d()},selectedItems:[]},e.getList=d;var t=u().add(-1,"M").format("YYYY-MM");e.monthMax=t,e.query.month=new Date(t+" 00:00:00"),v()}function h(){d()}function p(e){for(var t=0,n;n=e[t++];);return e}function d(){if(!e.query.month){alert("请输入查询月份");return}var r={pageDto:{pageNum:e.currentPage||1,pageSize:n.PAGE_SIZE},structure:e.query.structure,month:u(e.query.month.getTime()).format("YYYY-MM")};t.getTaxList(r).then(function(t){e.tableOptions.data=p(t.data),e.tableOptions.totalCount=t.pageDto&&t.pageDto.count||0}),e.exportUrl=m(r)}function v(){l.getStructure().then(function(t){e.structureList=s.getSalaryNode(t.data,e),e.query.structure=e.structureList[0].id,d()})}function m(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&n!="pageDto"&&t.push(n+"="+e[n]);return"EXPORT/staff/taxList.json?"+t.join("&")}e.currentPage=1,e.query={},c()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("module/nameConfig"),s=e("../config"),o=e("./colsConfig"),u=e("moment");t.controller("hrTaxListController",a),a.$inject=["$scope","hrRequest","$state","hrUtil","util","hrOptUtil","adminUtil","adminRequest"]}),define("module/hr/securityList/colsConfig",["require"],function(e){return function(e){return[{field:"displayNumber",displayName:"工号",width:50},{field:"name",displayName:"姓名",width:50},{field:"lawName",displayName:"法律名",width:50},{field:"enterDateValue",displayName:"入职日期",width:60},{field:"leaveDateValue",displayName:"离职日期",width:60},{field:"structureName",displayName:"组织架构",width:120},{field:"socialSecurityCityName",displayName:"社保缴纳城市",width:60},{field:"socialSecurityBase",displayName:"社保缴纳基数",width:60},{field:"houseFundBase",displayName:"公积金缴纳基数",width:70},{field:"detail",displayName:"备注",width:60}]}}),define("module/hr/securityList/controller",["require","../app","module/config","module/codeConfig","module/nameConfig","../config","./colsConfig","moment"],function(e){function a(e,t,r,i,s,a,f,l){function c(){e.onSearch=h,e.tableOptions={data:[],canSelect:!0,totalCount:0,cols:o(e),pageSize:n.PAGE_SIZE,onPageChange:function(t){e.currentPage=t,v()},selectedItems:[]},e.getList=v,e.monthMax=u().format("YYYY-MM"),e.query.month=new Date(e.monthMax+"-01 00:00:00"),p()}function h(){v()}function p(){t.getSocialSecurityCity().then(function(t){t.data.unshift(n.EMPTY),e.cityList=t.data})}function d(e){for(var t=0,n;n=e[t++];);return e}function v(){if(!e.query.city){alert("请选择社保缴纳城市");return}if(!e.query.month){alert("请输入查询月份");return}var r={pageDto:{pageNum:e.currentPage||1,pageSize:n.PAGE_SIZE},socialSecurityCity:e.query.city,month:u(e.query.month.getTime()).format("YYYY-MM")};t.getStaffSocialSecurityList(r).then(function(t){e.tableOptions.data=d(t.data),e.tableOptions.totalCount=t.pageDto&&t.pageDto.count||0}),e.exportUrl=m(r)}function m(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&n!="pageDto"&&t.push(n+"="+e[n]);return"EXPORT/staff/socialSecurityList.json?"+t.join("&")}e.currentPage=1,e.query={},c()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("module/nameConfig"),s=e("../config"),o=e("./colsConfig"),u=e("moment");t.controller("hrSecurityListController",a),a.$inject=["$scope","hrRequest","$state","hrUtil","util","hrOptUtil","adminUtil","adminRequest"]}),define("module/hr/attendceRecord/colsConfig",["require"],function(e){return function(e){return[{field:"name",displayName:"姓名"},{field:"number",displayName:"工号"},{field:"day",displayName:"日期"},{field:"calendar",displayName:"周历"},{field:"weekend",displayName:"类型",filter:"weekendShow"},{field:"firstPunch",displayName:"首次打卡时间"},{field:"lastPunch",displayName:"末次打卡时间"},{field:"totalTime",displayName:"出勤时长"},{field:"reason",displayName:"备注"}]}}),define("module/hr/attendceRecord/controller",["require","../app","./colsConfig"],function(e){function r(e,t,r,i){function s(){t.getStructure().then(function(t){e.structureList=r.getPunchCard(t.data)})}function o(){if(!e.query.structure){alert("请选择组织架构");return}if(!e.query.startDate||!e.query.endDate){alert("请选择时间");return}if(e.query.startDate>=e.query.endDate){alert("结束时间要大于开始时间");return}var t={pageDto:{pageNum:e.currentPage||1,pageSize:e.pageSize},structure:e.query.structure,startTs:+(new Date(e.query.startDate)),endTs:+(new Date(e.query.endDate))},n=$.trim(e.query.name);n.length&&n.indexOf(",")!==-1&&(t.userName=$.trim(n.split(",")[1])),i.getCardRecord(t).then(function(n){e.tableOptions.data=n.data,e.tableOptions.totalCount=n.pageDto&&n.pageDto.count||0,e.exportUrl=u(t)})}function u(e){return"/EXPORT/cardRecord/list.json?"+a(e)}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&n!="pageDto"&&t.push(n+"="+e[n]);return t.push("fields=name,number,day,calendar,weekend,firstPunch,lastPunch,totalTime,reason"),t.join("&")}function f(){e.pageSize=20,e.query={},e.tableOptions={data:[],canSelect:!1,totalCount:0,cols:n(e),pageSize:e.pageSize,onPageChange:function(t){e.currentPage=t,o()},selectedItems:[]}}function l(){e.onSearch=o}function c(){f(),l(),s()}c()}var t=e("../app"),n=e("./colsConfig");t.controller("attendceRecordCtrl",r),r.$inject=["$scope","adminRequest","util","hrRequest"]}),define("module/hr/staffInfo/controller",["require","../app","module/config","module/hr/config","module/codeConfig"],function(e){var t=e("../app");t.controller("staffInfoCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","authUtil","hrUtil","commonInfo","hrOptUtil",function(t,n,r,i,s,o,u,a,f){function d(){v(),m(),t.$on("$stateChangeStart",function(e,n){n.name=="subordinate.self.monthSalary"?(t.showLeaveBtn=!1,t.showOptArea=!1):(t.commonInfo.status!=p.LEAVED&&t.commonInfo.status!=p.TO_LEAVE&&(t.showLeaveBtn=!0),t.showOptArea=!0,!t.$root.userInfo.isAgent&&t.isAgent&&(t.showOptArea=!1))})}function v(){if(s.includes("subordinate.self"))t.entryName="subordinate.self",t.isSelfView=!0;else if(s.includes("subordinate.info"))t.entryName="subordinate.info",t.isLeaderView=!0,t.pageTitle="下属信息",t.$emit("viewOtherStaffDetail","");else if(s.includes("admin.staffInfo"))t.entryName="admin.staffInfo",t.pageTitle="员工信息",t.showOptArea=!1;else{var e=s.current.name.split(".");u.initEntryHRType(t),t.isFromRelationshipHR&&(t.canSeeInitInfo=!0),t.isHRView=!0,t.$emit("viewOtherStaffDetail","")}t.canReadBaseInfo=!0,t.canReadWorkInfo=!0,t.canReadSalaryInfo=!0,t.canReadMonthSalary=!1,t.canReadSecretInfo=!0,t.canReadChangeInfo=!0,t.canReadLeaveInfo=!1,t.canReadWorkTargetInfo=!1,t.canReadFormalApplyInfo=!1,t.entryName=="subordinate.self"?(t.canReadLeaveInfo=!1,t.canReadMonthSalary=!0):t.entryName=="subordinate.info"?t.canReadSecretInfo=!1:t.entryName=="admin.staffInfo"?t.canReadLeaveInfo=!0:(t.canReadBaseInfo=!0,t.canReadWorkInfo=!0,t.canReadSalaryInfo=t.isFromHRBP||t.isFromSalaryHR,t.canReadMonthSalary=t.canReadSalaryInfo,t.canReadSecretInfo=t.isFromHRBP||t.isFromRelationshipHR,t.canReadChangeInfo=!0);var n=t.commonInfo.status;(t.isFromRelationshipHR||t.isFromHRBP)&&t.commonInfo.dimissionStatus!=c.DIMISSION_STATUS.NOT_APPLY&&(t.canReadLeaveInfo=!0);var r=t.commonInfo,n=r.status;t.detail=r.detail,n==p.TO_JOIN&&t.isFromRelationshipHR&&t.isHRView?t.showJoinBtn=!0:t.showJoinBtn=!1,t.commonInfo.forbidStatus&&(t.curForbidBtnName="解冻账号"),t.commonInfo.type==21&&(t.isAgent=1)}function m(){y(),g()}function g(){var e=t.commonInfo.applyList,n=h.APPLY_CODE;e.length!=0&&(t.disableTransFullBtn=!0,t.disableStructureChangeBtn=!0,t.disableSalaryChangeBtn=!0,t.disbaleLeaveBtn=!0,t.disbaleMultipleBtn=!0,t.disableProbationChangeBtn=!0,t.disableFormalApplyBtn=!0,t.disableWorkTarget=!0)}function y(){var e=t.commonInfo.type,n=h.TYPE_CODE,r=s.includes("hr.businessPartnerHR-staffInfo"),i=s.includes("hr.relationshipHR-staffInfo"),o=s.includes("hr.salaryHR-staffInfo");(e==n.INTERNS||e==n.LABOR)&&(r||t.entryName=="subordinate.info")&&(t.showTransFullBtn=!0);if(t.entryName=="subordinate.info"||r||i)t.showStructureChangeBtn=!0;if(t.entryName=="subordinate.info"||r)t.showMultipleBtn=!0;if(t.entryName=="subordinate.info"||r||o)t.showSalaryChangeBtn=!0;r&&(t.showForbidBtn=!0),t.entryName=="subordinate.info"&&t.commonInfo.probationaryStatus===1&&t.commonInfo.type===1&&(t.showProbationChangeBtn=!0);if(t.commonInfo.type===1){t.commonInfo.formalApplyStatus===1&&t.entryName=="subordinate.self"&&(t.showFormalApplyBtn=!0),t.commonInfo.workTargetStatus===1&&t.entryName=="subordinate.self"&&(t.showWorkTargetBtn=!0);if(r||i||t.entryName=="subordinate.info"||t.entryName=="subordinate.self"||t.entryName=="admin.staffInfo")t.canReadFormalApplyInfo=!0,t.canReadWorkTargetInfo=!0}if(r||i||t.entryName=="subordinate.info"||t.entryName=="subordinate.self")s.includes("subordinate.self.monthSalary")?(t.showLeaveBtn=!1,t.showOptArea=!1):(t.showLeaveBtn=!0,t.showOptArea=!0);if(t.commonInfo.status==p.ABANDED||t.commonInfo.status==p.LEAVED||t.commonInfo.status==p.TO_JOIN)t.showOptArea=!1;if(t.commonInfo.status==p.LEAVED||t.commonInfo.status==p.TO_LEAVE)t.showLeaveBtn=!1,t.showStructureChangeBtn=!1;!t.$root.userInfo.isAgent&&t.isAgent&&(t.showOptArea=!1)}function b(){f.changeProbation(t.number,function(e){e.hadSuccess&&L()})}function w(){f.writeWorkTarget(t.number,function(e){e.hadSuccess&&L()})}function E(){f.formalApply(t.number,function(e){e.hadSuccess&&L()})}function S(){f.transFullTime(t.number,function(e){e.hadSuccess&&L()})}function x(){f.changeStructure(t.number,t.isFromHRBP,function(e){e.hadSuccess&&L()})}function T(){f.changeSalary(t.number,function(e){e.hadSuccess&&L()})}function N(){f.leave(t.number,function(e){e.hadSuccess&&L()})}function C(){f.multipleChange(t.number,t.isFromHRBP,function(e){e.hadSuccess&&L()})}function k(){var e=1;t.curForbidBtnName=="解冻账号"&&(e=0),confirm("您确认要"+(e?"冻结":"解冻")+"此账号吗",function(){n.forbidAccount({forbid:e,number:t.number}).then(function(){info("操作成功"),e?t.curForbidBtnName="解冻账号":t.curForbidBtnName="冻结账号"})})}function L(){t.disableProbationChangeBtn=!0,t.disableTransFullBtn=!0,t.disableStructureChangeBtn=!0,t.disableSalaryChangeBtn=!0,t.disbaleLeaveBtn=!0,t.disbaleMultipleBtn=!0,t.disableWorkTargetBtn=!0,t.disableFormalApplyBtn=!0}function A(){t.hasGetJobNumber=!0,n.getJobNumber({number:t.number}).then(function(e){t.commonInfo.displayNumber=e.displayNumber},function(){t.hasGetJobNumber=!1})}t.commonInfo=a.data;var l=e("module/config"),c=e("module/hr/config"),h=e("module/codeConfig");t.number=i.get("number"),t.pageTitle="员工信息",t.canSeeInitInfo=!1,t.onTransFull=S,t.onChangeStructure=x,t.onChangeSalary=T,t.onLeave=N,t.onMultiple=C,t.onForbid=k,t.onWriteWorkTarget=w,t.onFormalApply=E,t.onChangeProbation=b,t.showOptArea=!0,t.showForbidBtn=!1,t.curForbidBtnName="冻结账号",t.getJobNumber=A,t.hasGetJobNumber=t.commonInfo.displayNumber;var p=h.STAFF_STATUS_CODE;t.joinWorkClick=function(){u.joinWork(t.number).then(function(e){t.showJoinBtn=!1,t.commonInfo.status=p.HAS_JOINED,t.showOptArea=!0,t.$broadcast("hasEntered","")})},t.initInfoClick=function(){u.showInitInfo(t.number)},d()}])}),define("module/hr/baseInfo/options",["require","module/config","module/codeConfig","moment"],function(e){return function(t,n,r,i,s,o){var u=e("module/config"),a=e("module/codeConfig"),f=e("moment"),l={hometown:{required:!1,displayName:"籍贯",maxLength:10,name:"hometown",formName:t,placeholder:"少于10个字"},ethnic:{required:!1,displayName:"民族",maxLength:10,name:"ethnic",formName:t,placeholder:"少于10个字"},politicalStatus:{required:!1,displayName:"政治面貌",maxLength:10,name:"politicalStatus",formName:t,placeholder:"少于10个字"},birthplace:{required:!1,displayName:"出生地点",maxLength:10,name:"birthplace",formName:t,placeholder:""},accountLocation:{required:!1,displayName:"户口所在地",maxLength:10,name:"accountLocation",formName:t,placeholder:""},degree:{required:!0,displayName:"学历",name:"degree",formName:t,mode:"select",items:u.DEGREE,filter:"degree"},religion:{required:!1,displayName:"宗教信仰",maxLength:10,name:"religion",formName:t,placeholder:"少于10个字"},maritalStatus:{required:!1,displayName:"婚姻状况",name:"maritalStatus",formName:t,mode:"select",items:u.MARITAL_STATUS,filter:"maritalStatus"},citizenship:{required:!1,displayName:"国籍",maxLength:10,name:"citizenship",formName:t,placeholder:"少于10个字"},isForeign:{required:!1,displayName:"证件类型",name:"isForeign",formName:t,mode:"select",items:u.ID_CARD_TYPE,filter:"idCardType"},birthday:{required:!0,displayName:"出生日期",name:"birthday",formName:t,placeholder:"yy-MM-dd",type:"date",filter:"dateFormat",max:f().toDate()},accountType:{required:!1,displayName:"户口类型",name:"accountType",formName:t,mode:"select",items:u.ACCOUNT_TYPE,filter:"accountType"},beginWorkTime:{required:!1,displayName:"全职参加工作时间",name:"beginWorkTime",formName:t,placeholder:"yy-MM-dd",type:"date",filter:"dateFormat",max:f().toDate()},isGraduate:{required:!1,displayName:"是否毕业生入职",name:"isGraduate",formName:t,mode:"select",items:u.IS_GRADUATE,filter:"isGraduate"},mobile:{required:!0,displayName:"手机号",maxLength:15,name:"mobile",formName:t,pattern:"\\d*",placeholder:"少于15个数字"},idCardNumber:{required:!0,displayName:"证件号",maxLength:18,name:"idCardNumber",formName:t,pattern:"[0-9a-zA-Z()（）]*",placeholder:"少于18个字"},idCardAndContract:{required:!0,displayName:"劳动合同/实习协议",name:"idCardAndContract",formName:t,mode:"file"},idCardUpload:{required:!0,displayName:"身份证复印件",name:"idCardUpload",formName:t,mode:"file"},limitAgreement:{required:!0,displayName:"竞业协议",name:"limitAgreement",formName:t,mode:"file"},resume:{required:!1,displayName:"简历",name:"resume",formName:t,mode:"file"},contractEndDate:{required:!1,displayName:"合同到期时间",formName:t,name:"contractEndDate"},formalDate:{required:!1,displayName:"转正日期",mode:"select",formName:t,name:"formalDate",items:[]},enterTime:{required:!0,displayName:"入职日期",name:"enterTime",formName:t,placeholder:"yy-MM-dd",type:"date",filter:"dateFormat"}},c=n.staffType;c==a.TYPE_CODE.REGULAR&&(l.hometown.required=!0,l.ethnic.required=!0,l.politicalStatus.required=!0,l.birthplace.required=!0,l.accountLocation.required=!0,l.religion.required=!0,l.maritalStatus.required=!0,l.citizenship.required=!0,l.isForeign.required=!0,l.accountType.required=!0,l.beginWorkTime.required=!0,l.isGraduate.required=!0),c==a.AGENT_TYPE_CODE.REGULAR&&(l.idCardAndContract.required=!1,l.idCardUpload.required=!1,l.limitAgreement.required=!1),r.isHeadquartersHR()||n.isSelfView?(l.idCardAndContract.required=!1,l.idCardUpload.required=!1,l.limitAgreement.required=!1):s.needUploadLimitAgreement(i.structureName,i.level,i.type)||(l.limitAgreement.required=!1);if(n.isSelfView)for(var h in l)$.inArray(h,o)==-1&&(l[h].required=!1);return l}}),define("module/hr/baseInfo/educationInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{start:{required:!0,displayName:"开始时间",name:"start",formName:t,type:"month",placeholder:"YYYY-MM"},end:{required:!0,displayName:"结束时间",name:"end",formName:t,type:"month"},school:{required:!0,displayName:"学校",name:"school",formName:t,maxLength:15,placeholder:"少于15个字"},discipline:{required:!0,displayName:"专业",name:"discipline",formName:t,maxLength:15,placeholder:"少于15个字"},degree:{required:!0,displayName:"学历",name:"degree",formName:t,mode:"select",items:n.DEGREE}}}}),define("module/hr/baseInfo/workExpInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{start:{required:!0,displayName:"开始时间",name:"start",formName:t,type:"month",placeholder:"YYYY-MM"},end:{required:!0,displayName:"结束时间",name:"end",formName:t,type:"month"},company:{required:!0,displayName:"单位",name:"company",formName:t,maxLength:30,placeholder:"少于30个字"},position:{required:!0,displayName:"职位",name:"position",formName:t,maxLength:30,placeholder:"少于30个字"}}}}),define("module/hr/baseInfo/controller",["require","../app","./options","./educationInfo","./workExpInfo","module/config","module/codeConfig","../config","moment"],function(e){var t=e("../app"),n=e("./options"),r=e("./educationInfo"),i=e("./workExpInfo"),s=e("module/config"),o=e("module/codeConfig"),u=e("../config"),a=e("moment");t.controller("hrBaseInfoCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","authUtil","hrUtil","util","workInfo","hrOptUtil",function(e,t,f,l,c,h,p,d,v,m){function E(t){var n=$.extend(!0,{},e.educationList);for(var r=0,i;i=n[r++];)i.disable=!t;e.educationList=n}function S(t){var n=$.extend(!0,{},e.workExpList);for(var r=0,i;i=n[r++];)i.disable=!t;e.workExpList=n}function x(){for(var t=0,n;n=b[t++];)e.baseOptions[n].disable=!1}function T(){e.isReadOnly=!0,e.disbaleBaseInput(),e.getBaseInfo()}function N(){E(!1),S(!1),e.isReadOnly2=!0,e.getEducationExperience(),e.getWorkExperience()}function C(){e.commonInfo.type==o.AGENT_TYPE_CODE.REGULAR&&(e.isAgent=1),e.entryName=="subordinate.self.baseInfo"?(e.canEditBaseInfo=!0,e.canEditWorkEduInfo=!1,e.showModMobile=!0,e.isSelfView=!0):e.entryName=="subordinate.info.baseInfo"?(e.canEditBaseInfo=!1,e.canEditWorkEduInfo=!1):(p.initEntryHRType(e),e.isFromRelationshipHR&&(e.canEditBaseInfo=!0,e.canEditWorkEduInfo=!0),e.isFromHRBP&&(e.canEditBaseInfo=!0,e.canEditWorkEduInfo=!0)),e.disbaleBaseInput(),e.getBaseInfo(),p.initCommonInfo(e),e.baseOptions=n("baseInfoForm",e,h,v,p,b),e.staffType!==1&&(e.baseOptions.formalDate.forbid=!0),e.disbaleBaseInput(e.baseOptions),e.getEducationExperience(),e.getWorkExperience(),k()}function k(){if(e.isFromSalaryHR||e.isFromTrainingHR)e.canDownLoadFile=!1}function L(){e.isSelfView?x():e.enableBaseInput(),e.isReadOnly=!1}function A(){E(!0),S(!0),e.isReadOnly2=!1}function O(){m.validatePassword(e.number,M)}function M(t){t.hadSuccess&&m.modMobile(e.number,t.password,_)}function _(t){t.hadSuccess&&(e.mobile=t.mobile)}function D(t){t&&!e.isReadOnly&&(e.staffType===1?(e.baseOptions.formalDate.items=[{id:1,name:a(t).add(3,"month").format("YYYY/MM/DD")},{id:2,name:a(t).add(6,"month").format("YYYY/MM/DD")}],e.formalDate=2,e.contractEndDate=new Date(a(t).add(3,"year").format())):(e.formalDate=undefined,e.contractEndDate=new Date(a(t).add(6,"month").format())),e.baseOptions.contractEndDate.displayValue=a(e.contractEndDate).subtract(1,"day").format("YYYY-MM-DD"))}e.number=l.get("number");var v=v.data,g="",y="";e.isSelfView=!1;var b=["hometown","ethnic","politicalStatus","birthplace","accountLocation","religion","maritalStatus","citizenship"],w={};e.entryName=c.current.name,e.educationAddOptions=r("educationAddForm"),e.workExpAddOptions=i("workExpAddForm"),e.isReadOnly=!0,e.isReadOnly2=!0,e.onEdit=L,e.onEditPart2=A,e.canDownLoadFile=!0,e.modMobileClick=O,e.cancelPart1=T,e.cancelPart2=N,e.showModMobile=!1,e.disbaleBaseInput=function(){p.disableOptions(e.baseOptions);if(e.educationList)for(var t=0,n;n=e.educationList[t++];)n.disable=!0;if(e.workExpList)for(var t=0,n;n=e.workExpList[t++];)n.disable=!0},e.enableBaseInput=function(){p.enableOptions(e.baseOptions),e.commonInfo.status!=o.STAFF_STATUS_CODE.TO_JOIN&&(e.baseOptions.enterTime.disable=!0,e.baseOptions.formalDate.disable=!0),e.baseOptions.contractEndDate.disable=!0},e.getBaseInfo=function(){t.getStaffBaseInfo({number:e.number}).then(function(t){for(var n in t.data)t.data.hasOwnProperty(n)&&(e[n]=t.data[n]);e.birthday&&(e.birthday=new Date(d.formatTime(e.birthday)+" 00:00:00")),e.beginWorkTime&&(e.beginWorkTime=new Date(e.beginWorkTime)),e.enterTime&&(g=e.enterTime,e.enterTime=new Date(e.enterTime),e.staffType===1&&(e.baseOptions.formalDate.items=[{id:1,name:a(e.enterTime).add(3,"month").format("YYYY/MM/DD")},{id:2,name:a(e.enterTime).add(6,"month").format("YYYY/MM/DD")}])),e.formalDate>0&&(y=e.formalDate,e.baseOptions.formalDate.displayValue=a(e.formalDate).format("YYYY-MM-DD"),+a(e.enterTime).add(3,"month").format("YYYYMMDD")==+a(e.formalDate).format("YYYYMMDD")?e.formalDate=1:+a(e.enterTime).add(6,"month").format("YYYYMMDD")==+a(e.formalDate).format("YYYYMMDD")?e.formalDate=2:e.formalDate=new Date(e.formalDate)),e.contractEndDate&&(e.contractEndDate=new Date(e.contractEndDate),e.baseOptions.contractEndDate.displayValue=a(e.contractEndDate).format("YYYY-MM-DD")),e.baseOptions.idCardAndContract.fileUrl=e.idCardAndContractFile,e.baseOptions.idCardUpload.fileUrl=e.idCardUploadFile,e.baseOptions.limitAgreement.fileUrl=e.limitAgreementFile,e.baseOptions.resume.fileUrl=e.resumeFile})},e.saveBaseInfo=function(n){if(!n.$valid)return;if(e.commonInfo.status==o.STAFF_STATUS_CODE.TO_JOIN&&e.staffType===1){if(!e.formalDate){alert("请选择转正日期");return}e.formalDate=new Date(e.baseOptions.formalDate.items[e.formalDate-1].name)}e.staffType!==1&&(e.formalDate=undefined),y&&e.commonInfo.status!==o.STAFF_STATUS_CODE.TO_JOIN&&(e.formalDate=new Date(y));var r={number:e.number,hometown:e.hometown,ethnic:e.ethnic,politicalStatus:e.politicalStatus,birthplace:e.birthplace,accountLocation:e.accountLocation,degree:e.degree,religion:e.religion,maritalStatus:e.maritalStatus,citizenship:e.citizenship,isForeign:e.isForeign,birthday:e.birthday&&(new Date(e.birthday)).getTime(),accountType:e.accountType,beginWorkTime:e.beginWorkTime&&(new Date(e.beginWorkTime)).getTime(),isGraduate:e.isGraduate,mobile:e.mobile,idCardNumber:e.idCardNumber,contractEndDate:e.contractEndDate&&e.contractEndDate.getTime(),formalDate:e.formalDate&&e.formalDate.getTime(),enterTime:e.enterTime&&e.enterTime.getTime(),idCardAndContract:e.idCardAndContract,idCardUpload:e.idCardUpload,limitAgreement:e.limitAgreement,resume:e.resume};if(r.idCardNumber&&r.isForeign==s.ID_CARD_CODE&&r.idCardNumber.length!=u.CHINESE_ID_CARD_NUMBER_LENGTH){alert("请输入18位身份证");return}if(r.enterTime!=g&&!d.validateLast7Day("入职日期",r.enterTime))return;var i=t.saveBaseInfo;if(e.isSelfView){i=t.saveBaseInfoSelf;for(var a in r)r.hasOwnProperty(a)&&$.inArray(a,b)==-1&&a!="number"&&delete r[a]}i(r).then(function(){info("保存成功"),e.isReadOnly=!0,e.disbaleBaseInput(),e.getBaseInfo()})},e.getEducationExperience=function(){t.getEducationExperience({number:e.number}).then(function(t){for(var n=0,r;r=t.data[n++];)r.start=new Date(r.start),r.end=new Date(r.end),e.isReadOnly2&&(r.disable=!0);e.educationList=t.data})},e.getWorkExperience=function(){t.getWorkExperience({number:e.number}).then(function(t){for(var n=0,r;r=t.data[n++];)r.start=new Date(r.start),r.end=new Date(r.end),e.isReadOnly2&&(r.disable=!0);e.workExpList=t.data})},e.educationAdd={addClick:function(){e.addingEducation=!0},onCancel:function(){var t=this;e.addingEducation=!1,t.clearInfo()},clearInfo:function(){e.educationAdd.start=undefined,e.educationAdd.end=undefined,e.educationAdd.school=undefined,e.educationAdd.discipline=undefined,e.educationAdd.degree=undefined},onSave:function(n){n.$submitted=!0;var r=this;if(!n.$valid)return;var i=e.educationAdd.start.getTime(),s=e.educationAdd.end.getTime();if(i>s){alert("结束时间必须大于开始时间");return}t.addEducationExperience({number:e.number,start:i,end:s,school:e.educationAdd.school,discipline:e.educationAdd.discipline,degree:e.educationAdd.degree}).then(function(t){info("添加成功"),e.addingEducation=!1,e.getEducationExperience(),n.$submitted=!1,r.clearInfo()})}},e.workExpAdd={addClick:function(){e.addingWorkExp=!0},onCancel:function(){var t=this;e.addingWorkExp=!1,t.clearInfo()},clearInfo:function(){e.workExpAdd.start=undefined,e.workExpAdd.end=undefined,e.workExpAdd.company=undefined,e.workExpAdd.position=undefined},onSave:function(n){n.$submitted=!0;var r=this;if(!n.$valid)return;var i=e.workExpAdd.start.getTime(),s=e.workExpAdd.end.getTime();if(i>s){alert("结束时间必须大于开始时间");return}t.addWorkExperience({number:e.number,start:i,end:s,company:e.workExpAdd.company,position:e.workExpAdd.position}).then(function(t){info("添加成功"),e.addingWorkExp=!1,e.getWorkExperience(),n.$submitted=!1,r.clearInfo()})}},C(),e.$watch("enterTime",function(t,n){e.isReadOnly||D(t)})}])}),define("module/hr/workInfo/options",["require","module/config","module/nameConfig","module/codeConfig"],function(e){return function(t,n){var r=e("module/config"),i=e("module/nameConfig"),s=e("module/codeConfig"),o={contractCompany:{required:!0,displayName:"合同签约公司",mode:"select",formName:t,name:"contractCompany",items:[]},socialSecurityCity:{required:!1,displayName:"社保缴纳城市",mode:"select",name:"socialSecurityCity",formName:t,items:[]},office:{required:!0,displayName:"工作地点",mode:"select",name:"office",formName:t,items:[]},sit:{required:!1,displayName:"工位",maxLength:15,name:"sit",formName:t,placeholder:"示例:F1-001"},icCardNumber:{required:!1,displayName:"工卡卡号",maxLength:50,name:"icCardNumber",formName:t,placeholder:"少于50个字"},requireCheckTime:{required:!1,displayName:"检查打卡时间",mode:"select",name:"requireCheckTime",formName:t,filter:"boolean",items:[{id:1,name:"是"},{id:0,name:"否"}]},remotePunchCard:{required:!1,displayName:"是否异地打卡",name:"remotePunchCard",formName:t,mode:"select",items:r.REMOTE_PUNCH_CARD,filter:"remotePunchCard"},workEmail:{required:!1,displayName:"邮箱地址",name:"workEmail",formName:t}},u=n.staffType;return u==s.TYPE_CODE.REGULAR&&(o.socialSecurityCity.required=!0),o}}),define("module/hr/workInfo/controller",["require","../app","./options","module/config","module/codeConfig"],function(e){var t=e("../app"),n=e("./options"),r=e("module/config"),i=e("module/codeConfig");t.controller("hrWorkInfoCtrl",["$scope","hrRequest","adminRequest","$stateParams","localStorage","$state","authUtil","hrUtil","util",function(e,t,s,o,u,a,f,l,c){function h(){e.entryName=="subordinate.self.workInfo"?e.canEditWorkInfo=!0:e.entryName=="subordinate.info.workInfo"?e.canEditWorkInfo=!1:(l.initEntryHRType(e),e.isFromHRBP&&(e.canEditWorkInfo=!0),e.isFromRelationshipHR&&(e.canEditWorkInfo=!0)),(!e.canEditWorkInfo||e.isReadOnly)&&e.disbaleWorkInput(),e.getWorkInfo(),l.initCommonInfo(e),e.getContractCompany(),d(),v()}function p(){e.entryName=="subordinate.self.workInfo"?e.workOptions.sit.disable=!1:(e.workOptions.sit.disable=!1,e.workOptions.icCardNumber.disable=!1,e.workOptions.remotePunchCard.disable=!1,e.workOptions.requireCheckTime.disable=!1,e.commonInfo.status==i.STAFF_STATUS_CODE.TO_JOIN&&(e.workOptions.office.disable=!1,e.workOptions.contractCompany.disable=!1,e.commonInfo.type==i.TYPE_CODE.REGULAR&&(e.workOptions.socialSecurityCity.disable=!1))),e.isReadOnly=!1}function d(){e.canEditWorkInfo&&t.getOffice().then(function(t){t.data.unshift(r.EMPTY),e.workOptions.office.items=t.data})}function v(){e.canEditWorkInfo&&t.getSocialSecurityCity().then(function(t){t.data.unshift(r.EMPTY),e.workOptions.socialSecurityCity.items=t.data})}function m(){s.getKeyNodeInfo({structure:e.structure}).then(function(t){t.data.punchCard?e.isPunchCardNode=!0:e.isPunchCardNode=!1})}e.number=u.get("number"),e.structure={},e.isReadOnly=!0,e.entryName=a.current.name,e.workOptions=n("workInfoForm",e),e.onEdit=p,e.getContractCompany=function(){e.canEditWorkInfo&&t.getContractCompany().then(function(t){t.data.unshift(r.EMPTY),e.workOptions.contractCompany.items=t.data})},e.disbaleWorkInput=function(){l.disableOptions(e.workOptions)},e.getWorkInfo=function(){t.getStaffWorkInfo({number:e.number}).then(function(t){$.extend(!0,e,t.data),e.leader=c.getShowUserName(e.leader,e.leaderName),e.workOptions.contractCompany.displayValue=e.contractCompanyName,e.workOptions.office.displayValue=e.officeName,e.workOptions.socialSecurityCity.displayValue=e.socialSecurityCityName,m()})},e.saveWorkInfo=function(n){if(!n.$valid)return;var r={number:e.number,office:e.office,socialSecurityCity:e.socialSecurityCity,contractCompany:e.contractCompany,sit:e.sit,icCardNumber:e.icCardNumber,remotePunchCard:e.remotePunchCard,requireCheckTime:e.requireCheckTime};t.saveWorkInfo(r).then(function(){info("保存成功"),e.isReadOnly=!0,e.disbaleWorkInput(),e.getWorkInfo()})},h()}])}),define("module/hr/salaryInfo/options",["require","module/config","module/codeConfig","module/nameConfig","moment"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o=e("moment"),u=i.MEAL_SALARY_METHOD,a=s.MEAL_SALARY_METHOD,f={welfareSalary:{required:!0,displayName:"职位福利费",name:"welfareSalary",formName:t,placeholder:"职位福利费",pattern:"\\d*",disable:!0,postfix:"元/月"},mealSalaryMethod:{required:!0,displayName:"餐补发放方式",name:"mealSalaryMethod",formName:t,filter:"mealSalaryMethod",disable:!0,mode:"select",items:[{id:u.SALARY,name:a[u.SALARY]},{id:u.MEALCARD,name:a[u.MEALCARD]}]}};return f}}),define("module/hr/salaryInfo/controller",["require","../app","module/config","module/codeConfig","module/nameConfig","./options"],function(e){var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("module/nameConfig");t.controller("hrSalaryInfoCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","authUtil","hrUtil","adminRequest","util",function(t,n,i,s,o,u,a,f,l){function p(e){n.getSocialSecurityCity({socialSecurityCity:e}).then(function(e){c=e.data[0],t.needFiveBase=c.needFiveBase})}function d(){t.getSalaryInfo(),t.getWorkInfo(),a.initEntryHRType(t),t.isFromSalaryHR&&(t.canEditSalaryInfo=!0)}function v(e){return e<15e3?0:e}function m(){f.getKeyNodeInfo({structure:t.structure}).then(function(e){var n=e.data.punchCard;n==r.PUNCH_CARD.NEED_SUBSIDY_NOT_BY_SALARY?(t.mealSubsidyToMealCard=!0,t.mealSalaryMethod||(t.mealSalaryMethod=r.MEAL_SALARY_METHOD.MEALCARD)):t.mealSubsidyToMealCard=!1})}t.number=s.get("number");var c={},h=e("./options");t.canEditSalaryInfo=!1,t.isReadOnly=!0,t.entryName=o.current.name,t.options=h("salaryInfoForm",t),t.getSalaryInfo=function(){t.isProbationary=t.commonInfo.isProbationary,n.getStaffSalaryInfo({number:t.number}).then(function(e){$.extend(!0,t,e.data),t.welfareOri=t.welfareSalary,t.mealSubsidyToMealCard&&(t.mealSalaryMethod||(t.mealSalaryMethod=r.MEAL_SALARY_METHOD.MEALCARD)),t.isProbationary?t.maxWelfareSalary=v(t.probationarySalary.value):t.maxWelfareSalary=v(t.baseSalary.value)})},t.getWorkInfo=function(){n.getStaffWorkInfo({number:t.number}).then(function(e){$.extend(!0,t,e.data),p(t.socialSecurityCity),m()})},t.onEdit=function(){t.isFromSalaryHR?t.options.welfareSalary.disable=!1:t.isFromSelf&&(t.options.mealSalaryMethod.disable=!1),t.isReadOnly=!1},t.disbaleSalaryInput=function(){a.disableOptions(t.options)},t.saveSalaryInfo=function(e){if(!e.$valid)return;var r={number:t.number,welfareSalary:+t.welfareSalary};if(+t.welfareSalary>t.maxWelfareSalary){alert("职位福利费必须小于上限"+t.maxWelfareSalary);return}var i=n.saveSalaryInfo;t.isFromSelf&&(i=n.changeMealSalaryMethod,r={method:t.mealSalaryMethod}),i(r).then(function(){info("保存成功"),t.isReadOnly=!0,t.disbaleSalaryInput(),t.getSalaryInfo()})},d()}])}),define("module/hr/secretInfo/options",["require","module/config","module/codeConfig"],function(e){return function(t,n){var r=e("module/config"),i=n.staffType,s=e("module/codeConfig"),o={cardNum:{required:!0,displayName:"银行卡号",maxLength:20,name:"cardNum",formName:t,pattern:"\\d*",placeholder:"少于20个数字"},personalEmail:{required:!1,displayName:"联系邮箱",maxLength:50,name:"personEmail",formName:t,type:"email",placeholder:"50位英文字母+数字+字符"},emergContact:{required:!1,displayName:"紧急联系人",maxLength:10,name:"emergContact",formName:t,placeholder:"少于10个字"},emergContactMobile:{required:!1,displayName:"紧急联系人电话",maxLength:15,name:"emergContactMobile",formName:t,pattern:"\\d*",placeholder:"少于15个数字"},address:{required:!1,displayName:"住址及邮编",maxLength:50,name:"address",formName:t,placeholder:"少于50个字"},filePlace:{required:!1,displayName:"档案挂靠处",maxLength:50,name:"filePlace",formName:t,placeholder:"少于50个字"},bank:{required:!0,displayName:"发卡行",mode:"select",name:"bank",formName:t,items:[]}};return i==s.TYPE_CODE.REGULAR&&(o.personalEmail.required=!0,o.emergContact.required=!0,o.emergContactMobile.required=!0,o.address.required=!0),o}}),define("module/hr/secretInfo/familyMemberInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{name:{required:!0,displayName:"姓名",name:"name",formName:t,maxLength:30,placeholder:"少于30个字"},title:{required:!0,displayName:"称谓",name:"title",formName:t,maxLength:30,placeholder:"少于30个字"},birthday:{required:!1,displayName:"生日",name:"birthday",formName:t,type:"date",placeholder:"YYYY-MM-DD",filter:"dateFormat"},company:{required:!1,displayName:"单位",name:"company",formName:t,maxLength:30,placeholder:"少于30个字"},position:{required:!1,displayName:"职位",name:"position",formName:t,maxLength:30,placeholder:"少于30个字"},mobile:{required:!1,displayName:"联系电话",maxLength:15,name:"mobile",formName:t,type:"number",placeholder:"少于15个数字"}}}}),define("module/hr/secretInfo/controller",["require","../app","./options","./familyMemberInfo","module/config","module/codeConfig"],function(e){var t=e("../app"),n=e("./options"),r=e("./familyMemberInfo"),i=e("module/config");t.controller("hrSecretInfoCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","authUtil","hrUtil",function(t,s,o,u,a,f,l){function h(e){var n=t.familyList;for(var r=0,i;i=n[r++];)i.disable=!e;t.isReadOnly2=!1}function p(){t.getSecretInfo(),l.initCommonInfo(t),t.secretOptions=n("secretInfoForm",t),t.canEditSecretInfo=!1,t.isReadOnly=!0,t.entryName=="subordinate.info.secretInfo"?t.canEditSecretInfo=!1:t.entryName=="subordinate.self.secretInfo"?t.canEditSecretInfo=!0:(l.initEntryHRType(t),t.isFromRelationshipHR&&(t.canEditSecretInfo=!0),t.isFromHRBP&&(t.canEditSecretInfo=!0)),t.isReadOnly&&t.disbaleSecretInput(),t.getFamilyMember(),y()}function d(){t.enableSecretInput(),t.isReadOnly=!1}function v(){h(!0),t.isReadOnly2=!1}function m(){t.isReadOnly=!0,t.disbaleSecretInput(),t.getSecretInfo()}function g(){h(!1),t.isReadOnly2=!0}function y(){t.canEditSecretInfo&&s.getBank().then(function(e){e.data.unshift(i.EMPTY),t.secretOptions.bank.items=e.data})}t.number=u.get("number");var c=e("module/codeConfig");t.entryName=a.current.name,t.familyMemberOptions=r("familyMemberAddForm"),t.disbaleSecretInput=function(){l.disableOptions(t.secretOptions);var e=t.familyList;if(e)for(var n=0,r;r=e[n++];)r.disable=!0},t.enableSecretInput=function(){l.enableOptions(t.secretOptions)},t.isReadOnly=!0,t.isReadOnly2=!0,t.onEdit=d,t.onEditPart2=v,t.cancelPart1=m,t.cancelPart2=g,t.getSecretInfo=function(){s.getStaffSecretInfo({number:t.number}).then(function(e){var n=e.data;t.cardNum=n.cardNum,t.emergContactMobile=n.emergContactMobile,t.personalEmail=n.personalEmail,t.emergContact=n.emergContact,t.address=n.address,t.address=n.address,t.bank=n.bank,t.filePlace=n.filePlace,t.secretOptions.bank.displayValue=n.bankName})},t.getFamilyMember=function(){s.getFamilyMember({number:t.number}).then(function(e){for(var n=0,r;r=e.data[n++];)t.isReadOnly2&&(r.disable=!0),r.mobile=+r.mobile;t.familyList=e.data})},t.familyMemberAdd={addClick:function(){t.addingFamilyMember=!0},onCancel:function(){var e=this;t.addingFamilyMember=!1,e.clearInfo()},clearInfo:function(){t.familyMemberAdd.name=undefined,t.familyMemberAdd.title=undefined,t.familyMemberAdd.birthday=undefined,t.familyMemberAdd.company=undefined,t.familyMemberAdd.position=undefined,t.familyMemberAdd.mobile=undefined},onSave:function(e){e.$submitted=!0;var n=this;if(!e.$valid)return;s.addFamilyMember({number:t.number,name:t.familyMemberAdd.name,title:t.familyMemberAdd.title,birthday:t.familyMemberAdd.birthday&&t.familyMemberAdd.birthday.getTime(),company:t.familyMemberAdd.company,position:t.familyMemberAdd.position,mobile:t.familyMemberAdd.mobile}).then(function(r){info("添加成功"),t.addingFamilyMember=!1,t.getFamilyMember(),e.$submitted=!1,n.clearInfo()})}},t.saveSecretInfo=function(e){if(!e.$valid)return;var n={number:t.number,cardNum:t.cardNum,personalEmail:t.personalEmail,emergContact:t.emergContact,emergContactMobile:t.emergContactMobile,address:t.address,filePlace:t.filePlace,bank:t.bank};s.saveSecretInfo(n).then(function(){info("保存成功"),t.isReadOnly=!0,t.disbaleSecretInput(),t.getSecretInfo()})},p(),t.$on("hasEntered",function(){t.canEditSecretInfo=!1})}])}),define("module/hr/changeInfo/colsConfig",["require"],function(e){return function(e){return[{field:"date",displayName:"时间",filter:"dateFormat"},{field:"type",displayName:"类别"},{field:"content",displayName:"变动内容"}]}}),define("module/hr/changeInfo/controller",["require","../app","module/config","./colsConfig"],function(e){var t=e("../app"),n=e("module/config"),r=e("./colsConfig");t.controller("hrChangeInfoCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","authUtil","hrUtil","$sce",function(e,t,n,i,s,o,u,a){e.number=i.get("number"),e.entryName=s.current.name,e.tableOptions={data:[],canSelect:!1,totalCount:0,cols:r(e),onPageChange:function(t){e.currentPage=t,e.getChangeList()}},e.getChangeList=function(){t.getStaffChangeInfo({number:e.number}).then(function(t){e.tableOptions.data=t.data;var n=t.data;for(var r=0,i;i=n[r++];){var s=i.content.split(",").join("</br>");i.content=a.trustAsHtml(s)}e.tableOptions.totalCount=t.pageDto&&t.pageDto.count||0})},e.getChangeList()}])}),define("module/hr/monthSalary/controller",["require","../app","module/config","moment"],function(e){var t=e("../app"),n=e("module/config"),r=e("moment");t.controller("hrMonthSalaryCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","authUtil","hrUtil","hrUtil","bigDecimal","$sce",function(e,t,n,i,s,o,u,u,a,f){function m(){g(),y(),b(),e.onMonthChange=w}function g(){e.monthMin="2015-11"}function y(){var t=new Date,n=t.getDate();n>=10?e.monthMax=r().add(-1,"M").format("YYYY-MM"):e.monthMax=r().add(-2,"M").format("YYYY-MM"),e.query.month=new Date(e.monthMax+"-01 00:00:00")}function b(){if(e.monthSalaryForm&&!e.monthSalaryForm.$valid){alert("请输入正确查询月份"),e.query.month=l;return}l=e.query.month,t.getMonthSalary({number:i.get("number"),month:r(e.query.month.getTime()).format("YYYY-MM")}).then(function(e){E(e.data)})}function w(){b()}function E(t){e.abtainSalary=[],e.minusSalary=[],t||(t={}),e.realSum=v(t.realSum,t.yearAwardFinal),e.sumSalary=v(t.sumSalary,t.yearAward),e.sumMinusPer=v(t.sumMinusPer,t.yearAwardTax),e.detail=t.detail,e.yearAwardTax=t.yearAwardTax,e.systemMemo=t.systemMemo,t.performDetail!="[]"&&t.performDetail&&(e.performDetail=f.trustAsHtml(u.getPerformSalaryHtml(JSON.parse(t.performDetail),t.performSalary)));for(var n=0,r;r=c[n++];){var i=t[r];i&&e.abtainSalary.push({name:h[r],value:i})}for(var n=0,r;r=p[n++];){var i=t[r];e.minusSalary.push({name:d[r],value:i})}}e.abtainSalary=[],e.minusSalary=[],e.query={};var l={},c=["executeSalary","trafficSubsidy","mobileSubsidy","mealSubsidy","performSalary","mealPlus","recommend","houseSubsidy","specialReward","otherSubsidy","yearAward"],h={executeSalary:"本月基本工资",trafficSubsidy:"交通补贴",mobileSubsidy:"通讯补贴",mealSubsidy:"餐补",performSalary:"绩效工资",mealPlus:"补充餐补",recommend:"推荐费用",houseSubsidy:"住房补贴",specialReward:"分公司经理特别奖",otherSubsidy:"其它补贴",yearAward:"年终奖"},p=["endowPer","unemployPer","medicalPer","injuryPer","maternityPer","houseFundPer","personTax"],d={endowPer:"代扣养老保险",unemployPer:"代扣失业保险",medicalPer:"代扣医疗保险",injuryPer:"代扣工伤保险",maternityPer:"代扣生育保险",houseFundPer:"代扣公积金",personTax:"代扣个税"},v=a.add;m()}])}),define("module/hr/salaryChangeInfo/colsConfig",["require"],function(e){return function(e){return[{field:"date",displayName:"时间",filter:"dateFormat"},{field:"content",displayName:"变动内容",cellTpl:"src/module/hr/salaryChangeInfo/tableTpl/content.html"}]}}),define("module/hr/salaryChangeInfo/controller",["require","../app","module/config","./colsConfig"],function(e){var t=e("../app"),n=e("module/config"),r=e("./colsConfig");t.controller("hrSalaryChangeInfoCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","$sce",function(e,t,n,i,s,o){e.number=i.get("number"),e.entryName=s.current.name,e.tableOptions={data:[],canSelect:!1,totalCount:0,cols:r(e),onPageChange:function(t){e.currentPage=t,e.getChangeList()}},e.getChangeList=function(){t.getStaffSalaryChangeInfo({number:e.number}).then(function(t){e.tableOptions.data=t.data;var n=t.data;for(var r=0,i;i=n[r++];){var s=i.content.split(",").join("</br>");i.content=o.trustAsHtml(s)}e.tableOptions.totalCount=t.pageDto&&t.pageDto.count||0})},e.getChangeList()}])}),define("module/hr/dimission/options",["require","module/config"],function(e){return function(t,n){var r=e("module/config");return{leaveSignBill:{required:!1,displayName:"离职签单/申请",name:"leaveSignBill",formName:t,mode:"file"},leaveDate:{required:!0,displayName:"离职日期",name:"leaveDate",formName:t,placeholder:"yy-MM-dd",type:"date",filter:"dateFormat"},reasonFromHr:{required:!1,displayName:"真实离职原因",mode:"select",formName:t,name:"reasonFromHr",items:r.LEAVE_REASON}}}}),define("module/hr/dimission/controller",["require","../app","./options","module/config","module/codeConfig"],function(e){var t=e("../app"),n=e("./options"),r=e("module/config"),i=e("module/codeConfig"),s=i.STAFF_STATUS_CODE;t.controller("hrDimissionCtrl",["$scope","hrRequest","$stateParams","localStorage","hrUtil",function(e,t,r,i,o){function a(){e.canEditLeaveInfo=!1,o.initEntryHRType(e),e.isFromRelationshipHR&&(e.canEditLeaveInfo=!0),e.canEditLeaveInfo||e.disbaleLeaveInput(),e.getLeaveInfo()}e.number=i.get("number");var u="leaveJobForm";e.inputOptions=n(u),e.ok=function(n){if(!n.$valid)return;var r=e.reason.split("-"),i={number:e.number,leaveSignBill:e.leaveSignBill,leaveDate:e.leaveDate.getTime()};if(e.reasonFromHr){var o=e.reasonFromHr.split("-");i.reasonFromHr=o[0],i.detailReasonFromHr=o[1]}t.leaveJob(i).then(function(t){info("操作成功"),e.commonInfo.status=s.LEAVED})},e.disbaleLeaveInput=function(){o.disableOptions(e.inputOptions)},e.getLeaveInfo=function(){t.getLeaveInfo({number:e.number}).then(function(t){if(t.data){var n=t.data;$.extend(!0,e,n),e.leaveDate=n.leaveDate&&new Date(n.leaveDate),e.leaveDetail=n.detail,n.reason&&(e.reason=o.getLeaveReasonName(n.reason,n.detailReason)),n.reasonFromHr&&(e.reasonFromHr=n.reasonFromHr+"-"+n.detailReasonFromHr,e.inputOptions.reasonFromHr.displayValue=o.getLeaveReasonName(n.reasonFromHr,n.detailReasonFromHr)),e.inputOptions.leaveSignBill.fileUrl=n.leaveSignBillFile}})},a()}])}),define("module/hr/initInfo/controller",["require","../app","module/config"],function(e){var t=e("../app"),n=e("module/config");t.controller("hrInitInfoCtrl",["$scope","$stateParams","adminRequest","hrRequest","number","$modalInstance",function(e,t,n,r,i,s){e.closeHandler=function(){s.dismiss()},e.getInitInfo=function(){r.getInitInfo({number:i}).then(function(t){e.info=t.data})},e.getInitInfo()}])}),define("module/hr/workTargetInfo/controller",["require","../app","module/config","module/codeConfig","../config"],function(e){function s(){}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("../config");t.controller("hrWorkTargetInfoCtrl",s)}),define("module/hr/formalApplyInfo/controller",["require","../app"],function(e){function n(){}var t=e("../app");t.controller("hrFormalApplyInfoCtrl",n)}),define("module/hr/opt/addAssetId/controller",["require","../../app","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("hrOptAddAssetIdCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,n,r,s,o,u,a){function f(){e.assetCode=a.assetCode,e.isValid=!0,e.validityConfirm=l}function l(){if(e.assetCode){var t=/^[0-9]{4}\.[0-9]{4}$/g;e.isValid=t.test(e.assetCode)}}f(),e.save=function(n){if(!n.$valid)return;if(!e.isValid)return;t.addAssetCode({number:a.number,assetCode:e.assetCode}).then(function(){i.hadSuccess=!0,info("添加成功"),u.dismiss(i)})},e.closeHandler=function(){u.dismiss(i)}}])}),define("module/hr/opt/desertCandidate/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u=r.buildSelectOpitons(o.ABANDON_REASON);u.unshift(i.EMPTY);var a={reason:{required:!0,displayName:"放弃原因",name:"reason",formName:t,mode:"select",items:u},detail:{required:!1,displayName:"备注",maxLength:200,name:"detail",formName:t,placeholder:"少于200个字",mode:"textarea"}};return a}}),define("module/hr/opt/desertCandidate/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrDesertCondidateCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","number",function(e,t,r,o,u,a,f,l){function c(){e.number=l,e.inputOptions=n("desertCandidateForm",e,a)}e.save=function(n){if(!n.$valid)return;confirm("确认放弃该候选人吗？",function(){var n={number:e.number,status:i.STAFF_STATUS_CODE.ABANDED,reason:e.reason,detail:e.detail};t.modStaffStatus(n).then(function(){info("放弃成功"),s.hadSuccess=!0,f.dismiss(s)})})},e.closeHandler=function(){f.dismiss(s)},c()}])}),define("module/hr/opt/rejoin/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={idCardNumber:{required:!0,displayName:"身份证号",maxLength:18,name:"idCardNumber",formName:t,placeholder:"少于18个字"}};return u}}),define("module/hr/opt/rejoin/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){function o(e,t,r,i,o,u){function a(){e.inputOptions=n("hrRejoinForm")}function f(t){if(!t.$valid)return;r.getRejoinInfo({idCardNumber:e.idCardNumber}).then(function(t){s.staffInfo=t.data,s.idCardNumber=e.idCardNumber,u.dismiss(s)})}function l(){u.dismiss(s),t.go("home")}e.save=f,e.closeHandler=l,a()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptRejoinController",o),o.$inject=["$scope","$state","hrRequest","applyUtil","$filter","$modalInstance"]}),define("module/hr/opt/uploadHeadImg/controller",["require","../../app","module/config","module/codeConfig"],function(e){function s(e,t,n,r,i){function o(){e.imgOptions={width:550,height:350,action:"/ADD/file/file.json",accept:["png","jpg","jpeg"],minSize:100,maxSize:5120,button:{select:{x:80,y:310,width:80,height:36,text:"选择图片"},upload:{x:200,y:310,width:80,height:36,text:"保存图片"},leftRotate:{x:0,y:310,width:40,height:36,text:"左转"},rightRotate:{x:320,y:310,width:40,height:36,text:"右转"}},src:{x:0,y:0,width:360,height:300},dest:[{x:380,y:100,width:150,height:200,text:"头像"}],onValidateError:function(e){e.type=="size"&&alert("请上传大于100KB的文件")},onUploadComplete:function(e){var i=JSON.parse(e.data);s.url=i.data.url,r.modHeadImg({storageId:i.data.storageId,number:n}).then(function(){info("上传成功"),s.hadSuccess=!0,t.dismiss(s)})}}}function u(){var e=$("#head-img-upload")[0].files[0];if(!a(e)){alert("请上传正确后缀的文件");return}var o=new FormData;o.append("file",e),i.send("/ADD/file/file.json",{data:o,type:"file"}).then(function(e){s.url=e.data.url,r.modHeadImg({storageId:e.data.storageId,number:n}).then(function(){info("上传成功"),s.hadSuccess=!0,t.dismiss(s)})})}function a(e){function r(e,t){var t=t.toLowerCase();for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1}var t=e.name.split("."),n=t[t.length-1],i=["png","jpg","jpeg"];return r(i,n)?!0:!1}function f(){t.dismiss(s)}e.closeHandler=f,e.uploadImg=u;var s={};o()}var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("hrOptUploadHeadImgController",s),s.$inject=["$scope","$modalInstance","number","hrRequest","ajaxService"]}),define("module/hr/opt/detail/controller",["require","../../app","module/config","module/codeConfig"],function(e){function s(e,t,n){function r(){}function s(){n.dismiss(i)}e.closeHandler=s,e.url=t,r()}var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("hrOptDetailController",s),s.$inject=["$scope","url","$modalInstance"]}),define("module/hr/opt/validatePassword/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={password:{required:!0,displayName:"登陆密码",name:"password",type:"password",formName:t,placeHolder:"请输入登陆密码"}};return u}}),define("module/hr/opt/validatePassword/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig");t.controller("hrOptValidatePasswordCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","number",function(e,t,r,i,s,o,u,a){function l(){e.inputOptions=n("validatePasswordForm",e,o)}var f={};e.save=function(n){if(!n.$valid)return;t.validatePassword({password:e.password}).then(function(){f.hadSuccess=!0,f.password=e.password,u.dismiss(f)})},e.closeHandler=function(){u.dismiss(f)},l()}])}),define("module/hr/opt/modMobile/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={mobile:{required:!0,displayName:"手机号",name:"mobile",formName:t,maxLength:11,minLength:11,pattern:"\\d*",placeHolder:"请输入新的手机号"},code:{required:!0,displayName:"验证码",name:"code",formName:t,placeHolder:"请输入手机验证码"}};return u}}),define("module/hr/opt/modMobile/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptModMobileCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","number","password",function(e,t,r,i,o,u,a,f,l){function c(){e.inputOptions=n("modMobileForm",e,u)}function h(n){if(n.mobile.invalid)return;t.modMobileValidateCode({number:f,mobile:e.mobile}).then(function(){e.beginTimer=!0})}e.beginTimer=!1,e.sendCode=h,e.save=function(n){if(!n.$valid)return;t.modMobile({password:l,code:e.code}).then(function(){s.hadSuccess=!0,s.mobile=e.mobile,info("修改成功"),a.dismiss(s)})},e.closeHandler=function(){a.dismiss(s)},c()}])}),define("module/hr/opt/salaryOther/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u=["mealPlus","recommend","houseSubsidy","specialReward","performExtSalary","otherSubsidy"],a={mealPlus:"补充餐补",recommend:"推荐费用",houseSubsidy:"住房补贴",specialReward:"分公司经理特别奖",performExtSalary:"补充绩效",otherSubsidy:"其它补贴"},f={};for(var l=0,c;c=u[l++];){var h=i.BASE_REG_STR;if(c=="otherSubsidy"||c=="performExtSalary")h=i.NEGATIVE_BASE_REG_STR;f[c]={required:!0,name:c,displayName:"",formName:t,pattern:h,errorDisplayName:a[c],changeHandler:n.getInputChangeHandler(c)}}return f}}),define("module/hr/opt/salaryOther/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptSalaryOtherCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,r,i,s,o,u,a){function l(){e.save=c,e.closeHandler=h,e.getInputChangeHandler=p,e.inputOptions=n("modSalaryOtherForm",e,o)}function c(t){if(!t.$valid)return;f.hasSuccess=!0,f.item={mealPlus:e.mealPlus,recommend:e.recommend,houseSubsidy:e.houseSubsidy,specialReward:e.specialReward,performExtSalary:e.performExtSalary,otherSubsidy:e.otherSubsidy,otherSalary:e.otherSalary},u.dismiss(f)}function h(){u.dismiss(f)}function p(t){return function(r){var i=["mealPlus","recommend","houseSubsidy","performExtSalary","otherSubsidy"],s=0;for(var u=0,a;a=i[u++];)a==t?s+=o.getInputInt(r):s+=o.getInputInt(e[a]);e.otherSalary=o.fix(s)}}e.mealPlus=a.mealPlus,e.recommend=a.recommend,e.houseSubsidy=a.houseSubsidy,e.specialReward=a.specialReward,e.performExtSalary=a.performExtSalary,e.otherSubsidy=a.otherSubsidy,e.otherSalary=a.otherSalary,e.isSpecialRewardShow=!1;var f={};l()}])}),define("module/hr/opt/modFiveInsurance/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u=["endowPer","unemployPer","medicalPer","injuryPer","maternityPer"],a={endowPer:"养老保险",unemployPer:"失业保险",medicalPer:"医疗保险",injuryPer:"工伤保险",maternityPer:"生育保险"},f={};for(var l=0,c;c=u[l++];)f[c]={required:!0,name:c,displayName:"",formName:t,errorDisplayName:a[c],pattern:i.NEGATIVE_BASE_REG_STR,changeHandler:n.getInputChangeHandler(c)};return f}}),define("module/hr/opt/modFiveInsurance/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptModFiveInsuranceCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,r,i,s,o,u,a){function l(){e.save=c,e.closeHandler=h,e.getInputChangeHandler=p,e.inputOptions=n("modFiveInsuranceForm",e,o)}function c(t){if(!t.$valid)return;f.hasSuccess=!0,f.item={endowPer:e.endowPer,unemployPer:e.unemployPer,medicalPer:e.medicalPer,injuryPer:e.injuryPer,maternityPer:e.maternityPer,sumSocialSecurityPer:e.sumSocialSecurityPer},u.dismiss(f)}function h(){u.dismiss(f)}function p(t){return function(r){var i=["endowPer","unemployPer","medicalPer","injuryPer","maternityPer"],s=0;for(var u=0,a;a=i[u++];)a==t?s+=o.getInputInt(r):s+=o.getInputInt(e[a]);e.sumSocialSecurityPer=o.fix(s)}}e.endowPer=a.endowPer,e.unemployPer=a.unemployPer,e.medicalPer=a.medicalPer,e.injuryPer=a.injuryPer,e.maternityPer=a.maternityPer,e.maternityPerSalary=a.maternityPerSalary,e.sumSocialSecurityPer=a.sumSocialSecurityPer;var f={};l()}])}),define("module/hr/opt/modFiveInsuranceCom/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u=["endowCom","unemployCom","medicalCom","injuryCom","maternityCom"],a={endowCom:"养老保险",unemployCom:"失业保险",medicalCom:"医疗保险",injuryCom:"工伤保险",maternityCom:"生育保险"},f={};for(var l=0,c;c=u[l++];)f[c]={required:!0,name:c,displayName:"",formName:t,pattern:i.NEGATIVE_BASE_REG_STR,errorDisplayName:a[c],changeHandler:n.getInputChangeHandler(c)};return f}}),define("module/hr/opt/modFiveInsuranceCom/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptModFiveInsuranceComCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,r,i,s,o,u,a){function l(){e.save=c,e.closeHandler=h,e.getInputChangeHandler=p,e.inputOptions=n("modFiveInsuranceComForm",e,o)}function c(t){if(!t.$valid)return;f.hasSuccess=!0,f.item={endowCom:e.endowCom,unemployCom:e.unemployCom,medicalCom:e.medicalCom,injuryCom:e.injuryCom,maternityCom:e.maternityCom,sumSocialSecurityCom:e.sumSocialSecurityCom},u.dismiss(f)}function h(){u.dismiss(f)}function p(t){return function(r){var i=["endowCom","unemployCom","medicalCom","injuryCom","maternityCom"],s=0;for(var u=0,a;a=i[u++];)a==t?s+=o.getInputInt(r):s+=o.getInputInt(e[a]);e.sumSocialSecurityCom=o.fix(s)}}e.endowCom=a.endowCom,e.unemployCom=a.unemployCom,e.medicalCom=a.medicalCom,e.injuryCom=a.injuryCom,e.maternityCom=a.maternityCom,e.maternityComSalary=a.maternityComSalary,e.sumSocialSecurityCom=a.sumSocialSecurityCom;var f={};l()}])}),define("module/hr/opt/modSalaryDetail/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={detail:{required:!1,displayName:"",maxLength:200,name:"detail",formName:t,placeholder:"少于200个字",errorDisplayName:"备注",mode:"textarea"}};return u}}),define("module/hr/opt/modSalaryDetail/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptModSalaryDetailCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,r,i,s,o,u,a){function l(){e.save=c,e.closeHandler=h,e.inputOptions=n("modSalaryDetailForm",e,o)}function c(t){if(!t.$valid)return;f.hasSuccess=!0,f.item={detail:e.detail},u.dismiss(f)}function h(){u.dismiss(f)}e.detail=a.detail;var f={};l()}])}),define("module/hr/opt/tempCardBorrow/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={borrowUserName:{required:!0,displayName:"借卡人",mode:"nameSuggestion",formName:t,name:"borrowUserName"},idCardNumber:{required:!0,displayName:"身份证后6位",name:"idCardNumber",formName:t,minLength:6,maxLength:6,pattern:"[0-9a-zA-Z()（）]*",placeholder:"请输入借卡人身份证号码后六位"},memo:{required:!1,displayName:"备注",maxLength:100,name:"memo",formName:t,placeholder:"少于100个字",mode:"textarea"}};return u}}),define("module/hr/opt/tempCardBorrow/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptTempCardBorrowCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,r,i,o,u,a,f){function l(){e.cardName=f.cardName,e.inputOptions=n("tempCardBorrowForm",e,u)}e.save=function(n){if(u.inputEmpty(e.borrowUserName)){n.borrowUserName.$setValidity("required",!1);return}if(!n.$valid)return;t.borrowTempCard({cardNumber:f.cardNumber,borrowUserName:u.getUsernameFromSuggestion(e.borrowUserName),idCardNumber:e.idCardNumber,memo:e.memo}).then(function(){s.hadSuccess=!0,info("借出成功"),a.dismiss(s)})},e.closeHandler=function(){a.dismiss(s)},l()}])}),define("module/hr/opt/tempCardReturn/controller",["require","../../app","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("hrOptTempCardReturnCtrl",["$scope","hrRequest","$stateParams","$state","util","$modalInstance","item",function(e,t,n,r,s,o,u){function a(){}e.cardName=u.cardName,e.borrowName=u.borrowName,e.save=function(e){if(!e.$valid)return;t.returnTempCard({cardNumber:u.cardNumber}).then(function(){i.hadSuccess=!0,info("归还成功"),o.dismiss(i)})},e.closeHandler=function(){o.dismiss(i)},a()}])}),define("module/hr/opt/tempCardAdd/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={cardName:{required:!0,displayName:"卡名",name:"cardName",formName:t,maxLength:20,placeHolder:"请输入卡名"},cardNumber:{required:!0,displayName:"卡号",name:"cardNumber",formName:t,minLength:4,maxLength:12,pattern:"\\d*",placeHolder:"请输入卡号"}};return u}}),define("module/hr/opt/tempCardAdd/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptTempCardAddCtrl",["$scope","hrRequest","$stateParams","$state","util","$modalInstance",function(e,t,r,i,o,u){function a(){e.inputOptions=n("tempCardAddForm",e,o)}e.save=function(n){if(!n.$valid)return;t.addTempCard({cardNumber:e.cardNumber,cardName:e.cardName}).then(function(){s.hadSuccess=!0,info("添加成功"),u.dismiss(s)})},e.closeHandler=function(){u.dismiss(s)},a()}])}),define("module/hr/opt/tempCardDel/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={detail:{required:!1,displayName:"删除原因",maxLength:100,name:"detail",formName:t,placeholder:"少于100个字",mode:"textarea"}};return u}}),define("module/hr/opt/tempCardDel/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("hrOptTempCardDelCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,r,i,s,o,u,a){function l(){e.save=c,e.closeHandler=h,e.inputOptions=n("tempCardDelForm",e,o)}function c(n){if(!n.$valid)return;confirm("确认要删除该临时卡吗？删除后的临时卡无门禁和打卡记录功能，请谨慎操作。如有问题请联系ehr@baijiahulian.com",function(){t.delTempCard({cardNumber:a.cardNumber,detail:e.detail}).then(function(){f.hadSuccess=!0,info("删除成功"),u.dismiss(f)})})}function h(){u.dismiss(f)}var f={};l()}])}),define("module/hr/opt/modOfferDetail/controller",["require","../../app","module/config","module/codeConfig","moment"],function(e){function o(e,t,n,r,i,s,o,f){e.lawName=f.lawName;var l=new Date;e.sendDate=u(l),e.enterDate=u(f.promiseEnterDate),e.office=a(f.office),e.structure=a(f.structure),e.position=a(f.position),e.probationarySalary=a(f.probationarySalary),e.baseSalary=a(f.baseSalary),e.formalDate=f.formalDate,e.type=f.type,e.closeHandler=function(){o.dismiss("cancel")}}function u(e){var t={};return e==""?(t.dateExist=!1,t.dateStr="__年__月__日"):(t.dateExist=!0,t.dateStr=i(e).format("YYYY年MM月DD日")),t}function a(e){return{str:e===""?"______":e,isExist:e===""?!1:!0}}var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("moment"),s={};t.controller("hrOptOfferDetailCtrl",o),o.$inject=["$scope","hrRequest","$stateParams","localStorage","$state","util","$modalInstance","data"]}),define("module/hr/opt/main",["require","./addAssetId/controller","./desertCandidate/controller","./rejoin/controller","./uploadHeadImg/controller","./detail/controller","./validatePassword/controller","./modMobile/controller","./salaryOther/controller","./modFiveInsurance/controller","./modFiveInsuranceCom/controller","./modSalaryDetail/controller","./tempCardBorrow/controller","./tempCardReturn/controller","./tempCardAdd/controller","./tempCardDel/controller","./modOfferDetail/controller"],function(e){e("./addAssetId/controller"),e("./desertCandidate/controller"),e("./rejoin/controller"),e("./uploadHeadImg/controller"),e("./detail/controller"),e("./validatePassword/controller"),e("./modMobile/controller"),e("./salaryOther/controller"),e("./modFiveInsurance/controller"),e("./modFiveInsuranceCom/controller"),e("./modSalaryDetail/controller"),e("./tempCardBorrow/controller"),e("./tempCardReturn/controller"),e("./tempCardAdd/controller"),e("./tempCardDel/controller"),e("./modOfferDetail/controller")}),define("module/hr/tempCard/config",["require"],function(e){return{TAB_CODE:{ALL:0,CAN_BORROW:2,HAD_BORROW:3}}}),define("module/hr/tempCard/controller",["require","../app","./config","module/codeConfig"],function(e){var t=e("../app"),n=e("./config"),r=e("module/codeConfig");t.controller("hrTempCardCtrl",["$scope","$state","hrRequest",function(e,t,r){function o(){u(),e.$on("amountChange",function(){u()})}function u(){i==s.ALL&&(i=undefined),r.getTempCardCount({status:i}).then(function(t){var n=t.data,r=n[1].amount,i=n[0].amount;e.count={all:r+i,canBorrow:r,hadBorrow:i}})}var i=0,s=n.TAB_CODE;e.isAllPage=t.includes("hr.tempCard.all"),e.isCanBorrowPage=t.includes("hr.tempCard.canBorrow"),e.isHadBorrowPage=t.includes("hr.tempCard.hadBorrow"),e.isAllPage?i=s.ALL:e.isCanBorrowPage?i=s.CAN_BORROW:e.isHadBorrowPage&&(i=s.HAD_BORROW),o()}])}),define("module/hr/tempCard/table/controller",["require","../../app","../config","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("../config"),r=e("module/config"),i=e("module/codeConfig");t.controller("hrTempCardTableCtrl",["$scope","$state","hrRequest","tempCardListTableColsConfig","hrOptUtil","$filter",function(e,t,i,s,o,u){function l(){g(),e.addTempCard=h,e.onSingleBorrowClick=d,e.onSingleReturnClick=v,e.onSingleDelClick=m}function c(e){if(e=="all")return f.ALL;if(e=="canBorrow")return f.CAN_BORROW;if(e=="hadBorrow")return f.HAD_BORROW}function h(){o.tempCardAdd(function(e){e.hadSuccess&&(g(),p())})}function p(){e.$emit("amountChange")}function d(e){o.tempCardBorrow(e,function(e){e.hadSuccess&&(g(),p())})}function v(e){o.tempCardReturn(e,function(e){e.hadSuccess&&(g(),p())})}function m(e){o.tempCardDel(e,function(e){e.hadSuccess&&(g(),p())})}function g(){var t=c(e.nav);t==f.ALL&&(t=undefined),i.getTempCardList({status:t,pageDto:{pageNum:e.currentPage||1,pageSize:r.PAGE_SIZE}}).then(function(t){var n=t.data;e.tableOptions.data=y(n),e.tableOptions.totalCount=t.pageDto.count})}function y(e){for(var t=0,n;n=e[t++];)n.statusValue=u("tempCardStatus")(n.status);return e}e.entryName=t.current.name;var a=e.entryName.split(".");e.nav=a[2];var f=n.TAB_CODE;e.tabCode=n.TAB_CODE,e.isMainScope=!0,e.tableOptions={data:[],canSelect:!1,totalCount:0,cols:s.getConfig(e),onPageChange:function(t){e.currentPage=t,g()},mainScope:e},l()}])}),define("module/hr/tempCard/table/colsConfig",["require","../../app","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig");t.factory("tempCardListTableColsConfig",["$modal","util","$q","hrRequest",function(e,t,n,r){return{getConfig:function(e){var t="src/module/hr/tempCard/table/tableTpl/",n=[{field:"cardName",displayName:"卡名"},{field:"statusValue",displayName:"当前状态"},{field:"borrowName",displayName:"借卡人",filter:"emptyFormat"},{field:"borrowMobile",displayName:"借卡人手机号",filter:"emptyFormat"},{field:"borrowSit",displayName:"借卡人工位",filter:"emptyFormat"},{field:"borrowTime",displayName:"借出时间",filter:"timeFormat"},{field:"cardNumber",displayName:"卡号"},{field:"memo",displayName:"备注",filter:"emptyFormat",style:{"max-width":"200px","word-break":"break-all"}},{field:"opt",displayName:"操作",cellTpl:t+"opt.html"}];return n}}}])}),define("module/hr/tempCard/main",["require","./controller","./table/controller","./table/colsConfig"],function(e){e("./controller"),e("./table/controller"),e("./table/colsConfig")}),define("module/hr/util",["require","./app","module/config","module/codeConfig","module/nameConfig","./config"],function(e){var t=e("./app"),n=e("module/config"),r=e("module/codeConfig"),i=e("module/nameConfig"),s=e("./config");t.factory("hrUtil",["$modal","authUtil","$q","hrRequest","util","$state","bigDecimal",function(e,t,o,u,a,f,l){var c=n.SALARY_TYPE[1].id,h=l.add,p=l.minus,d=l.multiply,v=l.div;return{showInitInfo:function(t){e.open({templateUrl:"src/module/hr/initInfo/tpl.html",controller:"hrInitInfoCtrl",resolve:{number:function(){return t}}})},showAssetAddInfo:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/addAssetId/tpl.html",controller:"hrOptAddAssetIdCtrl",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},getSalary:function(e){return typeof e.inputVal=="undefined"?undefined:{value:e.inputVal,salaryType:e.selectVal}},transSalaryInfo:function(e){return{inputVal:e.value,selectVal:e.salaryType||c}},getObjectQueryString:function(e){var t=[];for(var n in e){if(n=="pageDto")continue;e.hasOwnProperty(n)&&e[n]&&(e[n]instanceof Date?t.push(n+"="+e[n].getTime()):t.push(n+"="+e[n]))}return t.join("&")},getFirstDayOfMonth:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;return new Date(t+"-"+n+"-"+"01")},canEditBaseInfo:function(){return t.isHRBP()?!0:!1},canEditWorkInfo:function(){return t.isHRBP()?!0:!1},canEditSalaryInfo:function(){return t.isHRBP()?!0:!1},canEditSecretInfo:function(){return t.isHRBP()||t.isRelationshipHR()?!0:!1},canEditLeaveInfo:function(){return t.isHRBP()||t.isRelationshipHR()?!0:!1},canReadBaseInfo:function(){return t.isHRBP()||t.isRelationshipHR()||t.isSalaryHR()||t.isTrainingHR()?!0:!1},canReadChangeInfo:function(){return t.isHRBP()||t.isRelationshipHR()||t.isSalaryHR()||t.isTrainingHR()?!0:!1},canReadWorkInfo:function(){return t.isHRBP()||t.isRelationshipHR()||t.isSalaryHR()||t.isTrainingHR()?!0:!1},canReadSalaryInfo:function(){return t.isHRBP()||t.isSalaryHR()?!0:!1},canReadSecretInfo:function(){return t.isRelationshipHR()?!0:!1},canReadLeaveInfo:function(){return t.isHRBP()||t.isRelationshipHR()?!0:!1},disableOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].disable=!0)},enableOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].disable=!1)},getValueByKey:function(e,t,n){for(var r=0,i;i=e[r++];)if(i.id==t)return i[n];return undefined},isBranchCompany:function(e){return e.indexOf(s.BRANCH_COMPANY_FLAG)>=0?!0:!1},needUploadLimitAgreement:function(e,t,i,s){if(this.isBranchCompany(e)){var o=t.match(/\d$/),u=t.match(/^[a-zA-Z]/);return u==n.LEVEL_NAME.M?!0:u==n.LEVEL_NAME.A&&o>4?!0:!1}return i==r.TYPE_CODE.REGULAR?!0:!1},setFieldRequired:function(e,t){e.required=t},initCommonInfo:function(e){e.staffInfo=e.commonInfo,e.staffType=e.commonInfo.type},joinWork:function(e){var t=this,n=o.defer();return confirm("确认该员工入职手续已经办完，可以入职？",function(){u.modStaffStatus({number:+e,status:r.STAFF_STATUS_CODE.HAS_JOINED}).then(function(e){info("入职成功"),n.resolve(e)})}),n.promise},getFieldSet:function(e,t){var n=[];for(var r=0,i;i=e[r++];)i[t]&&n.push(i[t]);return n},getLeaveReasonName:function(e,t){var n=i.LEAVE_REASON[e]||"";if(e)var r=i.LEAVE_DETAIL_REASON[e][t]||"";else var r="";return n+"-"+r},initEntryHRType:function(e){f.includes("subordinate.self.salaryInfo")&&(e.isFromSelf=!0),f.includes("hr.relationshipHR-staffInfo")&&(e.isFromRelationshipHR=!0),f.includes("hr.businessPartnerHR-staffInfo")&&(e.canEditBaseInfo=!0,e.isFromHRBP=!0),f.includes("hr.trainingHR-staffInfo")&&(e.isFromTrainingHR=!0),f.includes("hr.salaryHR-staffInfo")&&(e.isFromSalaryHR=!0)},getPerformSalaryHtml:function(e,t){var n="";for(var r=0;r<e.length;r++){var s="",o="";if(e[r].accountInfo.businessUnit){s=i.BUSINESS_UNIT[e[r].accountInfo.businessUnit];var u="",a="";e[r].accountInfo.businessUnit==3?(u='        <td rowspan="4">牌级佣金:</td>\n        <td rowspan="4">'+this.performDataHandle(e[r].commissionData.levelCommission)+"</td>\n",a="        <td>成交手佣金:</td>\n        <td>"+this.performDataHandle(e[r].commissionData.receiverCommission)+"</td>\n"):u='        <td rowspan="5">牌级佣金:</td>\n        <td rowspan="5">'+this.performDataHandle(e[r].commissionData.levelCommission)+"</td>\n"}e[r].accountInfo.role==7?(e[r].statData.lastLevel&&(o=i.ACHIEVEMENT_LEVEL[e[r].statData.lastLevel]),n+='<table class="table table-bordered">\n    <tr>\n        <td>绩效部门:</td>\n        <td>'+s+"</td>\n"+u+"    </tr>\n"+"    <tr>\n"+"        <td>上月牌级</td>\n"+"        <td>"+o+"</td>\n"+"    </tr>\n"+"    <tr>\n"+"        <td>新签业绩</td>\n"+"        <td>"+this.performDataHandle(e[r].statData.newAchievement)+"</td>\n"+"    </tr>\n"+"    <tr>\n"+"        <td>续签业绩</td>\n"+"        <td>"+this.performDataHandle(e[r].statData.renewAchievement)+"</td>\n"+"    </tr>\n"+"    <tr>\n"+"        <td>百家云业绩:</td>\n"+"        <td>"+this.performDataHandle(e[r].statData.cloudAchievement)+"</td>\n"+a+"    </tr>\n"+"    <tr>\n"+"        <td>百家云退款业绩</td>\n"+"        <td>"+this.performDataHandle(e[r].statData.cloudRefundMoney)+"</td>\n"+"        <td>百家云佣金:</td>\n"+"        <td>"+this.performDataHandle(e[r].commissionData.cloudCommission)+"</td>\n"+"    </tr>\n"+"    <tr>\n"+"        <td>退款业绩</td>\n"+"        <td>"+this.performDataHandle(e[r].statData.refundAchievement)+"</td>\n"+"        <td>退款佣金:</td>\n"+"        <td>"+this.performDataHandle(e[r].commissionData.refundCommission)+"</td>\n"+"    </tr>\n"+"    <tr>\n"+"        <td></td>\n"+"        <td></td>\n"+"        <td>合计:</td>\n"+"        <td>￥&nbsp;"+t.toFixed(2)+"</td>\n"+"    </tr>\n"+"</table><br>\n"):(n+='<table class="table table-bordered">\n    <tr>\n        <td>绩效部门:</td>\n        <td>'+s+"</td>\n"+"        <td>主管佣金:</td>\n"+"        <td>"+this.performDataHandle(e[r].commissionData.supervisorCommission)+"</td>\n"+"     </tr>\n",e[r].accountInfo.businessUnit==3?n+="     <tr>\n        <td>成交手佣金:</td>\n        <td>"+this.performDataHandle(e[r].commissionData.supervisorReceiverCommission)+"</td>\n"+"        <td>百家云佣金:</td>\n"+"        <td>"+this.performDataHandle(e[r].commissionData.cloudCommission)+"</td>\n"+"     </tr>\n"+"     <tr>\n"+"        <td></td>\n"+"        <td></td>\n"+"        <td>总佣金:</td>\n"+"        <td>"+this.performDataHandle(e[r].commissionData.actualSupervisorCommission)+"</td>\n"+"     </tr>\n":n+="     <tr>\n        <td>百家云佣金:</td>\n        <td>"+this.performDataHandle(e[r].commissionData.cloudCommission)+"</td>\n"+"        <td>总佣金:</td>\n"+"        <td>"+this.performDataHandle(e[r].commissionData.actualSupervisorCommission)+"</td>\n"+"     </tr>\n",n+="</table><br>\n")}return n},performDataHandle:function(e){return e===0?"￥&nbsp;"+v(e,100).toFixed(2):e?"￥&nbsp;"+v(e,100).toFixed(2):""}}}])}),define("module/hr/optUtil",["require","./app","./initInfo/controller","module/config","module/codeConfig"],function(e){var t=e("./app");e("./initInfo/controller");var n=e("module/config"),r=e("module/codeConfig");t.factory("hrOptUtil",["$modal","authUtil","$q","hrRequest",function(e,t,n,r){return{viewDetail:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/detail/tpl.html",controller:"hrOptDetailController",windowClass:"xxx-dialog",resolve:{url:function(){return t}}});r.result.then(function(){},function(e){n(e)})},changeProbation:function(t,n){var r=e.open({templateUrl:"src/module/apply/opt/changeProbation/tpl.html",controller:"applyChangeProbation",windowClass:"xx-dialog",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},writeWorkTarget:function(t,n){var r=e.open({templateUrl:"src/module/apply/opt/workTarget/tpl.html",controller:"applyOptWorkTargetCtrl",windowClass:"xx-dialog",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},formalApply:function(t,n){var r=e.open({templateUrl:"src/module/apply/opt/formalApply/tpl.html",controller:"applyOptFormalApplyCtrl",windowClass:"xx-dialog",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},transFullTime:function(t,n){var r=e.open({templateUrl:"src/module/apply/opt/transFullTime/tpl.html",controller:"applyOptTransFullTime",windowClass:"xx-dialog",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},rejoin:function(t){var n=e.open({templateUrl:"src/module/hr/opt/rejoin/tpl.html",controller:"hrOptRejoinController",backdrop:"static"});n.result.then(function(){},function(e){t(e)})},changeStructure:function(t,n,r){var i=e.open({templateUrl:"src/module/apply/opt/changeStructure/tpl.html",controller:"applyOptChangeStructureCtrl",windowClass:"xx-dialog",resolve:{number:function(){return t},isFromHRBP:function(){return n}}});i.result.then(function(){},function(e){r(e)})},changeSalary:function(t,n){var r=e.open({templateUrl:"src/module/apply/opt/changeSalary/tpl.html",controller:"applyOptChangeSalaryCtrl",windowClass:"xx-dialog",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},leave:function(t,n){var r=e.open({templateUrl:"src/module/apply/opt/leave/tpl.html",controller:"applyOptLeaveCtrl",windowClass:"xx-dialog",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},multipleChange:function(t,n,r){var i=e.open({templateUrl:"src/module/apply/opt/multiple/tpl.html",controller:"applyOptMultipleCtrl",windowClass:"xx-dialog",resolve:{number:function(){return t},isFromHRBP:function(){return n}}});i.result.then(function(){},function(e){r(e)})},desertCondidate:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/desertCandidate/tpl.html",controller:"hrDesertCondidateCtrl",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},uploadHeadImg:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/uploadHeadImg/tpl.html",controller:"hrOptUploadHeadImgController",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},validatePassword:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/validatePassword/tpl.html",controller:"hrOptValidatePasswordCtrl",resolve:{number:function(){return t}}});r.result.then(function(){},function(e){n(e)})},modMobile:function(t,n,r){var i=e.open({templateUrl:"src/module/hr/opt/modMobile/tpl.html",controller:"hrOptModMobileCtrl",resolve:{number:function(){return t},password:function(){return n}}});i.result.then(function(){},function(e){r(e)})},salaryOtherView:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/salaryOther/tpl.html",controller:"hrOptSalaryOtherCtrl",size:"lg",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},fiveInsuranceView:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/modFiveInsurance/tpl.html",controller:"hrOptModFiveInsuranceCtrl",size:"lg",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},fiveInsuranceComView:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/modFiveInsuranceCom/tpl.html",controller:"hrOptModFiveInsuranceComCtrl",size:"lg",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},salaryDetailView:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/modSalaryDetail/tpl.html",controller:"hrOptModSalaryDetailCtrl",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},tempCardAdd:function(t){var n=e.open({templateUrl:"src/module/hr/opt/tempCardAdd/tpl.html",controller:"hrOptTempCardAddCtrl"});n.result.then(function(){},function(e){t(e)})},tempCardReturn:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/tempCardReturn/tpl.html",controller:"hrOptTempCardReturnCtrl",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},tempCardDel:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/tempCardDel/tpl.html",controller:"hrOptTempCardDelCtrl",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},tempCardBorrow:function(t,n){var r=e.open({templateUrl:"src/module/hr/opt/tempCardBorrow/tpl.html",controller:"hrOptTempCardBorrowCtrl",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},showOfferDetail:function(t){var n=e.open({templateUrl:"src/module/hr/opt/modOfferDetail/tpl.html",controller:"hrOptOfferDetailCtrl",resolve:{data:function(){return t}}})}}}])}),define("module/hr/agent/options/baseInfo",["require","module/config","moment"],function(e){return function(t){var n=e("module/config"),r=e("moment");return{name:{required:!1,displayName:"常用名",maxLength:5,name:"name",formName:t,placeholder:"少于5个字，不填默认同法律名"},namePinyin:{required:!0,displayName:"姓名拼音",maxLength:15,name:"namePinyin",formName:t,pattern:"[a-z]*",placeholder:"用于生成邮箱，少于15个字符"},sex:{required:!0,displayName:"性别",name:"sex",formName:t,mode:"select",items:n.SEX,filter:"sex"},degree:{required:!0,displayName:"学历",name:"degree",formName:t,mode:"select",items:n.DEGREE,filter:"degree"},lawName:{required:!0,displayName:"法律名",maxLength:5,name:"lawName",formName:t,placeholder:"少于5个字"},isForeign:{required:!0,displayName:"证件类型",name:"isForeign",formName:t,mode:"select",items:n.ID_CARD_TYPE,filter:"idCardType"},idCardNumber:{required:!0,displayName:"证件号",maxLength:18,name:"idCardNumber",formName:t,pattern:"[0-9a-zA-Z()（）]*",placeholder:"少于18个字"},accountLocation:{required:!0,displayName:"户口所在地",maxLength:10,name:"accountLocation",formName:t,placeholder:""},birthday:{required:!0,displayName:"出生日期",name:"birthday",formName:t,placeholder:"yy-MM-dd",type:"date",filter:"dateFormat",max:r().toDate()},beginWorkTime:{required:!0,displayName:"全职参加工作时间",name:"beginWorkTime",formName:t,placeholder:"yy-MM-dd",type:"date",filter:"dateFormat",max:r().toDate()}}}}),define("module/hr/agent/options/contactInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{mobile:{required:!0,displayName:"手机号",maxLength:15,name:"mobile",formName:t,pattern:"\\d*",placeholder:"少于15个数字"},personalEmail:{required:!1,displayName:"邮箱",maxLength:50,name:"personalEmail",formName:t,type:"email",placeholder:"50位英文字母+数字+字符"}}}}),define("module/hr/agent/options/info",["require","module/config"],function(e){return function(t,n){var r=e("module/config");return{promiseEnterDate:{required:!0,displayName:"入职时间",name:"promiseEnterDate",formName:t,placeholder:"yy-MM-dd",type:"date"},structure:{required:!0,displayName:"组织架构",name:"structure",formName:t,manageNodes:n.userInfo.hasRoles.recruitHR,mode:"structure"},level:{required:!0,displayName:"等级",mode:"select",formName:t,name:"level",items:[]},position:{required:!0,displayName:"职位",mode:"select",formName:t,name:"position",items:[]},leader:{required:!0,displayName:"直属领导",mode:"nameSuggestion",formName:t,name:"leader"}}}}),define("module/hr/agent/options/otherInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{resumeStorageId:{required:!1,displayName:"电子简历",name:"resumeStorageId",formName:t,mode:"file"},idCardAndContract:{required:!1,displayName:"劳动合同/实习协议",name:"idCardAndContract",formName:t,mode:"file"},idCardUpload:{required:!1,displayName:"身份证复印件",name:"idCardUpload",formName:t,mode:"file"},limitAgreement:{required:!1,displayName:"竞业协议",name:"limitAgreement",formName:t,mode:"file"},detail:{required:!1,displayName:"备注",maxLength:200,name:"detail",formName:t,placeholder:"少于200个字",mode:"textarea"},recommendType:{required:!1,displayName:"入职推荐途径",name:"recommendType",formName:t,mode:"select",items:n.RECOMMEND_TYPE,filter:"recommendType"},recommendDetail:{required:!1,displayName:"推荐详情",maxLength:30,name:"recommendDetail",formName:t,placeholder:"少于30个字"}}}}),define("module/hr/agent/options/educationInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{start:{required:!0,displayName:"开始时间",name:"start",formName:t,type:"month",placeholder:"YYYY-MM"},end:{required:!0,displayName:"结束时间",name:"end",formName:t,type:"month"},school:{required:!0,displayName:"学校",name:"school",formName:t,maxLength:15,placeholder:"少于15个字"},discipline:{required:!0,displayName:"专业",name:"discipline",formName:t,maxLength:15,placeholder:"少于15个字"},degree:{required:!0,displayName:"学历",name:"degree",formName:t,mode:"select",items:n.DEGREE}}}}),define("module/hr/agent/options/workExpInfo",["require","module/config"],function(e){return function(t){var n=e("module/config");return{start:{required:!0,displayName:"开始时间",name:"start",formName:t,type:"month",placeholder:"YYYY-MM"},end:{required:!0,displayName:"结束时间",name:"end",formName:t,type:"month"},company:{required:!0,displayName:"单位",name:"company",formName:t,maxLength:30,placeholder:"少于30个字"},position:{required:!0,displayName:"职位",name:"position",formName:t,maxLength:30,placeholder:"少于30个字"}}}}),define("module/hr/agent/controller",["require","../app","module/config","./options/baseInfo","./options/contactInfo","./options/info","./options/otherInfo","./options/educationInfo","./options/workExpInfo","module/codeConfig","../config","module/apply/config","moment"],function(e){var t=e("../app"),n=e("module/config"),r=e("./options/baseInfo"),i=e("./options/contactInfo"),s=e("./options/info"),o=e("./options/otherInfo"),u=e("./options/educationInfo"),a=e("./options/workExpInfo"),f=e("module/codeConfig"),l=f.TYPE_CODE,c=e("../config"),h=f.STAFF_STATUS_CODE,p=e("module/apply/config"),d=e("moment");t.controller("agentCtrl",["$scope","hrRequest","$stateParams","localStorage","$state","hrUtil","hrOptUtil","util","$filter",function(e,t,l,c,h,p,d,v,m){function g(){y(),b(),e.entry=="rejoin"&&d.rejoin(w)}function y(){e.entry="";switch(h.current.name){case"hr.toJoinSearchAgent":e.entry="newer";break;case"hr.rejoinAgent":e.entry="rejoin"}}function b(){e.entry=="newer"&&(e.title="办理入职手续",e.isReadOnly=!1),e.entry=="rejoin"&&(e.title="员工再入职"),e.rejoinForibidFields=["name","lawName","namePinyin","sex","birthday","beginWorkTime","isForeign","idCardNumber"];var t="agentEnterForm";e.baseOptions=r(t),e.contactOptions=i(t),e.infoOptions=s(t,e),e.otherOptions=o("otherInfoForm"),e.educationAddOptions=u("educationAddForm"),e.workExpAddOptions=a("workExpAddForm"),e.workExperienceId=[],e.eduExperienceId=[],e.isReadOnly2=!0,e.onEditPart2=N,e.cancelPart2=T,e.workExpList=[],e.educationList=[],e.submit=O}function w(t){t.staffInfo&&($.extend(!0,e,t.staffInfo),e.idCardNumber=t.idCardNumber,E(),e.getWorkExperience(),e.getEducationExperience(),e.rejoinForibidFields.forEach(function(t,n){e.baseOptions[t].disable=!0}))}function E(){e.enterTime&&(e.promiseEnterDate=new Date(e.enterTime)),e.beginWorkTime&&(e.beginWorkTime=new Date(e.beginWorkTime)),e.birthday&&(e.birthday=new Date(v.formatTime(e.birthday)+" 00:00:00")),e.leader&&(e.leader=e.leaderName+","+e.leader),e.structure={id:e.structure,name:e.structureName},e.otherOptions.resumeStorageId.fileUrl=e.resumeUrl,e.otherOptions.idCardAndContract.fileUrl=e.idCardAndContractUrl,e.otherOptions.idCardUpload.fileUrl=e.idCardUploadUrl,e.otherOptions.limitAgreement.fileUrl=e.limitAgreementUrl}function S(t){var n=e.educationList;for(var r=0,i;i=e.educationList[r++];)i.disable=!t;e.educationList=n}function x(t){var n=e.workExpList;for(var r=0,i;i=e.workExpList[r++];)i.disable=!t;e.workExpList=n}function T(){S(!1),x(!1),e.isReadOnly2=!0}function N(){S(!0),x(!0),e.isReadOnly2=!1}function C(t,n){if(t=="structure")if(!e[t]||!e[t].id)return n[t].$error.requiredSubmitted=!0,!1;return typeof e[t]=="undefined"&&t=="leader"?(n[t].$error.sugguestionRequired=!0,!1):!0}function k(e,t){var n=!0;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r].name;C(i,t)||(n=!1)}return n}function L(){var t={name:e.name||e.lawName,namePinyin:e.namePinyin,sex:e.sex,degree:e.degree,lawName:e.lawName,isForeign:e.isForeign,idCardNumber:e.idCardNumber,accountLocation:e.accountLocation,birthday:e.birthday,beginWorkTime:e.beginWorkTime,type:f.AGENT_TYPE_CODE.REGULAR,mobile:e.mobile,personalEmail:e.personalEmail,promiseEnterDate:e.promiseEnterDate&&e.promiseEnterDate.getTime(),structure:e.structure&&e.structure.id,structureName:e.structure&&e.structure.name,level:e.level,position:e.position,leader:v.getUsernameFromSuggestion(e.leader),workExperienceId:e.workExperienceId,eduExperienceId:e.eduExperienceId,resumeStorageId:e.resumeStorageId,idCardAndContract:e.idCardAndContract,idCardUpload:e.idCardUpload,limitAgreement:e.limitAgreement,detail:e.detail,recommendType:e.recommendType,recommendDetail:e.recommendDetail};return t}function A(t){var n=["resumeStorageId","idCardAndContract","idCardUpload","limitAgreement"];for(var r in t)n.indexOf(r)!==-1&&(e.otherOptions[r].fileUrl=undefined),e[r]=undefined;e.levelIndex=undefined,e.workExpList=[],e.educationList=[]}function O(){var n=e.agentEnterForm,r=e.otherInfoForm;n.$submitted=!0,r.$submitted=!0;var i=k(e.infoOptions,n);if(!n.$valid||!r.$valid||!i)return;var s=L(),o=t.submitPreEnterInfo,u={content:s,type:f.APPLY_CODE.AGENT_ENTER};if(e.entry=="rejoin"){var a=e.number;u.type=f.APPLY_CODE.AGENT_REJOIN,u.editedNumber=a,u.content.number=a}o(u).then(function(e){alert("系统已经接受了您的请求，开始审批流程，请注意查看审批结果邮件"),A(s),n.$submitted=!1,r.$submitted=!1})}g(),e.getLevel=function(r){r?t.getLevel({structure:e.structure.id}).then(function(t){for(var r=0,i;i=t.data[r++];)i.id=r;t.data.unshift(n.EMPTY),e.infoOptions.level.items=t.data,e.levelIndex=e.getLevelIndex(e.level)}):(e.infoOptions.level.items=[],e.infoOptions.position.items=[])},e.getPosition=function(r){r?t.getPosition({structure:e.structure.id,level:e.level}).then(function(t){t.data.unshift(n.EMPTY),e.infoOptions.position.items=t.data}):e.infoOptions.position.items=[]},e.$watch("structure",function(t,n){t!=n&&t&&t.id&&(e.getLevel(t),e.getPosition(t),n&&typeof n.id!="undefined"&&(e.level=undefined,e.position=undefined))},!0),e.$watch("levelIndex",function(t,n){t!=n&&(e.level=e.getLevelByIndex(t))},!0),e.$watch("level",function(t,n){t!=n&&(e.getPosition(t),typeof n!="undefined"&&(e.position=undefined))},!0),e.getLevelByIndex=function(t){return typeof t=="undefined"?undefined:e.infoOptions.level.items[t].name},e.getLevelIndex=function(t){var n=e.infoOptions.level.items;for(var r=0,i;i=n[r++];)if(i.name==t)return i.id},e.getEducationExperience=function(){t.getEducationExperience({number:e.number}).then(function(t){for(var n=0,r;r=t.data[n++];)r.start=new Date(r.start),r.end=new Date(r.end),e.isReadOnly2&&(r.disable=!0);e.educationList=t.data})},e.getWorkExperience=function(){t.getWorkExperience({number:e.number}).then(function(t){for(var n=0,r;r=t.data[n++];)r.start=new Date(r.start),r.end=new Date(r.end),e.isReadOnly2&&(r.disable=!0);e.workExpList=t.data})},e.educationAdd={addClick:function(){e.addingEducation=!0},onCancel:function(){var t=this;e.addingEducation=!1,t.clearInfo()},clearInfo:function(){e.educationAdd.start=undefined,e.educationAdd.end=undefined,e.educationAdd.school=undefined,e.educationAdd.discipline=undefined,e.educationAdd.degree=undefined},onSave:function(n){n.$submitted=!0;var r=this;if(!n.$valid)return;var i=e.educationAdd.start.getTime(),s=e.educationAdd.end.getTime();if(i>s){alert("结束时间必须大于开始时间");return}t.addEducationExperience({number:e.number,start:i,end:s,school:e.educationAdd.school,discipline:e.educationAdd.discipline,degree:e.educationAdd.degree}).then(function(t){info("添加成功"),e.addingEducation=!1;var o={id:t.data,start:new Date(i),end:new Date(s),school:e.educationAdd.school,discipline:e.educationAdd.discipline,degree:e.educationAdd.degree,disable:!1};e.educationList.push(o),e.eduExperienceId.push(t.data),n.$submitted=!1,r.clearInfo()})}},e.workExpAdd={addClick:function(){e.addingWorkExp=!0},onCancel:function(){var t=this;e.addingWorkExp=!1,t.clearInfo()},clearInfo:function(){e.workExpAdd.start=undefined,e.workExpAdd.end=undefined,e.workExpAdd.company=undefined,e.workExpAdd.position=undefined},onSave:function(n){n.$submitted=!0;var r=this;if(!n.$valid)return;var i=e.workExpAdd.start.getTime(),s=e.workExpAdd.end.getTime();if(i>s){alert("结束时间必须大于开始时间");return}t.addWorkExperience({number:e.number,start:i,end:s,company:e.workExpAdd.company,position:e.workExpAdd.position}).then(function(t){info("添加成功"),e.addingWorkExp=!1;var o={id:t.data,start:new Date(i),end:new Date(s),company:e.workExpAdd.company,position:e.workExpAdd.position,disable:!1};e.workExpList.push(o),e.workExperienceId.push(t.data),n.$submitted=!1,r.clearInfo()})}}}])}),define("module/hr/main",["require","./app","./directive/main","./newer/controller","./search/controller","./salaryList/controller","./taxList/controller","./securityList/controller","./attendceRecord/controller","./staffInfo/controller","./baseInfo/controller","./workInfo/controller","./salaryInfo/controller","./secretInfo/controller","./changeInfo/controller","./monthSalary/controller","./salaryChangeInfo/controller","./dimission/controller","./initInfo/controller","./workTargetInfo/controller","./formalApplyInfo/controller","./opt/main","./tempCard/main","./util","./optUtil","./agent/controller"],function(e){var t=e("./app");e("./directive/main"),e("./newer/controller"),e("./search/controller"),e("./salaryList/controller"),e("./taxList/controller"),e("./securityList/controller"),e("./attendceRecord/controller"),e("./staffInfo/controller"),e("./baseInfo/controller"),e("./workInfo/controller"),e("./salaryInfo/controller"),e("./secretInfo/controller"),e("./changeInfo/controller"),e("./monthSalary/controller"),e("./salaryChangeInfo/controller"),e("./dimission/controller"),e("./initInfo/controller"),e("./workTargetInfo/controller"),e("./formalApplyInfo/controller"),e("./opt/main"),e("./tempCard/main"),e("./util"),e("./optUtil"),e("./agent/controller"),t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("hr",{"abstract":"",url:"/hr",templateUrl:"src/module/hr/tpl.html"}).state("hr.newer",{url:"/newer",templateUrl:"src/module/hr/newer/tpl.html",controller:"newerCtrl"}).state("hr.newerEdit",{url:"/newerEdit",templateUrl:"src/module/hr/newer/tpl.html",controller:"newerCtrl"}).state("hr.newerSearch",{url:"/newerSearch",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("hr.rejoin",{url:"/rejoin",templateUrl:"src/module/hr/newer/tpl.html",controller:"newerCtrl"}).state("hr.salaryBillSearch",{url:"/salaryBillSearch",templateUrl:"src/module/hr/salaryList/tpl.html",controller:"hrSalaryListController"}).state("hr.taxList",{url:"/taxList",templateUrl:"src/module/hr/taxList/tpl.html",controller:"hrTaxListController"}).state("hr.attendceRecord",{url:"/attendceRecord",templateUrl:"src/module/hr/attendceRecord/tpl.html",controller:"attendceRecordCtrl"}).state("hr.tempCard",{url:"/tempCard",templateUrl:"src/module/hr/tempCard/tpl.html",controller:"hrTempCardCtrl"}).state("hr.tempCard.all",{url:"/all",templateUrl:"src/module/hr/tempCard/table/tpl.html",controller:"hrTempCardTableCtrl"}).state("hr.tempCard.canBorrow",{url:"/canBorrow",templateUrl:"src/module/hr/tempCard/table/tpl.html",controller:"hrTempCardTableCtrl"}).state("hr.tempCard.hadBorrow",{url:"/hadBorrow",templateUrl:"src/module/hr/tempCard/table/tpl.html",controller:"hrTempCardTableCtrl"}).state("hr.securityList",{url:"/securityList",templateUrl:"src/module/hr/securityList/tpl.html",controller:"hrSecurityListController"}).state("hr.toJoinSearch",{url:"/toJoinSearch",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("hr.abandonSearch",{url:"/abandonSearch",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("hr.assetManagerSearch",{url:"/assetManagerSearch",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("hr.itManagerSearch",{url:"/itManagerSearch",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("hr.toJoinSearchAgent",{url:"/toJoinSearchAgent",templateUrl:"src/module/hr/agent/tpl.html",controller:"agentCtrl"}).state("hr.rejoinAgent",{url:"/rejoinAgent",templateUrl:"src/module/hr/agent/tpl.html",controller:"agentCtrl"});var n=["salaryHR","relationshipHR","businessPartnerHR","trainingHR"];for(var r=0,i;i=n[r++];)e.state("hr."+i+"Search",{url:"/"+i+"Search",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("hr."+i+"-staffInfo",{url:"/"+i+"-staffInfo",templateUrl:"src/module/hr/staffInfo/tpl.html",controller:"staffInfoCtrl",resolve:{commonInfo:["hrRequest","localStorage",function(e,t){return e.getCommonInfo({number:t.get("number")})}]}}).state("hr."+i+"-staffInfo.baseInfo",{url:"/baseInfo",templateUrl:"src/module/hr/baseInfo/tpl.html",controller:"hrBaseInfoCtrl",resolve:{workInfo:["hrRequest","localStorage",function(e,t){return e.getStaffWorkInfo({number:t.get("number")})}]}}).state("hr."+i+"-staffInfo.workInfo",{url:"/workInfo",templateUrl:"src/module/hr/workInfo/tpl.html",controller:"hrWorkInfoCtrl"}).state("hr."+i+"-staffInfo.salaryInfo",{url:"/salaryInfo",templateUrl:"src/module/hr/salaryInfo/tpl.html",controller:"hrSalaryInfoCtrl"}).state("hr."+i+"-staffInfo.monthSalary",{url:"/monthSalary",templateUrl:"src/module/hr/monthSalary/tpl.html",controller:"hrMonthSalaryCtrl"}).state("hr."+i+"-staffInfo.secretInfo",{url:"/secretInfo",templateUrl:"src/module/hr/secretInfo/tpl.html",controller:"hrSecretInfoCtrl"}).state("hr."+i+"-staffInfo.changeInfo",{url:"/changeInfo",templateUrl:"src/module/hr/changeInfo/tpl.html",controller:"hrChangeInfoCtrl"}).state("hr."+i+"-staffInfo.salaryChangeInfo",{url:"/salaryChangeInfo",templateUrl:"src/module/hr/salaryChangeInfo/tpl.html",controller:"hrSalaryChangeInfoCtrl"}).state("hr."+i+"-staffInfo.leaveInfo",{url:"/leaveInfo",templateUrl:"src/module/hr/dimission/tpl.html",controller:"hrDimissionCtrl"}).state("hr."+i+"-staffInfo.workTargetInfo",{url:"/workTargetInfo",templateUrl:"src/module/hr/workTargetInfo/tpl.html",controller:"hrWorkTargetInfoCtrl"}).state("hr."+i+"-staffInfo.formalApplyInfo",{url:"/formalApplyInfo",templateUrl:"src/module/hr/formalApplyInfo/tpl.html",controller:"hrFormalApplyInfoCtrl"})}])}),define("module/admin/app",["require"],function(e){return angular.module("app.admin",["ui.router"])}),define("module/admin/directive/companyInfo/directive",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.directive("companyInfo",["ajaxService","adminRequest","hrRequest",function(e,t,n){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/module/admin/directive/companyInfo/tpl.html",replace:!1,link:function(e,t,r,i){e.departmentsSelectOptions={items:[]},e.onDel=function(){confirm("确认删除该条信息吗？")&&(e.options.companyId=undefined,$(t).html("")),confirm("确认删除该条信息吗？",function(){e.options.companyId=undefined,$(t).html("")})},e.onEditSave=function(t){if(!t.$valid)return;e.options.companyName=e.getCompanyName(e.options.companyId),e.options.departmentNames=e.getDepartmentNames(e.options.departmentIds),e.editing=!1},e.getCompanyName=function(t){for(var n=0,r;r=e.companys[n++];)if(r.id==t)return r.name},e.getDepartmentNames=function(t){var n=[],r=e.departmentsSelectOptions.items;for(var i=0,s;s=r[i++];)$.inArray(s.id,t)!=-1&&n.push(s.name);return n.join(",")},e.onEdit=function(){e.editing=!0},e.onCancelEdit=function(){e.editing=!1},e.getCompany=function(){n.getCompany().then(function(t){e.companys=t.data})},e.$watch("options.companyId",function(t,r){n.getDepartment({company:e.options.companyId}).then(function(n){e.departmentsSelectOptions.items=n.data,t!=r&&(e.options.departmentIds=[])})},!0),e.getCompany()}}}])}),define("module/admin/directive/levelInfo/directive",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.directive("levelInfo",["ajaxService","adminRequest",function(e,t){return{restrict:"EA",scope:{options:"="},require:"?ngModel",templateUrl:"src/module/admin/directive/levelInfo/tpl.html",replace:!1,compile:function(e,r,i,s){return{pre:function(e,t,n){var r="levelForm";e.inputOptions={level:{required:!0,displayName:"等级",name:"level",formName:r,maxLength:10,placeholder:"少于10个字"},levelName:{required:!0,displayName:"等级名称",name:"levelName",formName:r,maxLength:30,placeholder:"少于30个字"}}},post:function(e,r,i){function s(){e.editInfo=$.extend(!0,e.editInfo,e.options)}function o(){e.editInfo={level:undefined,levelName:undefined}}e.emptyValue=n.EMPTY_VALUE,e.onDel=function(){confirm("确认删除该等级吗？",function(){t.delLevel({id:e.options.id}).then(function(e){info("删除成功"),$(r).html("")})})},e.onEditSave=function(n){n.$submitted=!0;if(!n.$valid)return;var r={id:e.editInfo.id,level:e.editInfo.level,levelName:e.editInfo.levelName};t.modLevel(r).then(function(t){info("修改成功"),$.extend(!0,e.options,r),e.editing=!1})},e.onEdit=function(){e.editing=!0,s()},e.onCancelEdit=function(){e.editing=!1,o()}}}}}}])}),define("module/admin/directive/structureInfo/directive",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.directive("structureInfo",["ajaxService","adminRequest","$templateCache","$compile","$timeout",function(e,t,n,r,i){return{restrict:"EA",scope:{id:"@nodeId"},replace:!1,link:function(e,s,o){$(s).hover(function(){e.timer=i(function(){var i="src/module/admin/directive/structureInfo/tpl.html",o=n.get(i)||$.ajax({type:"GET",url:i,async:!1}).responseText;t.getStuctureInfo({id:e.id}).then(function(t){e.info=t.data});var u=r(o)(e);$(s).parent().parent().parent().append(u)},500)},function(){i.cancel(e.timer),$(".admin-directive-structureInfo").detach()})}}}])}),define("module/admin/directive/main",["require","./companyInfo/directive","./levelInfo/directive","./structureInfo/directive"],function(e){e("./companyInfo/directive"),e("./levelInfo/directive"),e("./structureInfo/directive")}),define("module/admin/permission/controller",["require","../app","module/config"],function(e){var t=e("../app"),n=e("module/config");t.controller("permissionCtrl",["$scope","$stateParams","localStorage","adminRequest","hrRequest",function(e,t,n,r,i){e.number=n.get("number"),e.getAuth=function(){r.getAuth({number:e.number}).then(function(t){var n=t.data.roleTypes;e.roleType=n?n.split(","):[];for(var r=0;r<e.roleType.length;r++)e[e.roleType[r]]=!0;var i=t.data.manageRange||[];for(var r=0,s;s=i[r++];){var o=s.departmentIds.split(",");for(var u=0;u<o.length;u++)o[u]=+o[u];s.departmentIds=o}e.manageRange=i})},e.departmentsSelectOptions={items:[]},e.companyAddClick=function(){e.isAdding=!0},e.getCompany=function(){i.getCompany().then(function(t){e.add.companys=t.data})},e.companyChangeHandler=function(){i.getDepartment({company:e.add.company}).then(function(t){e.departmentsSelectOptions.items=t.data,e.add.departments=[]})},e.add={onCancel:function(){e.isAdding=!1},onSave:function(t){if(!t.$valid)return;e.manageRange.push({companyId:e.add.company,companyName:e.getCompanyName(e.add.company),departmentIds:e.add.departments,departmentNames:e.getDepartmentNames(e.add.departments)}),e.isAdding=!1,e.add.company=undefined,e.add.departments=[]}},e.getCompanyName=function(t){for(var n=0,r;r=e.add.companys[n++];)if(r.id==t)return r.name},e.getDepartmentNames=function(t){var n=[],r=e.departmentsSelectOptions.items;for(var i=0,s;s=r[i++];)$.inArray(s.id,t)!=-1&&n.push(s.name);return n.join(",")},e.saveAuth=function(){function n(e){var t=[];for(var n=0,r;r=e[n++];){if(!r.companyId)continue;t.push({companyId:r.companyId,departmentIds:r.departmentIds.join(",")})}return t}var t=[];e.HRBP&&t.push("HRBP"),e.ZPHR&&t.push("ZPHR"),e.XCHR&&t.push("XCHR"),e.GXHR&&t.push("GXHR"),e.PXHR&&t.push("PXHR");var i={number:+e.number,roleTypes:t.join(","),manageRange:n(e.manageRange)};r.modAuth(i).then(function(e){info("修改成功")})},e.getCompany(),e.getAuth()}])}),define("module/admin/structure/controller",["require","../app","module/config"],function(e){var t=e("../app"),n=e("module/config");t.controller("structureCtrl",["$scope","$stateParams","util","adminRequest","hrRequest","$modal","adminUtil",function(e,t,r,i,s,o,u){function a(){e.expandedNodes=r.merge([e.selectedNode],[]),e.expandedNodes=r.merge([e.selectedNode],f(e.selectedNode))}function f(e){var t=e.children,n=[];if(t)for(var r=0,e;e=t[r++];)n.push(e);return n}e.treeData=[],e.expandedNodes=[],e.treeOptions={injectClasses:{li:"node-header"},allowDeselect:!1},e.hasParentNode=!1,e.viewNode=function(e){},e.addNode=function(t){u.addStructure(t.id,function(t){t.hadSuccess&&e.getStructureList()})},e.editNode=function(t){u.editStructure(t.id,function(t){t.hadSuccess&&(e.getStructureList(),e.getNodeInfo(e.selectedNode.id))})},e.delNode=function(t){if(t.isKeyNode){alert("结算结点不能隐藏，如需隐藏，请先设置为非结算结点");return}confirm("确认要将该节点设置为隐藏吗？",function(){i.delStucture({number:t.id}).then(function(){info("设置成功"),e.getStructureList()})})},e.enableNode=function(t){confirm("确认要将该节点恢复使用吗？",function(){i.enableStucture({number:t.id}).then(function(){info("设置成功"),e.getStructureList()})})},e.onNodeSelect=function(t){e.getNodeInfo(t.id),t.id==n.STRUCTURE_ROOT_ID?e.hasParentNode=!1:e.hasParentNode=!0},e.getNodeInfo=function(t){i.getStuctureInfo({id:t}).then(function(t){e.info=t.data})},e.getStructureList=function(){i.getStructure().then(function(t){e.treeData=r.getTreeData(t.data),e.selectedNode||(e.selectedNode=e.treeData[0],e.getNodeInfo(e.selectedNode.id),a())})},e.getStructureList(),setTimeout(function(){$("treecontrol").find("ul").find("li").eq(0).css({"border-left":"0px"})},300),$(window).scroll(function(){var e=$(window).scrollTop();e>=110?$("#structure-info").css({position:"fixed",top:"5px",right:"33px",bottom:0,overflow:"auto"}):$("#structure-info").css({position:"static"})})}])}),define("module/admin/contractCompany/controller",["require","../app","module/config"],function(e){var t=e("../app"),n=e("module/config");t.controller("adminContractCompanyCtrl",["$scope","$stateParams","adminRequest","hrRequest","$modal",function(e,t,n,r,i){e.companyTableOptions={data:[],canSelect:!1,cols:[{field:"name",displayName:"签约公司名称",cellTpl:"src/module/admin/contractCompany/tableTpl/name.html"},{field:"opt",displayName:"操作",cellTpl:"src/module/admin/contractCompany/tableTpl/companyOpt.html"}]},e.getCompanyList=function(){r.getContractCompany().then(function(t){e.companyTableOptions.data=t.data})},e.modifyClick=function(t){var n=i.open({templateUrl:"src/module/admin/contractCompany/mod/tpl.html",controller:"contractCompanyModCtrl",resolve:{item:function(){return t},optType:function(){return"mod"}}});n.result.then(function(){},function(t){t.hasSuccess==1&&e.getCompanyList()})},e.addCompany=function(){e.add({})},e.add=function(t){var n=i.open({templateUrl:"src/module/admin/contractCompany/mod/tpl.html",controller:"contractCompanyModCtrl",resolve:{item:function(){return t},optType:function(){return"add"}}});n.result.then(function(){},function(t){t.hasSuccess==1&&e.getCompanyList()})},e.getCompanyList()}])}),define("module/admin/contractCompany/mod/controller",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.controller("contractCompanyModCtrl",["$scope","$stateParams","adminRequest","hrRequest","item","optType","$modalInstance",function(e,t,n,r,i,s,o){var u="签约公司";e.name=i.name,s=="mod"?e.title="修改"+u+"名称":e.title="新增"+u;var a="modContractCompanyForm";e.inputOptions={name:{required:!0,displayName:u,maxLength:20,name:"name",formName:a,placeholder:"少于20个字"}},e.closeHandler=function(){o.dismiss({})},e.saveHandler=function(t){t.$submitted=!0;if(!t.$valid)return;var r=null,u={};s=="mod"?(r=n.modContractCompany,u.contractCompany=i.id,u.contractCompanyName=e.name):(r=n.addContractCompany,u.contractCompanyName=e.name),r(u).then(function(e){info("操作成功"),o.dismiss({hasSuccess:!0,optType:s})})}}])}),define("module/admin/opt/editStructure/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o={name:{required:!0,displayName:"组织名称",maxLength:20,name:"name",formName:t,placeholder:"少于20个字"},shortName:{required:!1,displayName:"简称",maxLength:20,name:"shortName",formName:t,placeholder:"少于20个字"},numberPrefix:{required:!1,displayName:"员工编号序列",maxLength:2,name:"numberPrefix",formName:t,pattern:"^[A-Z]+$",placeholder:"A~Z或者AA~ZZ之间的英文字符"},parentStructure:{required:!1,displayName:"上级组织",name:"parentStructure",formName:t,manageNodes:[r.STRUCTURE_ROOT_ID],mode:"structure"},owner:{required:!1,displayName:"部门负责人",mode:"nameSuggestion",formName:t,name:"owner"},recruitHR:{required:!1,displayName:"招聘HR",maxLength:200,name:"recruitHR",formName:t,mode:"multiName"},salaryHR:{required:!1,displayName:"薪酬HR",maxLength:200,name:"salaryHR",formName:t,mode:"multiName"},relationshipHR:{required:!1,displayName:"员工关系HR",maxLength:200,name:"relationshipHR",formName:t,mode:"multiName"},businessPartnerHR:{required:!1,displayName:"HRBP",maxLength:200,name:"businessPartnerHR",formName:t,mode:"multiName"},trainingHR:{required:!1,displayName:"培训HR",maxLength:200,name:"trainingHR",formName:t,mode:"multiName"},reception:{required:!1,displayName:"前台",name:"reception",formName:t,mode:"multiName"},punchDevice:{required:!1,displayName:"打卡机前缀",maxLength:20,name:"punchDevice",formName:t,placeholder:"少于20个字"},assetManager:{required:!1,displayName:"资产管理员",maxLength:200,name:"assetManager",formName:t,mode:"multiName"},itOwner:{required:!1,displayName:"IT负责人",maxLength:20,name:"itOwner",formName:t,placeholder:"少于20个字",mode:"multiName"},isKeyNode:{required:!1,displayName:"工资结算结点",name:"isKeyNode",formName:t,mode:"checkbox"},isPunchCard:{required:!1,displayName:"打卡情况",name:"isPunchCard",formName:t,mode:"select",items:[{id:0,name:"不打卡"},{id:1,name:"打卡-餐补不计入工资"},{id:2,name:"打卡-餐补计入工资"}]},taxLocal:{required:!1,displayName:"本地缴纳所得税",name:"taxLocal",formName:t,mode:"checkbox"},isWelfareDefault:{required:!1,displayName:"默认有职位福利费",name:"isWelfareDefault",formName:t,mode:"checkbox"},mealSubsidy:{required:!1,displayName:"餐补",name:"mealSubsidy",formName:t,placeholder:"",pattern:"\\d*",maxLength:6,postfix:"元/天"},socialSecurityCity:{required:!1,displayName:"社保缴纳城市",mode:"select",name:"socialSecurityCity",formName:t,items:[]},levelTemplate:{required:!1,displayName:"职级体系模板",mode:"select",name:"levelTemplate",formName:t,items:[]},calendar:{required:!1,displayName:"日历模板",mode:"select",name:"calendar",formName:t,items:[]},mailSuffix:{required:!1,displayName:"邮箱后缀",maxLength:20,name:"mailSuffix",formName:t,placeholder:"少于20个字"},lowestSalary:{required:!1,displayName:"最低工资标准",maxLength:10,name:"lowestSalary",formName:t,placeholder:"可精确到小数点后两位",pattern:"^[0-9]+(.[0-9]{0,2})?$",type:"number",postfix:"元/月"},isGroupNode:{required:!1,displayName:"集团结点",name:"isGroupNode",formName:t,mode:"checkbox"}};return o}}),define("module/admin/opt/editStructure/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("adminEditStructureCtrl",["$scope","adminRequest","$stateParams","localStorage","$state","util","$modalInstance","parentId","nodeId","hrRequest",function(e,t,i,s,o,u,a,f,l,c){function h(e,t){if(!e)return undefined;var n=[];for(var r=0,i;i=e[r++];)n.push(i[t]);return n.length?n:undefined}function p(t){var n=e[t],r=e[t+"Name"],i=[],s=n.length;for(var o=0;o<s;o++)i.push({userName:n[o],name:r[o]});return i}function d(){e.parendId=f,e.title="新建",f&&(e.isAdd=!0,e.showName=!0,e.isPunchCard=0),l&&(e.isEdit=!0,e.title="编辑",e.getStructureInfo()),e.inputOptions=n("editStructureForm",e),v(),g(),m()}function v(){c.getSocialSecurityCity().then(function(t){t.data.unshift(r.EMPTY),e.inputOptions.socialSecurityCity.items=t.data})}function m(){t.getLevelTemplate().then(function(t){t.data.unshift(r.EMPTY),e.inputOptions.levelTemplate.items=t.data})}function g(){t.getCalendarList().then(function(t){t.data.unshift(r.EMPTY),e.inputOptions.calendar.items=t.data})}e.save=function(n){if(!n.$valid)return;var r=u.getUsernameFromSuggestion(e.owner),i=u.getNameFromSuggestion(e.owner);if(e.punchDevice==""||e.punchDevice==null)e.punchDevice=undefined;var s={name:e.name,shortName:e.shortName,owner:r?[r]:[],ownerName:i?[i]:[],recruitHR:h(e.recruitHR,"userName"),recruitHRName:h(e.recruitHR,"name"),salaryHR:h(e.salaryHR,"userName"),salaryHRName:h(e.salaryHR,"name"),relationshipHR:h(e.relationshipHR,"userName"),relationshipHRName:h(e.relationshipHR,"name"),trainingHR:h(e.trainingHR,"userName"),trainingHRName:h(e.trainingHR,"name"),businessPartnerHR:h(e.businessPartnerHR,"userName"),businessPartnerHRName:h(e.businessPartnerHR,"name"),assetManager:h(e.assetManager,"userName"),assetManagerName:h(e.assetManager,"name"),itOwner:h(e.itOwner,"userName"),itOwnerName:h(e.itOwner,"name"),reception:h(e.reception,"userName"),receptionName:h(e.reception,"name"),punchDevice:e.punchDevice,isKeyNode:e.isKeyNode?1:0,isPunchCard:e.isPunchCard,socialSecurityCity:e.socialSecurityCity,levelTemplate:e.levelTemplate,calendar:e.calendar,mailSuffix:e.mailSuffix,taxLocal:e.taxLocal?1:0,isWelfareDefault:e.isWelfareDefault?1:0,isGroupNode:e.isGroupNode?1:0,mealSubsidy:e.mealSubsidy?+e.mealSubsidy:0,numberPrefix:e.numberPrefix,lowestSalary:e.lowestSalary};if(!s.isKeyNode)s.socialSecurityCity="",s.levelTemplate="",s.taxLocal=0,s.isWelfareDefault=0,s.mealSubsidy=0,s.isPunchCard=0,s.reception=[],s.receptionName=[],s.punchDevice=undefined;else{s.isPunchCard==0&&(s.reception=[],s.receptionName=[],s.punchDevice=undefined);if(!s.salaryHR){alert("请为工资结算结点配置薪酬HR");return}}var o=t.addStructure;e.isEdit&&(s.id=l,e.parentStructure.id&&(s.parentStructure=e.parentStructure.id,s.parentStructureName=e.parentStructure.name),o=t.modStructure),e.isAdd&&(s.parentStructure=f),o(s).then(function(e){info("添加成功"),a.dismiss({hadSuccess:!0})})},e.closeHandler=function(){a.dismiss({})},e.getStructureInfo=function(){t.getStuctureInfo({id:l}).then(function(t){var n=t.data;$.extend(!0,e,n),e.numberPrefix&&(e.inputOptions.numberPrefix.forbid=!0),e.owner=u.getShowUserName(e.owner[0],e.ownerName[0]),e.parentStructure={id:e.parentStructure,name:e.parentStructureName},e.isEdit&&l!=r.STRUCTURE_ROOT_ID&&(e.showParentStructure=!0,e.showName=!0),e.recruitHR=p("recruitHR"),e.salaryHR=p("salaryHR"),e.relationshipHR=p("relationshipHR"),e.trainingHR=p("trainingHR"),e.businessPartnerHR=p("businessPartnerHR"),e.assetManager=p("assetManager"),e.itOwner=p("itOwner"),e.reception=p("reception")})},d()}])}),define("module/admin/opt/editKeyInfo/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o={lawName:{required:!0,displayName:"法律名",maxLength:5,name:"lawName",formName:t,placeholder:"少于5个字"},sex:{required:!0,displayName:"性别",name:"sex",formName:t,mode:"select",items:r.SEX,filter:"sex"}};return o}}),define("module/admin/opt/editKeyInfo/controller",["require","../../app","./inputOptions","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s={};t.controller("adminOptEditKeyInfoCtrl",["$scope","adminRequest","$stateParams","localStorage","$state","util","$modalInstance","item",function(e,t,r,i,s,o,u,a){function l(){e.title="修改关键信息",e.inputOptions=n("editKeyInfoForm",e)}var f=a.number;$.extend(!0,e,a),e.save=function(n){if(!n.$valid)return;var r={lawName:e.lawName,sex:e.sex,number:f};t.modKeyInfo(r).then(function(e){info("修改成功"),u.dismiss({hadSuccess:!0})})},e.closeHandler=function(){u.dismiss({})},l()}])}),define("module/admin/socialSecurityCity/controller",["require","../app","module/config"],function(e){function r(e,t,n,r,i){function s(){o()}function o(){r.getSocialSecurity().then(function(t){e.cityTableOptions.data=t.data})}function u(e){var t=i.open({templateUrl:"src/module/admin/socialSecurityCity/mod/tpl.html",controller:"adminSocialSecurityCityModControllor",windowClass:"xx-dialog",resolve:{item:function(){return e},optType:function(){return"mod"}}});t.result.then(function(){},function(e){e.hasSuccess==1&&o()})}function a(e){var t=i.open({templateUrl:"src/module/admin/socialSecurityCity/mod/tpl.html",controller:"adminSocialSecurityCityModControllor",windowClass:"xx-dialog",resolve:{item:function(){return e},optType:function(){return"add"}}});t.result.then(function(){},function(e){e.hasSuccess==1&&o()})}e.cityTableOptions={data:[],canSelect:!1,cols:[{field:"name",displayName:"城市",cellTpl:"src/module/admin/socialSecurityCity/tableTpl/name.html"},{field:"opt",displayName:"操作",cellTpl:"src/module/admin/socialSecurityCity/tableTpl/opt.html"}]},e.modifyClick=u,s(),e.addCity=function(){a({})}}var t=e("../app"),n=e("module/config");t.controller("adminSocialSecurityCityControllor",r),r.$inject=["$scope","$stateParams","adminRequest","hrRequest","$modal"]}),define("module/admin/socialSecurityCity/mod/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n,r){var i=e("module/config"),s=e("module/codeConfig"),o=e("module/nameConfig"),u={name:{required:!0,displayName:"社保缴纳城市",maxLength:40,name:"name",formName:t,placeholder:"少于40个字"},socialSecurityMax:{required:!0,displayName:"社保基数上限",name:"socialSecurityMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:"元"},socialSecurityMin:{required:!0,displayName:"社保基数下限",name:"socialSecurityMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:"元"},socialSecurityDefault:{required:!0,displayName:"默认社保基数",name:"socialSecurityDefault",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:"元"},socialSecurityBySalary:{required:!1,displayName:"默认应发工资",name:"socialSecurityBySalary",formName:t,mode:"checkbox",changeHandler:n.socialSecurityBySalaryChange},needFiveBase:{required:!1,displayName:"需配置5个基数",name:"needFiveBase",formName:t,mode:"checkbox"},houseFundPersonalPer:{required:!0,displayName:"公积金个人缴纳比例",name:"houseFundPersonalPer",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:"%"},houseFundCompanyPer:{required:!0,displayName:"公积金公司缴纳比例",name:"houseFundCompanyPer",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:"%"},houseFundMin:{required:!0,displayName:"公积金基数下限",name:"houseFundMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:"元"},houseFundMax:{required:!0,displayName:"公积金基数上限",name:"houseFundMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:"元"},houseFundDefault:{required:!0,displayName:"默认公积金基数",name:"houseFundDefault",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:"元"},houseFundBySalary:{required:!1,displayName:"默认应发工资",name:"houseFundBySalary",formName:t,mode:"checkbox",changeHandler:n.houseFundBySalaryChange},medicalLCityPlus:{required:!1,displayName:"",name:"medicalLCityPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},medicalLCityCPlus:{required:!1,displayName:"",name:"medicalLCityCPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},medicalLCtryCPlus:{required:!1,displayName:"",name:"medicalLCtryCPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},medicalFCityCPlus:{required:!1,displayName:"",name:"medicalFCityCPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},medicalFCtryCPlus:{required:!1,displayName:"",name:"medicalFCtryCPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},medicalLCtryPlus:{required:!1,displayName:"",name:"medicalLCtryPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},medicalFCityPlus:{required:!1,displayName:"",name:"medicalFCityPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},medicalFCtryPlus:{required:!1,displayName:"",name:"medicalFCtryPlus",formName:t,placeholder:"",pattern:i.BASE_REG_STR,postfix:""},endowMin:{required:!0,displayName:"",name:"endowMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},endowMax:{required:!0,displayName:"",name:"endowMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},endowCMin:{required:!1,displayName:"",name:"endowCMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},endowCMax:{required:!1,displayName:"",name:"endowCMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},endowLCityPP:{required:!0,displayName:"",name:"endowLCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},endowLCityCP:{required:!0,displayName:"",name:"endowLCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},endowLCtryPP:{required:!0,displayName:"",name:"endowLCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},endowLCtryCP:{required:!0,displayName:"",name:"endowLCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},endowFCityPP:{required:!0,displayName:"",name:"endowFCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},endowFCityCP:{required:!0,displayName:"",name:"endowFCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},endowFCtryPP:{required:!0,displayName:"",name:"endowFCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},endowFCtryCP:{required:!0,displayName:"",name:"endowFCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalMin:{required:!0,displayName:"",name:"medicalMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},medicalMax:{required:!0,displayName:"",name:"medicalMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},medicalCMin:{required:!1,displayName:"",name:"medicalCMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},medicalCMax:{required:!1,displayName:"",name:"medicalCMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},medicalLCityPP:{required:!0,displayName:"",name:"medicalLCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalLCityCP:{required:!0,displayName:"",name:"medicalLCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalLCtryPP:{required:!0,displayName:"",name:"medicalLCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalLCtryCP:{required:!0,displayName:"",name:"medicalLCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalFCityPP:{required:!0,displayName:"",name:"medicalFCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalFCityCP:{required:!0,displayName:"",name:"medicalFCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalFCtryPP:{required:!0,displayName:"",name:"medicalFCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},medicalFCtryCP:{required:!0,displayName:"",name:"medicalFCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployMin:{required:!0,displayName:"",name:"unemployMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},unemployMax:{required:!0,displayName:"",name:"unemployMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},unemployCMin:{required:!1,displayName:"",name:"unemployCMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},unemployCMax:{required:!1,displayName:"",name:"unemployCMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},unemployLCityPP:{required:!0,displayName:"",name:"unemployLCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployLCityCP:{required:!0,displayName:"",name:"unemployLCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployLCtryPP:{required:!0,displayName:"",name:"unemployLCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployLCtryCP:{required:!0,displayName:"",name:"unemployLCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployFCityPP:{required:!0,displayName:"",name:"unemployFCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployFCityCP:{required:!0,displayName:"",name:"unemployFCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployFCtryPP:{required:!0,displayName:"",name:"unemployFCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},unemployFCtryCP:{required:!0,displayName:"",name:"unemployFCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryMin:{required:!0,displayName:"",name:"injuryMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},injuryMax:{required:!0,displayName:"",name:"injuryMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},injuryCMin:{required:!1,displayName:"",name:"injuryCMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},injuryCMax:{required:!1,displayName:"",name:"injuryCMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},injuryLCityPP:{required:!0,displayName:"",name:"injuryLCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryLCityCP:{required:!0,displayName:"",name:"injuryLCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryLCtryPP:{required:!0,displayName:"",name:"injuryLCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryLCtryCP:{required:!0,displayName:"",name:"injuryLCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryFCityPP:{required:!0,displayName:"",name:"injuryFCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryFCityCP:{required:!0,displayName:"",name:"injuryFCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryFCtryPP:{required:!0,displayName:"",name:"injuryFCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},injuryFCtryCP:{required:!0,displayName:"",name:"injuryFCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityMin:{required:!0,displayName:"",name:"maternityMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},maternityMax:{required:!0,displayName:"",name:"maternityMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},maternityCMin:{required:!1,displayName:"",name:"maternityCMin",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},maternityCMax:{required:!1,displayName:"",name:"maternityCMax",formName:t,placeholder:"",pattern:i.BASE_REG_STR,maxLength:9,postfix:""},maternityLCityPP:{required:!0,displayName:"",name:"maternityLCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityLCityCP:{required:!0,displayName:"",name:"maternityLCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityLCtryPP:{required:!0,displayName:"",name:"maternityLCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityLCtryCP:{required:!0,displayName:"",name:"maternityLCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityFCityPP:{required:!0,displayName:"",name:"maternityFCityPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityFCityCP:{required:!0,displayName:"",name:"maternityFCityCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityFCtryPP:{required:!0,displayName:"",name:"maternityFCtryPP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""},maternityFCtryCP:{required:!0,displayName:"",name:"maternityFCtryCP",formName:t,placeholder:"",pattern:"^\\d{1,2}$|^\\d{1,2}\\.\\d*",postfix:""}};return u}}),define("module/admin/socialSecurityCity/mod/controller",["require","../../app","module/config","./inputOptions"],function(e){var t=e("../../app"),n=e("module/config"),r=e("./inputOptions");t.controller("adminSocialSecurityCityModControllor",["$scope","$stateParams","util","adminRequest","hrRequest","item","optType","$modalInstance",function(e,t,n,i,s,o,u,a){function c(e){return p(e,"socialSecurity","社保基数")?p(e,"endow","养老保险个人基数")?p(e,"unemploy","失业险个人基数")?p(e,"medical","医疗保险个人基数")?p(e,"injury","工伤保险个人基数")?p(e,"maternity","生育险个人基数")?p(e,"endowC","养老保险公司基数")?p(e,"unemployC","失业险公司基数")?p(e,"medicalC","医疗保险公司基数")?p(e,"injuryC","工伤保险公司基数")?p(e,"maternityC","生育险公司基数")?p(e,"houseFund","公积金基数")?!0:!1:!1:!1:!1:!1:!1:!1:!1:!1:!1:!1:!1}function h(e){return e.socialSecurityDefault>e.socialSecurityMax||e.socialSecurityDefault<e.socialSecurityMin?(alert("默认社保基数应该大于社保基数下限且小于社保基数上限"),!1):e.houseFundDefault>e.houseFundMax||e.houseFundDefault<e.houseFundMin?(alert("默认公积金基数应该大于公积金基数下限且小于公积金基数上限"),!1):!0}function p(e,t,n){return+e[t+"Max"]<+e[t+"Min"]?(alert(n+"上限须大于下限"),!1):!0}function d(e){e?v(!0):v(!1)}function v(t){e.inputOptions.socialSecurityDefault.forbid=t}function m(e){e?g(!0):g(!1)}function g(t){e.inputOptions.houseFundDefault.forbid=t}function y(){var t={socialSecurityCityName:e.name,socialSecurityDefault:+e.socialSecurityDefault,socialSecurityBySalary:e.socialSecurityBySalary?1:0,needFiveBase:e.needFiveBase?1:0,houseFundPersonalPer:+e.houseFundPersonalPer,houseFundCompanyPer:+e.houseFundCompanyPer,houseFundDefault:+e.houseFundDefault,houseFundBySalary:e.houseFundBySalary?1:0,socialSecurityMax:+e.socialSecurityMax,socialSecurityMin:+e.socialSecurityMin,houseFundMin:+e.houseFundMin,houseFundMax:+e.houseFundMax,medicalLCtryPlus:+e.medicalLCtryPlus,medicalLCityPlus:+e.medicalLCityPlus,medicalFCtryPlus:+e.medicalFCtryPlus,medicalFCityPlus:+e.medicalFCityPlus,medicalLCtryCPlus:+e.medicalLCtryCPlus,medicalLCityCPlus:+e.medicalLCityCPlus,medicalFCtryCPlus:+e.medicalFCtryCPlus,medicalFCityCPlus:+e.medicalFCityCPlus};return b(t,"endow"),b(t,"medical"),b(t,"unemploy"),b(t,"injury"),b(t,"maternity"),t}function b(t,r){t[r+"Min"]=+e[r+"Min"]||0,t[r+"Max"]=+e[r+"Max"]||0,n.inputEmpty(e[r+"CMin"])?t[r+"CMin"]=t[r+"Min"]:t[r+"CMin"]=+e[r+"CMin"],n.inputEmpty(e[r+"CMax"])?t[r+"CMax"]=t[r+"Max"]:t[r+"CMax"]=+e[r+"CMax"],t[r+"LCityPP"]=+e[r+"LCityPP"]||0,t[r+"LCityCP"]=+e[r+"LCityCP"]||0,t[r+"LCtryPP"]=+e[r+"LCtryPP"]||0,t[r+"LCtryCP"]=+e[r+"LCtryCP"]||0,t[r+"FCityPP"]=+e[r+"FCityPP"]||0,t[r+"FCityCP"]=+e[r+"FCityCP"]||0,t[r+"FCtryPP"]=+e[r+"FCtryPP"]||0,t[r+"FCtryCP"]=+e[r+"FCtryCP"]||0}var f="社保缴纳城市";$.extend(!0,e,o),u=="mod"?e.title="修改"+f:e.title="新增"+f,e.socialSecurityBySalaryChange=d,e.houseFundBySalaryChange=m;var l="modSocialSecurityCityForm";e.inputOptions=r(l,e),e.socialSecurityBySalary&&v(!0),e.houseFundBySalary&&g(!0),e.closeHandler=function(){a.dismiss({})},e.saveHandler=function(t){t.$submitted=!0,e.socialSecurityBySalary&&t.socialSecurityDefault.$setValidity("required",!0),e.houseFundBySalary&&t.houseFundDefault.$setValidity("required",!0);if(!t.$valid)return;var n=null,r=y();if(!c(r))return;if(!h(r))return;u=="mod"?(n=i.modSocialSecurityCity,r.socialSecurityCity=o.id):n=i.addSocialSecurityCity,n(r).then(function(e){info("操作成功"),a.dismiss({hasSuccess:!0,optType:u})})}}])}),define("module/admin/office/controller",["require","../app","module/config"],function(e){function r(e,t,n,r,i){function s(){o()}function o(){r.getOffice().then(function(t){e.officeTableOptions.data=t.data})}function u(e){var t=i.open({templateUrl:"src/module/admin/office/mod/tpl.html",controller:"adminOfficeModControllor",resolve:{item:function(){return e},optType:function(){return"mod"}}});t.result.then(function(){},function(e){e.hasSuccess==1&&o()})}function a(e){var t=i.open({templateUrl:"src/module/admin/office/mod/tpl.html",controller:"adminOfficeModControllor",resolve:{item:function(){return e},optType:function(){return"add"}}});t.result.then(function(){},function(e){e.hasSuccess==1&&o()})}e.officeTableOptions={data:[],canSelect:!1,cols:[{field:"name",displayName:"工作地点",cellTpl:"src/module/admin/office/tableTpl/name.html"},{field:"opt",displayName:"操作",cellTpl:"src/module/admin/office/tableTpl/opt.html"}]},e.modifyClick=u,s(),e.addOffice=function(){a({})}}var t=e("../app"),n=e("module/config");t.controller("adminOfficeControllor",r),r.$inject=["$scope","$stateParams","adminRequest","hrRequest","$modal"]}),define("module/admin/office/mod/controller",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.controller("adminOfficeModControllor",["$scope","$stateParams","adminRequest","hrRequest","item","optType","$modalInstance",function(e,t,n,r,i,s,o){var u="办公地点";e.name=i.name,s=="mod"?e.title="修改"+u+"名称":e.title="新增"+u;var a="modOfficeForm";e.inputOptions={name:{required:!0,displayName:u,maxLength:50,name:"name",formName:a,placeholder:"少于50个字"}},e.closeHandler=function(){o.dismiss({})},e.saveHandler=function(t){t.$submitted=!0;if(!t.$valid)return;var r=null,u={};s=="mod"?(r=n.modOffice,u.office=i.id,u.officeName=e.name):(r=n.addOffice,u.officeName=e.name),r(u).then(function(e){info("操作成功"),o.dismiss({hasSuccess:!0,optType:s})})}}])}),define("module/admin/holiday/mod/controller",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.controller("calendarModCtrl",["$scope","$stateParams","adminRequest","hrRequest","item","optType","$modalInstance",function(e,t,n,r,i,s,o){var u="日历模板";e.name=i.name,s=="mod"?e.title="修改"+u+"名称":e.title="新增"+u;var a="modCalendarForm";e.inputOptions={name:{required:!0,displayName:u,maxLength:20,name:"name",formName:a,placeholder:"少于20个字"}},e.closeHandler=function(){o.dismiss({})},e.saveHandler=function(t){t.$submitted=!0;if(!t.$valid)return;var r=null,u={};s=="mod"?(r=n.modCalendarName,u.id=i.id,u.name=e.name):(r=n.addCalendar,u.name=e.name),r(u).then(function(e){info("操作成功"),o.dismiss({hasSuccess:!0,optType:s,id:u.id,name:u.name})})}}])}),define("module/admin/holiday/controller",["require","../app","module/config","module/codeConfig","moment","./mod/controller"],function(e){function s(e,t,n,r,s){function o(){e.months=f(),e.years=a(),e.query.year=e.years[0],u()}function u(){n.getCalendarList().then(function(t){e.tableOptions.data=t.data;if(typeof e.cid=="undefined"){var n=t.data[0];e.cid=n.id,e.curName=n.name,p()}})}function a(){var e=(new Date).getFullYear();return[e,e+1]}function f(){var e=[];for(var t=1;t<13;t++)e.push({key:t,value:t+"月"});return e}function l(e,t){p()}function c(){p()}function h(){p()}function p(){var t={month:e.query.year+"-"+e.query.month,templateId:e.cid};n.getWorkdays(t).then(function(t){var n=t.data.split(",");e.days=d(n)})}function d(t){var n=[],r=e.query.year,s=+e.query.month,o=i(r+"-"+s),u=i(r+"-"+s).add(1,"months").add(-1,"days"),a=u.format("D"),f=o.day();f==0&&(f=7);var l={};for(var c=0;c<t.length;c++)l[t[c]]=!0;for(var c=1;c<f;c++)n.push({value:"",isHoliday:!1});for(var c=1;c<=a;c++){var h=!0;l[c]&&(h=!1),n.push({value:c,isHoliday:h})}return n}function v(e){e.isHoliday==1?e.isHoliday=!1:e.isHoliday=!0}function m(){var t=e.query;n.modWorkdays({month:t.year+"-"+t.month,workdays:g().join(","),id:e.cid}).then(function(){info("保存成功")})}function g(){var t=[];for(var n=0,r;r=e.days[n++];)!r.isHoliday&&r.value!=""&&t.push(r.value);return t}function y(t){e.cid=t.id,e.curName=t.name,e.query.year=e.years[0],e.query.month=1,p()}function b(t){var n=s.open({templateUrl:"src/module/admin/holiday/mod/tpl.html",controller:"calendarModCtrl",resolve:{item:function(){return t},optType:function(){return"mod"}}});n.result.then(function(){},function(t){t.hasSuccess==1&&(u(),e.cid==t.id&&(e.curName=t.name))})}function w(e){var t=s.open({templateUrl:"src/module/admin/holiday/mod/tpl.html",controller:"calendarModCtrl",resolve:{item:function(){return e},optType:function(){return"add"}}});t.result.then(function(){},function(e){e.hasSuccess==1&&u()})}e.query={month:1},e.weeks=["一","二","三","四","五","六","日"],e.monthChangeHandler=l,e.yearChangeHandler=c,e.companyChangeHandler=h,e.dayClickHandler=v,e.saveHandler=m,e.nameClick=y,e.modifyClick=b,e.add=w,e.cid=undefined,e.tableOptions={data:[],canSelect:!1,mainScope:e,cols:[{field:"name",displayName:"模板名称",cellTpl:"src/module/admin/holiday/tableTpl/name.html"},{field:"opt",displayName:"操作",cellTpl:"src/module/admin/holiday/tableTpl/opt.html"}]},o()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("moment");e("./mod/controller"),t.controller("adminHolidayControllor",s),s.$inject=["$scope","$stateParams","adminRequest","hrRequest","$modal"]}),define("module/admin/disability/controller",["require","../app","module/config"],function(e){var t=e("../app"),n=e("module/config");t.controller("adminDisabilityCtrl",["$scope","$stateParams","adminRequest","hrRequest","$modal",function(e,t,n,r,i){e.disabilityTableOptions={data:[],canSelect:!1,cols:[{field:"name",displayName:"员工姓名",cellTpl:"src/module/admin/disability/tableTpl/name.html"},{field:"opt",displayName:"操作",cellTpl:"src/module/admin/disability/tableTpl/opt.html"}]},e.getDisabilityList=function(){n.getDisability().then(function(t){e.disabilityTableOptions.data=t.data})},e.delClick=function(t){confirm("确认删除该条记录吗?",function(){n.delDisability({number:t.number}).then(function(){info("操作成功"),e.getDisabilityList()})})},e.addDisability=function(){e.add()},e.add=function(){var t=i.open({templateUrl:"src/module/admin/disability/mod/tpl.html",controller:"disabilityModCtrl"});t.result.then(function(){},function(t){t.hasSuccess==1&&e.getDisabilityList()})},e.getDisabilityList()}])}),define("module/admin/disability/mod/controller",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.controller("disabilityModCtrl",["$scope","$stateParams","adminRequest","hrRequest","$modalInstance","util",function(e,t,n,r,i,s){e.closeHandler=function(){i.dismiss({})},e.saveHandler=function(t){t.$submitted=!0;if(!t.$valid)return;var r={username:s.getUsernameFromSuggestion(e.name)};n.addDisability(r).then(function(e){info("操作成功"),i.dismiss({hasSuccess:!0})})}}])}),define("module/admin/level/mod/controller",["require","../../app","module/config"],function(e){var t=e("../../app"),n=e("module/config");t.controller("levelModCtrl",["$scope","$stateParams","adminRequest","hrRequest","item","optType","$modalInstance",function(e,t,n,r,i,s,o){var u="等级模板";e.name=i.name,s=="mod"?e.title="修改"+u+"名称":e.title="新增"+u;var a="modLevelForm";e.inputOptions={name:{required:!0,displayName:u,maxLength:20,name:"name",formName:a,placeholder:"少于20个字"}},e.closeHandler=function(){o.dismiss({})},e.saveHandler=function(t){t.$submitted=!0;if(!t.$valid)return;var r=null,u={};s=="mod"?(r=n.modLevelTemplate,u.id=i.id,u.name=e.name):(r=n.addLevelTemplate,u.name=e.name),r(u).then(function(e){info("操作成功"),o.dismiss({hasSuccess:!0,optType:s,id:u.id,name:u.name})})}}])}),define("module/admin/level/levelOptions",["require","module/config"],function(e){return function(t){var n=e("module/config");return{level:{required:!0,displayName:"等级",name:"level",formName:t,maxLength:10,placeholder:"少于10个字"},levelName:{required:!0,displayName:"等级名称",name:"levelName",formName:t,maxLength:30,placeholder:"少于30个字"}}}}),define("module/admin/level/controller",["require","../app","module/config","module/codeConfig","moment","./mod/controller","./levelOptions"],function(e){function s(t,n,r,i,s){function o(){u()}function u(){r.getLevelTemplate().then(function(e){t.tableOptions.data=e.data;if(typeof t.tid=="undefined"){var n=e.data[0];t.tid=n.id,t.curName=n.name,f()}})}function a(e,t){f()}function f(){var e={templateId:t.tid,type:t.type};r.getLevel(e).then(function(e){t.levelList=e.data})}function l(e){t.tid=e.id,t.curName=e.name,f()}function c(e){var n=s.open({templateUrl:"src/module/admin/level/mod/tpl.html",controller:"levelModCtrl",resolve:{item:function(){return e},optType:function(){return"mod"}}});n.result.then(function(){},function(e){e.hasSuccess==1&&(u(),t.tid==e.id&&(t.curName=e.name))})}function h(e){var t=s.open({templateUrl:"src/module/admin/level/mod/tpl.html",controller:"levelModCtrl",resolve:{item:function(){return e},optType:function(){return"add"}}});t.result.then(function(){},function(e){e.hasSuccess==1&&u()})}t.levelOptions=e("./levelOptions")("levelAddForm"),t.type="M",t.types=[{key:"M",value:"M序列"},{key:"T",value:"T序列"},{key:"P",value:"P序列"},{key:"U",value:"U序列"},{key:"A",value:"A序列"}],t.typeChangeHandler=a,t.nameClick=l,t.modifyClick=c,t.add=h,t.lid=undefined,t.tableOptions={data:[],canSelect:!1,mainScope:t,cols:[{field:"name",displayName:"模板名称",cellTpl:"src/module/admin/level/tableTpl/name.html"},{field:"opt",displayName:"操作",cellTpl:"src/module/admin/level/tableTpl/opt.html"}]},t.levelAdd={addClick:function(){t.addingLevel=!0},onCancel:function(){var e=this;t.addingLevel=!1,e.clearInfo()},clearInfo:function(){t.levelAdd.level=undefined,t.levelAdd.levelName=undefined},onSave:function(e){e.$submitted=!0;var n=this;if(!e.$valid)return;r.addLevel({type:t.type,level:t.levelAdd.level,levelName:t.levelAdd.levelName,templateId:t.tid}).then(function(r){info("添加成功"),t.addingLevel=!1,f(),e.$submitted=!1,n.clearInfo()})}},o()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i=e("moment");e("./mod/controller"),t.controller("adminLevelControllor",s),s.$inject=["$scope","$stateParams","adminRequest","hrRequest","$modal"]}),define("module/admin/util",["require","./app","module/config","module/codeConfig"],function(e){var t=e("./app"),n=e("module/config"),r=e("module/codeConfig");t.factory("adminUtil",["$modal","authUtil","$q","hrRequest",function(e,t,n,r){return{addStructure:function(t,n){var r=e.open({templateUrl:"src/module/admin/opt/editStructure/tpl.html",controller:"adminEditStructureCtrl",windowClass:"xx-dialog",resolve:{parentId:function(){return t},nodeId:function(){return undefined}}});r.result.then(function(){},function(e){n(e)})},modKeyInfo:function(t,n){var r=e.open({templateUrl:"src/module/admin/opt/editKeyInfo/tpl.html",controller:"adminOptEditKeyInfoCtrl",resolve:{item:function(){return t}}});r.result.then(function(){},function(e){n(e)})},editStructure:function(t,n){var r=e.open({templateUrl:"src/module/admin/opt/editStructure/tpl.html",controller:"adminEditStructureCtrl",windowClass:"xx-dialog",resolve:{parentId:function(){return undefined},nodeId:function(){return t}}});r.result.then(function(){},function(e){n(e)})}}}])}),define("module/admin/main",["require","./app","./directive/main","./permission/controller","./structure/controller","./contractCompany/controller","./contractCompany/mod/controller","./opt/editStructure/controller","./opt/editKeyInfo/controller","./socialSecurityCity/controller","./socialSecurityCity/mod/controller","./office/controller","./office/mod/controller","./holiday/controller","./disability/controller","./disability/mod/controller","./level/controller","./level/mod/controller","./util"],function(e){var t=e("./app");e("./directive/main"),e("./permission/controller"),e("./structure/controller"),e("./contractCompany/controller"),e("./contractCompany/mod/controller"),e("./opt/editStructure/controller"),e("./opt/editKeyInfo/controller"),e("./socialSecurityCity/controller"),e("./socialSecurityCity/mod/controller"),e("./office/controller"),e("./office/mod/controller"),e("./holiday/controller"),e("./disability/controller"),e("./disability/mod/controller"),e("./level/controller"),e("./level/mod/controller"),e("./util"),t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("admin",{"abstract":"",url:"/admin",templateUrl:"src/module/admin/tpl.html"}).state("admin.permission",{url:"/permission",templateUrl:"src/module/admin/permission/tpl.html",controller:"permissionCtrl"}).state("admin.search",{url:"/search",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("admin.contractCompany",{url:"/contractCompany",templateUrl:"src/module/admin/contractCompany/tpl.html",controller:"adminContractCompanyCtrl"}).state("admin.socialSecurityCity",{url:"/socialSecurityCity",templateUrl:"src/module/admin/socialSecurityCity/tpl.html",controller:"adminSocialSecurityCityControllor"}).state("admin.disability",{url:"/disability",templateUrl:"src/module/admin/disability/tpl.html",controller:"adminDisabilityCtrl"}).state("admin.office",{url:"/office",templateUrl:"src/module/admin/office/tpl.html",controller:"adminOfficeControllor"}).state("admin.structure",{url:"/structure",templateUrl:"src/module/admin/structure/tpl.html",controller:"structureCtrl"}).state("admin.holiday",{url:"/holiday",templateUrl:"src/module/admin/holiday/tpl.html",controller:"adminHolidayControllor"}).state("admin.level",{url:"/level",templateUrl:"src/module/admin/level/tpl.html",controller:"adminLevelControllor"}).state("admin.staffInfo",{url:"/info",templateUrl:"src/module/hr/staffInfo/tpl.html",controller:"staffInfoCtrl",resolve:{commonInfo:["hrRequest","localStorage",function(e,t){return e.getCommonInfo({number:t.get("number")})}]}}).state("admin.staffInfo.baseInfo",{url:"/baseInfo",templateUrl:"src/module/hr/baseInfo/tpl.html",controller:"hrBaseInfoCtrl",resolve:{workInfo:["hrRequest","localStorage",function(e,t){return e.getStaffWorkInfo({number:t.get("number")})}]}}).state("admin.staffInfo.workInfo",{url:"/workInfo",templateUrl:"src/module/hr/workInfo/tpl.html",controller:"hrWorkInfoCtrl"}).state("admin.staffInfo.salaryInfo",{url:"/salaryInfo",templateUrl:"src/module/hr/salaryInfo/tpl.html",controller:"hrSalaryInfoCtrl"}).state("admin.staffInfo.secretInfo",{url:"/secretInfo",templateUrl:"src/module/hr/secretInfo/tpl.html",controller:"hrSecretInfoCtrl"}).state("admin.staffInfo.changeInfo",{url:"/changeInfo",templateUrl:"src/module/hr/changeInfo/tpl.html",controller:"hrChangeInfoCtrl"}).state("admin.staffInfo.salaryChangeInfo",{url:"/salaryChangeInfo",templateUrl:"src/module/hr/salaryChangeInfo/tpl.html",controller:"hrSalaryChangeInfoCtrl"}).state("admin.staffInfo.leaveInfo",{url:"/leaveInfo",templateUrl:"src/module/hr/dimission/tpl.html",controller:"hrDimissionCtrl"}).state("admin.staffInfo.workTargetInfo",{url:"/workTargetInfo",templateUrl:"src/module/hr/workTargetInfo/tpl.html",controller:"hrWorkTargetInfoCtrl"}).state("admin.staffInfo.formalApplyInfo",{url:"/formalApplyInfo",templateUrl:"src/module/hr/formalApplyInfo/tpl.html",controller:"hrFormalApplyInfoCtrl"})}])}),define("module/subordinate/app",["require"],function(e){return angular.module("app.subordinate",["ui.router"])}),define("module/subordinate/main",["require","./app"],function(e){var t=e("./app");t.config(["$stateProvider","$urlRouterProvider",function(e,t){var n=[{name:"baseInfo",url:"/baseInfo",templateUrl:"src/module/hr/baseInfo/tpl.html",controller:"hrBaseInfoCtrl",resolve:{workInfo:["hrRequest","localStorage",function(e,t){return e.getStaffWorkInfo({number:t.get("number")})}]}},{name:"workInfo",url:"/workInfo",templateUrl:"src/module/hr/workInfo/tpl.html",controller:"hrWorkInfoCtrl"},{name:"salaryInfo",url:"/salaryInfo",templateUrl:"src/module/hr/salaryInfo/tpl.html",controller:"hrSalaryInfoCtrl"},{name:"monthSalary",url:"/monthSalary",templateUrl:"src/module/hr/monthSalary/tpl.html",controller:"hrMonthSalaryCtrl"},{name:"secretInfo",url:"/secretInfo",templateUrl:"src/module/hr/secretInfo/tpl.html",controller:"hrSecretInfoCtrl"},{name:"changeInfo",url:"/changeInfo",templateUrl:"src/module/hr/changeInfo/tpl.html",controller:"hrChangeInfoCtrl"},{name:"salaryChangeInfo",url:"/salaryChangeInfo",templateUrl:"src/module/hr/salaryChangeInfo/tpl.html",controller:"hrSalaryChangeInfoCtrl"},{name:"leaveInfo",url:"/leaveInfo",templateUrl:"src/module/hr/dimission/tpl.html",controller:"hrDimissionCtrl"},{name:"workTargetInfo",url:"/workTargetInfo",templateUrl:"src/module/hr/workTargetInfo/tpl.html",controller:"hrWorkTargetInfoCtrl"},{name:"formalApplyInfo",url:"/formalApplyInfo",templateUrl:"src/module/hr/formalApplyInfo/tpl.html",controller:"hrFormalApplyInfoCtrl"}];e.state("subordinate",{"abstract":"",url:"/subordinate",templateUrl:"src/module/subordinate/tpl.html"}).state("subordinate.search",{url:"/search",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("subordinate.ownerSearch",{url:"/ownerSearch",templateUrl:"src/module/hr/search/tpl.html",controller:"searchCtrl"}).state("subordinate.self",{url:"/selfInfo",templateUrl:"src/module/hr/staffInfo/tpl.html",controller:"staffInfoCtrl",resolve:{commonInfo:["hrRequest","localStorage",function(e,t){return e.getCommonInfo({number:t.get("number")})}]}}),$.each(n,function(t,n){e.state("subordinate.self."+n.name,{url:n.url,templateUrl:n.templateUrl,controller:n.controller,resolve:n.resolve})}),e.state("subordinate.info",{url:"/info",templateUrl:"src/module/hr/staffInfo/tpl.html",controller:"staffInfoCtrl",resolve:{commonInfo:["hrRequest","localStorage",function(e,t){return e.getCommonInfo({number:t.get("number")})}]}}),$.each(n,function(t,n){e.state("subordinate.info."+n.name,{url:n.url,templateUrl:n.templateUrl,controller:n.controller,resolve:n.resolve})}),e.state("subordinate.staffInfo",{url:"/staffInfo",templateUrl:"src/module/hr/staffInfo/tpl.html",controller:"staffInfoCtrl",resolve:{commonInfo:["hrRequest","localStorage",function(e,t){return e.getCommonInfo({number:t.get("number")})}]}}),$.each(n,function(t,n){e.state("subordinate.staffInfo."+n.name,{url:n.url,templateUrl:n.templateUrl,controller:n.controller,resolve:n.resolve})})}])}),define("module/home/yearAward/controller",["require","../app","module/config","module/codeConfig"],function(e){function s(e,t,n){function r(){e.fileChange=s,e.closeHandler=o}function s(){var e=$("#year-award-upload")[0].files[0],t=e.name.split("."),r=t[t.length-1];if(e&&r!="xlsx"){alert("请上传.xlsx格式的文件");return}var i=new FormData;i.append("file",e),n.send("/ADD/file/bonusFile.json",{data:i,type:"file"}).then(function(e){info("已导入"+e.data+"条数据")})}function o(){t.dismiss(i)}r()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("homeYearAwardController",s),s.$inject=["$scope","$modalInstance","ajaxService"]}),define("module/home/salaryChange/controller",["require","../app","module/config","module/codeConfig"],function(e){function s(e,t,n){function r(){e.fileChange=s,e.closeHandler=o}function s(){var e=$("#salary-change-upload")[0].files[0],t=e.name.split("."),r=t[t.length-1];if(e&&r!="xlsx"){alert("请上传.xlsx格式的文件");return}var i=new FormData;i.append("file",e),n.send("/ADD/file/salaryHistoryFile.json",{data:i,type:"file"}).then(function(e){info("已导入"+e.data+"条数据")})}function o(){t.dismiss(i)}r()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("homeSalaryChangeController",s),s.$inject=["$scope","$modalInstance","ajaxService"]}),define("module/home/baseChange/controller",["require","../app","module/config","module/codeConfig"],function(e){function s(e,t,n){function r(){e.fileChange=s,e.closeHandler=o}function s(){var e=$("#base-change-upload")[0].files[0],t=e.name.split("."),r=t[t.length-1];if(e&&r!="xlsx"){alert("请上传.xlsx格式的文件");return}var i=new FormData;i.append("file",e),n.send("/ADD/file/baseChangeFile.json",{data:i,type:"file"}).then(function(e){info("已导入"+e.data+"条数据")})}function o(){t.dismiss(i)}r()}var t=e("../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("homeBaseChangeController",s),s.$inject=["$scope","$modalInstance","ajaxService"]}),define("module/home/util",["require","./app","module/config","module/codeConfig","module/nameConfig","./yearAward/controller","./salaryChange/controller","./baseChange/controller"],function(e){var t=e("./app"),n=e("module/config"),r=e("module/codeConfig"),i=e("module/nameConfig");e("./yearAward/controller"),e("./salaryChange/controller"),e("./baseChange/controller"),t.factory("homeUtil",["$modal","authUtil","$q","util","$state",function(e,t,n,r,i){return{showYearAward:function(){e.open({templateUrl:"src/module/home/yearAward/tpl.html",controller:"homeYearAwardController"})},showSalaryChange:function(){e.open({templateUrl:"src/module/home/salaryChange/tpl.html",controller:"homeSalaryChangeController"})},showBaseChange:function(){e.open({templateUrl:"src/module/home/baseChange/tpl.html",controller:"homeBaseChangeController"})}}}])}),define("module/home/controller",["require","./util","./app"],function(e){e("./util");var t=e("./app");t.controller("homeCtrl",["$scope","authUtil","localStorage","$state","homeUtil",function(e,t,n,r,i){e.isHR=t.isHR(),e.isHRBP=t.isHRBP(),e.isRecruitHR=t.isRecruitHR(),e.isRelationshipHR=t.isRelationshipHR(),e.isSalaryHR=t.isSalaryHR(),e.isTrainingHR=t.isTrainingHR(),e.isAssetManager=t.isAssetManager(),e.isItManager=t.isItOwner(),e.isManager=t.isManager(),e.isAdmin=t.isAdmin(),e.isAgent=t.isAgent(),e.isReception=t.isReception(),e.canSearchStaff=t.canSearchStaff(),e.isStructureOwner=t.isStructureOwner(),e.selfInfoClick=function(){n.set("number",e.userInfo.number),r.go("subordinate.self.baseInfo")},e.yearAwardClick=function(){i.showYearAward()},e.salaryChangeClick=function(){i.showSalaryChange()},e.baseChangeClick=function(){i.showBaseChange()}}])}),define("module/home/main",["require","./app","./controller"],function(e){var t=e("./app");e("./controller"),t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/home",templateUrl:"src/module/home/tpl.html",controller:"homeCtrl"})}])}),define("module/apply/app",["require"],function(e){return angular.module("app.apply",["ui.router"])}),define("module/apply/directive/staffInfo/directive",["require","../../app","moment"],function(e){var t=e("../../app"),n=e("moment");t.directive("applyStaffInfo",["$http","ajaxService",function(e,t){return{restrict:"EA",templateUrl:"src/module/apply/directive/staffInfo/tpl.html",scope:!1,require:"?ngModel",replace:!1,link:function(e,r,i,s){e.showFormalDate=!1,e.getInfo=function(){if(!e.number)return;return t.send("/GET/approve/staffCommonInfo.json",{data:{number:e.number}}).then(function(t){e.userCommonInfo=t.data,e.isAgent=e.userCommonInfo.type==21,e.userCommonInfo.type==1&&+n(e.userCommonInfo.formalTime).format("YYYYMMDD")>+n().format("YYYYMMDD")&&(e.showFormalDate=!0),e.onGetUserCommonInfo&&e.onGetUserCommonInfo()})},e.$watch("number",function(t,n){t!=n&&e.getInfo()},!0),e.getInfo()}}}])}),define("module/apply/directive/main",["require","./staffInfo/directive"],function(e){e("./staffInfo/directive")}),define("module/apply/filter/main",["require"],function(e){}),define("module/apply/list/controller",["require","../app"],function(e){var t=e("../app");t.controller("applyListCtrl",["$scope","$state","applyRequest",function(e,t,n){}])}),define("module/apply/list/subTab/controller",["require","../../app","../../config","module/codeConfig"],function(e){var t=e("../../app"),n=e("../../config"),r=e("module/codeConfig");t.controller("applyListSubTabCtrl",["$scope","$state","applyRequest",function(e,t,i){function u(){e.getCountInfo()}function a(){i.getCount({status:s}).then(function(t){var n=t.data.detail,i=r.APPLY_CODE;e.count={all:t.data.total,rejoin:f(i.REJOIN,n),staffEnter:f(i.STAFF_ENTER,n),leave:f(i.LEAVE,n),workInfo:f(i.SALARY_INFO,n),structure:f(i.STRUCTURE,n),transFullMember:f(i.TRANS_FULL_MEMBER,n),multiple:f(i.MULTIPLE,n),workTarget:f(i.WORK_TARGET,n),formalApply:f(i.FORMAL_APPLY,n),agentEnter:f(i.AGENT_ENTER,n),agentRejoin:f(i.AGENT_REJOIN,n),agentStructure:f(i.AGENT_STRUCTURE,n),agentLeave:f(i.AGENT_LEAVE,n)}})}function f(e,t){for(var n=0,r;r=t[n++];)if(r.type==e)return r.number}var s=0,o=n.TAB_CODE;e.isHasHandledPage=t.includes("apply.list.hasHandled"),e.isToHandlePage=t.includes("apply.list.toHandle"),e.isPromoteMyselfPage=t.includes("apply.list.promoteMyself"),e.getCountInfo=a,e.isHasHandledPage?s=o.HAS_HANDLED:e.isToHandlePage?s=o.TO_HANDLE:e.isPromoteMyselfPage&&(s=o.PROMOTE_MYSELF),u()}])}),define("module/apply/list/table/controller",["require","../../app","../../config","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("../../config"),r=e("module/config"),i=e("module/codeConfig");t.controller("applyListTableCtrl",["$scope","applyRequest","$state","applyListTableColsConfig","localStorage","applyOptUtil",function(e,t,s,o,u,a){function l(){E(),c()}function c(){switch(e.nav){case"toHandle":e.showPassBtn=!0,e.showRejectBtn=!0,e.showCancelBtn=!1;break;case"hasHandled":e.showPassBtn=!1,e.showRejectBtn=!1,e.showCancelBtn=!1;break;case"promoteMyself":e.showPassBtn=!1,e.showRejectBtn=!1,e.showCancelBtn=!0}}function h(){var t=i.APPLY_CODE;return e.subNav=="staffEnter"?t.STAFF_ENTER:e.subNav=="rejoin"?t.REJOIN:e.subNav=="leave"?t.LEAVE:e.subNav=="workInfo"?t.SALARY_INFO:e.subNav=="structure"?t.STRUCTURE:e.subNav=="transFullMember"?t.TRANS_FULL_MEMBER:e.subNav=="multiple"?t.MULTIPLE:e.subNav=="workTarget"?t.WORK_TARGET:e.subNav=="formalApply"?t.FORMAL_APPLY:e.subNav=="agentEnter"?t.AGENT_ENTER:e.subNav=="agentRejoin"?t.AGENT_REJOIN:e.subNav=="agentStructure"?t.AGENT_STRUCTURE:e.subNav=="agentLeave"?t.AGENT_LEAVE:undefined}function p(e){var t=n.TAB_CODE;if(e=="toHandle")return t.TO_HANDLE;if(e=="hasHandled")return t.HAS_HANDLED;if(e=="promoteMyself")return t.PROMOTE_MYSELF}function d(){var t=e.tableOptions.selectedItems;confirm("确认通过选中的"+t.length+"个审批吗？",function(){y("agree",t)})}function v(e){confirm("确认通过该审批吗？",function(){y("agree",[e])})}function m(){var t=e.tableOptions.selectedItems;confirm("确认拒绝选中的"+t.length+"个审批吗？",function(){y("reject",t)})}function g(e){confirm("确认拒绝该审批吗？",function(){y("reject",[e])})}function y(r,i){var i=i,s=[],o=n.HANDLE_RESULT.AGREE;r=="reject"&&(o=n.HANDLE_RESULT.REJECT);for(var u=0,a;a=i[u++];)s.push({id:a.id,result:o});t.handleApply({approveList:s}).then(function(){info("操作成功"),E(),e.tableOptions.selectedItems=[],e.getCountInfo(),e.refreshApplyNum()})}function b(t){u.set("number",t.editedNumber||0);var n=i.APPLY_CODE,r=e.nav,o="modal";r=="promoteMyself"&&(o="modalMy-"),r=="hasHandled"&&(o="modalFinished-");var f="";switch(t.type){case n.STAFF_ENTER:f=s.href("apply.detail."+o+"staffEnter",{applyId:t.id});break;case n.REJOIN:f=s.href("apply.detail."+o+"staffEnter",{applyId:t.id});break;case n.LEAVE:f=s.href("apply.detail."+o+"leave",{applyId:t.id});break;case n.MULTIPLE:f=s.href("apply.detail."+o+"multiple",{applyId:t.id});break;case n.SALARY_INFO:f=s.href("apply.detail."+o+"salary",{applyId:t.id});break;case n.STRUCTURE:f=s.href("apply.detail."+o+"structure",{applyId:t.id});break;case n.TRANS_FULL_MEMBER:f=s.href("apply.detail."+o+"transFullMember",{applyId:t.id});break;case n.OFFER_CHANGE:f=s.href("apply.detail."+o+"offerChange.offerInfo",{applyId:t.id});break;case n.WORK_TARGET:f=s.href("apply.detail."+o+"workTarget",{applyId:t.id});break;case n.FORMAL_APPLY:f=s.href("apply.detail."+o+"formalApply",{applyId:t.id});break;case n.AGENT_ENTER:f=s.href("apply.detail."+o+"agentEnter",{applyId:t.id});break;case n.AGENT_REJOIN:f=s.href("apply.detail."+o+"agentRejoin",{applyId:t.id});break;case n.AGENT_STRUCTURE:f=s.href("apply.detail."+o+"agentStructure",{applyId:t.id});break;case n.AGENT_LEAVE:f=s.href("apply.detail."+o+"agentLeave",{applyId:t.id})}a.viewDetail(f,function(){e.getCountInfo(),e.refreshApplyNum(),E()})}function w(n){confirm("确认撤回该审批吗？",function(){t.cancelApply({id:n.id}).then(function(){info("操作成功"),e.getCountInfo(),E()})})}function E(){t.getApplyList({status:p(e.nav),type:h(),pageDto:{pageNum:e.currentPage||1,pageSize:r.PAGE_SIZE}}).then(function(t){var r=t.data,i=n.STATUS_CODE;for(var s=0,o;o=r[s++];)if(o.status==i.IN_PROCESS||o.status==i.TO_EXCUTE)o.canBeCanceled=!0;e.tableOptions.data=r,e.tableOptions.totalCount=t.pageDto.count})}e.entryName=s.current.name;var f=e.entryName.split(".");e.nav=f[2],e.subNav=f[3],e.showPassBtn=!0,e.showRejectBtn=!0,e.showCancelBtn=!1,e.onPassClick=d,e.onRejectClick=m,e.onSinglePassClick=v,e.onSingleRejectClick=g,e.onTitleClick=b,e.onSingleCancelClick=w,e.tableOptions={data:[],canSelect:!0,totalCount:0,cols:o.getConfig(e),onPageChange:function(t){e.currentPage=t,E()},selectedItems:[]},l()}])}),define("module/apply/list/table/colsConfig",["require","../../app","module/config","module/codeConfig"],function(e){var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig");t.factory("applyListTableColsConfig",["$modal","util","$q","hrRequest",function(e,t,n,r){return{getConfig:function(e){var n=[{field:"promoteUserName",displayName:"发起人"},{field:"title",displayName:"标题",cellTpl:"src/module/apply/list/table/tableTpl/title.html"},{field:"promoteDate",displayName:"申请日期",filter:"dateFormat"},{field:"currentModifyUserName",displayName:"当前处理人"},{field:"status",displayName:"流程状态",filter:"applyStatus"},{field:"opt",displayName:"操作",cellTpl:"src/module/apply/list/table/tableTpl/opt.html"}],r=t.findIndexInObjArr(n,"status",status);if(e.nav=="toHandle"){n.splice(r-1,1);var i=t.findIndexInObjArr(n,"currentModifyUserName",status);n.splice(i-1,1)}if(e.nav=="hasHandled"){var s=t.findIndexInObjArr(n,"opt",status);n.splice(s,1)}return e.nav=="promoteMyself",n}}}])}),define("module/apply/list/main",["require","./controller","./subTab/controller","./table/controller","./table/colsConfig"],function(e){e("./controller"),e("./subTab/controller"),e("./table/controller"),e("./table/colsConfig")}),define("module/apply/fieldNameConfig",["require"],function(e){return{baseSalary:"基本工资",degree:"学历",detail:"备注",leaderName:"直属领导",lawName:"法律名",level:"等级",mobile:"手机号",name:"姓名",namePinyin:"姓名拼音",pcType:"配备电脑",personalEmail:"邮箱",positionName:"职位",probationary:"试用期",probationarySalary:"试用期基本工资",promiseEnterDate:"入职时间",recommendDetail:"推荐详情",recommendType:"入职推荐途径",resumeUrl:"电子简历",sex:"性别",structureName:"组织机构",contractCompanyName:"合同签约公司",salaryType:"工资类型",type:"员工类型",socialSecurityCityName:"社保缴纳城市",officeName:"工作地点",trafficSubsidy:"交通补贴",mobileSubsidy:"通讯补贴",socialSecurityBase:"社保缴纳基数",houseFundBase:"公积金缴纳基数",endowBase:"养老保险基数",unemployBase:"失业保险基数",medicalBase:"医疗保险基数",injuryBase:"工伤保险基数",maternityBase:"生育保险基数"}}),define("module/apply/fieldFilterConfig",["require"],function(e){return{baseSalary:"salary",degree:"degree",pcType:"pcType",probationary:"probationaryPeriod",probationarySalary:"salary",promiseEnterDate:"dateFormat",recommendType:"recommendType",sex:"sex",type:"type",salaryType:"salaryType",trafficSubsidy:"salary",mobileSubsidy:"salary",socialSecurityBase:"unit:元",houseFundBase:"unit:元",endowBase:"unit:元",unemployBase:"unit:元",medicalBase:"unit:元",injuryBase:"unit:元",maternityBase:"unit:元"}}),define("module/apply/detail/controller",["require","../app","../config","../fieldNameConfig","../fieldFilterConfig"],function(e){function s(e,t,s,o,u,a,f,l){function d(){g(),y()}function v(){var t="";e.approveResult==n.STATUS_CODE.TO_EXCUTE?t="确认通过该申请？":t="确认拒绝该申请？",confirm(t,m)}function m(){s.handleApply({approveList:[{id:c,result:e.approveResult,detail:e.detail}]}).then(function(){info("提交成功"),e.refreshApplyNum(),e.showOptArea=!1,y(),$("#apply-opt-detail-close",window.parent.document).click()})}function g(){console.log(p),/apply\.detail\.\w*-?staffEnter/g.test(p)?e.title="新员工入职":/apply\.detail\.\w*-?salary/g.test(p)?e.title="薪酬岗位调整":/apply\.detail\.\w*-?structure/g.test(p)?e.title="人事调动":/apply\.detail\.\w*-?multiple/g.test(p)?e.title="综合审批":/apply\.detail\.\w*-?\w*\.?offerInfo/g.test(p)?e.title="offer变更":/apply\.detail\.\w*-?leave/g.test(p)?e.title="员工离职":/apply\.detail\.\w*-?transFullMember/g.test(p)?e.title="实习/劳务转正式":/apply\.detail\.\w*-?workTarget/g.test(p)?e.title="试用期工作目标":/apply\.detail\.\w*-?formalApply/g.test(p)?e.title="试用期员工转正申请":/apply\.detail\.\w*-?agentEnter/g.test(p)?e.title="新员工入职":/apply\.detail\.\w*-?agentRejoin/g.test(p)?e.title="员工再入职":/apply\.detail\.\w*-?agentStructure/g.test(p)?e.title="人事调动":/apply\.detail\.\w*-?agentLeave/g.test(p)&&(e.title="员工离职")}function y(){var n=t.params.applyId;s.getApplyDetail({id:n}).then(function(t){e.applyInfo=t.data;if(S()||x()||T())e.showOptArea=!1;e.number=e.applyInfo.number,e.applyInfo.contentAfter=JSON.parse(e.applyInfo.contentAfter||"{}"),e.applyInfo.contentBefore=JSON.parse(e.applyInfo.contentBefore||"{}"),e.contentAfter=e.applyInfo.contentAfter,e.contentAfter.reason&&(e.contentAfter.reasonName=f.getLeaveReasonName(e.contentAfter.reason,e.contentAfter.detailReason));if(p.indexOf("staffEnter")!=-1||p.indexOf("offerChange.offerInfo")!=-1||p.indexOf("agentEnter")!=-1||p.indexOf("agentRejoin")!=-1)e.offerInfos=e.applyInfo.contentAfter,b();e.offerInfos&&e.offerInfos.socialSecurityCity&&w(e.offerInfos.socialSecurityCity),E()})}function b(){l.getStuctureStaffCount({structure:e.offerInfos.structure}).then(function(t){e.headCount=t.data;if(e.userInfo.isAgent){var n=e.offerInfos.structureName.split("-");e.structureName=n[n.length-1],e.headCount.length<2?e.agentCount=0:e.agentCount=e.headCount[1].regularCount}})}function w(t){o.getSocialSecurityCity({socialSecurityCity:t}).then(function(t){h=t.data[0],e.needFiveBase=h.needFiveBase})}function E(){e.changeList=[];var t=e.applyInfo,n=u.getChangedValue(t.contentBefore,t.contentAfter),s=r,o=i;for(var f in n)if(n.hasOwnProperty(f)&&s[f]){var l=n[f][1],c=n[f][0];if(o[f]){var h=o[f].split(":"),p=$.extend(!0,[],h),d=a(h[0]);p[0]=l,l=d.apply(undefined,p),p[0]=c,c=d.apply(undefined,p)}e.changeList.push({field:f,newVal:l,oldVal:c,fieldName:s[f]})}}function S(){var e=p.split(".")[2];return e.indexOf("finished-")!=-1||e.indexOf("modalFinished-")!=-1?!0:!1}function x(){var e=p.split(".")[2];return e.indexOf("my-")!=-1||e.indexOf("modalMy-")!=-1?!0:!1}function T(){var t=e.applyInfo.handleList,n=e.userInfo.userName;for(var r=0,i;i=t[r++];)if(n==i.userName&&(i.status==e.statusCode.PASS||i.status==e.statusCode.REJECT))return!0;return!1}var c=t.params.applyId;e.applyInfo={},e.onSubmit=v,e.approveResult=n.STATUS_CODE.TO_EXCUTE,e.statusCode=n.STATUS_CODE,e.title="",e.changeList=[],e.showOptArea=!0;var h={},p=t.current.name;d()}var t=e("../app"),n=e("../config"),r=e("../fieldNameConfig"),i=e("../fieldFilterConfig");t.controller("applyDetailCtrl",s),s.$inject=["$scope","$state","applyRequest","hrRequest","applyUtil","$filter","hrUtil","adminRequest"]}),define("module/apply/detail/offerChange/controller",["require","../../app","../../config","../../fieldNameConfig","../../fieldFilterConfig"],function(e){function s(e,t,n,r,i){function s(){}s()}var t=e("../../app"),n=e("../../config"),r=e("../../fieldNameConfig"),i=e("../../fieldFilterConfig");t.controller("applyDetailOfferChangeCtrl",s),s.$inject=["$scope","$state","applyRequest","applyUtil","$filter"]}),define("module/apply/detail/infos/controller",["require","../../app","../../config"],function(e){function r(e,t,n,r,i){function o(){u()}function u(){/apply\.detail\.\w*-?salary/g.test(s)?e.subTitle="薪酬岗位调整":/apply\.detail\.\w*-?structure/g.test(s)?e.subTitle="人事调动":/apply\.detail\.\w*-?multiple/g.test(s)?e.subTitle="综合审批":/apply\.detail\.\w*-?agentStructure/g.test(s)&&(e.subTitle="人事调动")}var s=t.current.name;e.subTitle="",o()}var t=e("../../app"),n=e("../../config");t.controller("applyDetailInfosCtrl",r),r.$inject=["$scope","$state","applyRequest","applyUtil","$filter"]}),define("module/apply/detail/leave/controller",["require","../../app","../../config","../../fieldNameConfig","../../fieldFilterConfig"],function(e){function s(e,t,n,r,i){function s(){}s()}var t=e("../../app"),n=e("../../config"),r=e("../../fieldNameConfig"),i=e("../../fieldFilterConfig");t.controller("applyDetailLeaveCtrl",s),s.$inject=["$scope","$state","applyRequest","applyUtil","$filter"]}),define("module/apply/detail/transFullMember/controller",["require","../../app","../../config"],function(e){function i(e,t,n,r,i,s){function o(){}o()}var t=e("../../app"),n=e("../../config"),r={};t.controller("applyTransFullMemberCtrl",i),i.$inject=["$scope","$state","applyRequest","applyUtil","$filter","hrRequest"]}),define("module/apply/detail/offerInfos/controller",["require","../../app","../../config"],function(e){function r(e,t,n,r,i){function s(){}s()}var t=e("../../app"),n=e("../../config");t.controller("applyDetailOfferInfosCtrl",r),r.$inject=["$scope","$state","hrRequest","applyUtil","$filter"]}),define("module/apply/detail/formalApply/controller",["require","../../app","../../config"],function(e){function r(e,t,n,r,i){function s(){}s()}var t=e("../../app"),n=e("../../config");t.controller("applyDetailFormalApplyCtrl",r),r.$inject=["$scope","$state","applyRequest","applyUtil","$filter"]}),define("module/apply/detail/workTarget/controller",["require","../../app","../../config"],function(e){function r(e,t,n,r,i){function s(){}s()}var t=e("../../app"),n=e("../../config");t.controller("applyDetailWorkTargetCtrl",r),r.$inject=["$scope","$state","applyRequest","applyUtil","$filter"]}),define("module/apply/detail/main",["require","./controller","./offerChange/controller","./infos/controller","./leave/controller","./transFullMember/controller","./offerInfos/controller","./formalApply/controller","./workTarget/controller"],function(e){e("./controller"),e("./offerChange/controller"),e("./infos/controller"),e("./leave/controller"),e("./transFullMember/controller"),e("./offerInfos/controller"),e("./formalApply/controller"),e("./workTarget/controller")}),define("module/apply/opt/transFullTime/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o={internsEndDate:{required:!0,displayName:"实习/劳务截止日期",name:"internsEndDate",formName:t,placeholder:"yy-MM-dd",type:"date"},positiveDate:{required:!0,displayName:"实习生转正日期",name:"positiveDate",formName:t,placeholder:"yy-MM-dd",type:"date"},formalDate:{required:!0,displayName:"转正日期",mode:"select",formName:t,name:"formalDate",items:[]},structure:{required:!0,displayName:"组织架构",name:"structure",formName:t,manageNodes:[],mode:"structure"},leader:{required:!0,displayName:"直属领导",mode:"nameSuggestion",formName:t,name:"leader"},level:{required:!0,displayName:"等级",mode:"select",formName:t,name:"level",items:[]},position:{required:!0,displayName:"职位名称",mode:"select",formName:t,name:"position",items:[]},baseSalary:{required:!0,displayName:"基本工资",name:"baseSalary",formName:t,placeholder:"",pattern:r.BASE_REG_STR,items:r.SALARY_TYPE,type:"number",mode:"combine"},probationarySalary:{required:!0,displayName:"试用期基本工资",maxLength:10,name:"probationarySalary",formName:t,placeholder:"",type:"number",pattern:r.BASE_REG_STR,items:r.SALARY_TYPE,mode:"combine",changeHandler:n.probationarySalaryChange},salaryType:{required:!0,displayName:"工资类型",name:"salaryType",formName:t,mode:"select",items:r.SALARY_MODE,filter:"salaryType"},reason:{required:!1,displayName:"变动原因",maxLength:200,name:"reason",formName:t,placeholder:"少于200个字",mode:"textarea"},socialSecurityCity:{required:!0,displayName:"社保缴纳城市",mode:"select",name:"socialSecurityCity",formName:t,items:[]},socialSecurityBase:{required:!0,displayName:"社保缴纳基数",name:"socialSecurityBase",pattern:r.BASE_REG_STR,formName:t,placeholder:"",postfix:"元"},houseFundBase:{required:!0,displayName:"公积金缴纳基数",name:"houseFundBase",formName:t,placeholder:"",pattern:r.BASE_REG_STR,postfix:"元"},trafficSubsidy:{required:!0,displayName:"交通补贴",name:"交通补贴",formName:t,placeholder:"",pattern:r.BASE_REG_STR,items:r.SALARY_TYPE,mode:"combine"},mobileSubsidy:{required:!0,displayName:"通讯补贴",maxLength:10,name:"mobileSubsidy",formName:t,placeholder:"",pattern:r.BASE_REG_STR,items:r.SALARY_TYPE,mode:"combine"}};return o}}),define("module/apply/opt/transFullTime/controller",["require","../../app","./inputOptions","module/config","../../config","module/codeConfig","moment"],function(e){function a(e,t,o,a,f,l,c){function v(){e.$watch("structure",function(t,n){t!=n&&(b(t.id),w(t),n&&typeof n.id!="undefined"&&(e.level=undefined,e.position=undefined))},!0),e.$watch("level",function(t,n){t!=n&&(w(t),typeof n!="undefined"&&(e.position=undefined))},!0),e.$watch("userCommonInfo",function(t,n){t!=n&&(e.structure={id:t.structure,name:t.structureName})},!0),e.$watch("positiveDate",function(t,n){t!=n&&(e.inputOptions.formalDate.items=[{id:1,name:u(t).add(3,"month").format("YYYY/MM/DD")},{id:2,name:u(t).add(6,"month").format("YYYY/MM/DD")}],e.formalDate=2)}),E(),e.trafficSubsidy={selectVal:h},e.mobileSubsidy={selectVal:h},e.$watch("socialSecurityCity",function(e,t){e?S(e):d={}},!0)}function m(t){e.leader?t.leader.$error.sugguestionRequired=!1:t.leader.$error.sugguestionRequired=!0;if(!t.$valid)return;var n={internsEndDate:e.internsEndDate.getTime(),positiveDate:e.positiveDate.getTime(),formalDate:e.formalDate&&(new Date(e.inputOptions.formalDate.items[e.formalDate-1].name)).getTime(),structure:e.structure.id,leader:f.getUsernameFromSuggestion(e.leader),level:e.level,position:e.position,salaryType:e.salaryType,baseSalary:c.getSalary(e.baseSalary),probationarySalary:c.getSalary(e.probationarySalary),socialSecurityBase:+e.socialSecurityBase,houseFundBase:+e.houseFundBase,trafficSubsidy:c.getSalary(e.trafficSubsidy),mobileSubsidy:c.getSalary(e.mobileSubsidy),socialSecurityCity:e.socialSecurityCity};d.needFiveBase&&(n.endowBase=+e.endowBase,n.unemployBase=+e.unemployBase,n.medicalBase=+e.medicalBase,n.injuryBase=+e.injuryBase,n.maternityBase=+e.maternityBase);if(!f.validateLast7Day("实习/劳务截止日期",n.internsEndDate))return;if(n.internsEndDate>=n.positiveDate){alert("实习/劳务截止日期要早于转正日期");return}if(!f.validateLast7Day("转正日期",n.positiveDate))return;if(!f.validateSocialAndHouseFundBase(n,d))return;f.diffDaysFromNow(e.positiveDate,"days")<i.EXECUTE_TIP_DAYS?confirm(i.TRANSFULL_EXECUTE_TIP,function(){g(n)}):g(n)}function g(n){t.addApply({editedNumber:e.userCommonInfo.number,type:s.APPLY_CODE.TRANS_FULL_MEMBER,content:n,reason:e.reason,executeDate:n.positiveDate}).then(function(){alert(i.SUCCESS_TIP),p.hadSuccess=!0,a.dismiss(p)})}function y(){a.dismiss(p)}function b(t){t?l.getLevel({structure:t}).then(function(t){for(var n=0,i;i=t.data[n++];)i.id=i.name;t.data.unshift(r.EMPTY),e.inputOptions.level.items=t.data}):(e.inputOptions.level.items=[],e.inputOptions.position.items=[])}function w(t){t?l.getPosition({structure:e.structure.id,level:e.level}).then(function(t){t.data.unshift(r.EMPTY),e.inputOptions.position.items=t.data}):e.inputOptions.position.items=[]}function E(){l.getSocialSecurityCity().then(function(t){t.data.unshift(r.EMPTY),e.inputOptions.socialSecurityCity.items=t.data})}function S(t){l.getSocialSecurityCity({socialSecurityCity:t}).then(function(t){d=t.data[0],e.needFiveBase=d.needFiveBase,f.setDefaultSocialBase({},d,e),f.setDefaultHouseBase({},d,e)})}function x(t){f.setDefaultSocialBase({salary:t},d,e),f.setDefaultHouseBase({salary:t},d,e)}e.number=o.get("number"),e.save=m,e.closeHandler=y,e.probationarySalaryChange=x,e.inputOptions=n("transFullTimeForm",e),e.fiveBaseInitOptions={formName:"transFullTimeForm",required:!0};var h=r.SALARY_TYPE[1].id;e.baseSalary={selectVal:h},e.probationarySalary={selectVal:h};var p={},d={};v()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("../../config"),s=e("module/codeConfig"),o={},u=e("moment");t.controller("applyOptTransFullTime",a),a.$inject=["$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","hrUtil"]}),define("module/apply/opt/changeStructure/inputOptions",["require","module/config","module/codeConfig","module/nameConfig","../../config","moment"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o=e("../../config"),u=e("moment"),a={level:{required:!1,displayName:"调整为",mode:"select",formName:t,name:"level",items:[]},position:{required:!1,displayName:"调整为",mode:"select",formName:t,name:"position",items:[]},structure:{required:!1,displayName:"调整为",name:"structure",formName:t,manageNodes:[],mode:"structure"},leader:{required:!1,displayName:"调整为",mode:"nameSuggestion",formName:t,name:"leader"},executeDate:{required:!0,displayName:"生效日期",min:new Date(u().format("YYYY-MM-DD")+" 00:00:00"),name:"executeDate",formName:t,placeholder:"yy-MM-dd",type:"date",tip:o.EXECUTE_DATE_TIP},reason:{required:!1,displayName:"变动原因",maxLength:200,name:"reason",formName:t,placeholder:"少于200个字",mode:"textarea"}};return a}}),define("module/apply/opt/changeStructure/controller",["require","../../app","./inputOptions","module/config","../../config","module/codeConfig","moment"],function(e){function f(e,t,u,f,l,c,h,p){function v(){w(),t.$watch("level",function(e,n){e!=n&&(S(e),typeof n!="undefined"&&(t.position=undefined))},!0),t.$watch("structure.id",function(e,n){e!=n&&(E(e),typeof n!="undefined"&&(t.level=undefined,t.position=undefined))},!0)}function m(e){if(!e.$valid)return;if((!t.structure||!t.structure.id)&&!t.leader&&!t.level&&!t.position){alert("请输入至少一项变更");return}if(!y())return;c.diffDaysFromNow(t.executeDate,"days")<i.EXECUTE_TIP_DAYS?confirm(i.EXECUTE_TIP,function(){g()}):g()}function g(){var e=t.workInfo,n=o().format("YYYY-MM-DD"),r=(new Date(n+" 00:00:00")).getTime(),a=t.executeDate.getTime();r==a&&(a=o(n).add(1,"days").valueOf()-1e3);var f={level:t.level||e.level,position:t.position||e.position,structure:t.structure&&t.structure.id||e.structure,leader:c.getUsernameFromSuggestion(t.leader)||e.leader},h=s.APPLY_CODE.STRUCTURE;t.isAgent&&(h=s.APPLY_CODE.AGENT_STRUCTURE),u.addApply({type:h,content:f,editedNumber:t.userCommonInfo.number,reason:t.reason,executeDate:a}).then(function(){alert(i.SUCCESS_TIP),d.hadSuccess=!0,l.dismiss(d)})}function y(){if(t.structure&&t.structure.id){var n=c.getParentKeyNodeItem(e.structureData,t.structure.id),r=c.getParentKeyNodeItem(e.structureData,t.workInfo.structure),i=[];i.push(t.workInfo.structure);var s=c.getParentIds(e.structureData,t.workInfo.structure);while(s)i.push(s),s=c.getParentIds(e.structureData,s);var o=!1;if(t.userInfo.hasRoles.businessPartnerHR&&!!t.userInfo.hasRoles.businessPartnerHR)for(var u=0,a;a=t.userInfo.hasRoles.businessPartnerHR[u++];)if(i.indexOf(a)!=-1){o=!0;break}p||(o=!1);if(!o&&n&&r&&n.id!=r.id)return alert("您没有权限进行跨公司员工调整"),!1;if(n&&r&&n.parentId!=r.parentId||!n||!r){if(!t.level)return alert("跨公司调整时请一起调整等级"),!1;if(!t.position)return alert("跨公司调整时请一起调整职位名称"),!1}}return t.level&&!t.position?(alert("调整等级时请一起调整职位名称"),!1):!0}function b(){l.dismiss(d)}function w(){h.getStaffWorkInfo({number:t.number}).then(function(e){t.workInfo=e.data,a=t.workInfo.structure,E(a)})}function E(e){e?h.getLevel({structure:e}).then(function(e){for(var n=0,i;i=e.data[n++];)i.id=i.name;e.data.unshift(r.EMPTY),t.inputOptions.level.items=e.data}):(t.inputOptions.level.items=[],t.inputOptions.position.items=[])}function S(e){e?h.getPosition({structure:t.structure&&t.structure.id||a,level:t.level}).then(function(e){e.data.unshift(r.EMPTY),t.inputOptions.position.items=e.data}):t.inputOptions.position.items=[]}t.number=f.get("number"),t.save=m,t.closeHandler=b,t.inputOptions=n("changeStructureForm",t);var d={};v()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("../../config"),s=e("module/codeConfig"),o=e("moment"),u={},a;t.controller("applyOptChangeStructureCtrl",f),f.$inject=["$rootScope","$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","isFromHRBP"]}),define("module/apply/opt/changeSalary/inputOptions",["require","module/config","module/codeConfig","module/nameConfig","moment","../../config"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o=e("moment"),u=e("../../config"),a=o(o().format("YYYY-MM")).add(-1,"days").format("YYYY-MM-DD"),f={level:{required:!1,displayName:"调整为",mode:"select",formName:t,name:"level",items:[]},position:{required:!1,displayName:"调整为",mode:"select",formName:t,name:"position",items:[]},baseSalary:{required:!1,displayName:"调整为",maxLength:10,name:"baseSalary",formName:t,placeholder:"",items:r.SALARY_TYPE,type:"number",errorDisplayName:"基本工资",pattern:"\\d*",mode:"combine"},probationarySalary:{required:!1,displayName:"调整为",maxLength:10,name:"probationarySalary",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine"},salaryType:{required:!1,displayName:"调整为",name:"salaryType",formName:t,mode:"select",items:r.SALARY_MODE,filter:"salaryType"},reason:{required:!1,displayName:"变动原因",maxLength:200,name:"reason",formName:t,placeholder:"少于200个字",mode:"textarea"},socialSecurityBase:{required:!1,displayName:"调整为",name:"socialSecurityBase",formName:t,placeholder:"",pattern:r.BASE_REG_STR,postfix:"元"},houseFundBase:{required:!1,displayName:"调整为",name:"houseFundBase",formName:t,placeholder:"",pattern:r.BASE_REG_STR,postfix:"元"},trafficSubsidy:{required:!1,displayName:"调整为",maxLength:10,name:"trafficSubsidy",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine"},mobileSubsidy:{required:!1,displayName:"调整为",maxLength:10,name:"mobileSubsidy",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine"},executeDate:{required:!0,displayName:"生效日期",min:new Date(o().format("YYYY-MM-DD")+" 00:00:00"),name:"executeDate",formName:t,placeholder:"yy-MM-dd",type:"date",tip:u.EXECUTE_DATE_TIP}};return f}}),define("module/apply/opt/changeSalary/controller",["require","../../app","./inputOptions","module/config","../../config","module/codeConfig","moment"],function(e){function f(e,t,u,f,l,c,h){function m(){S(),T(),e.formName="changeSalaryForm",e.fiveBaseInitOptions={formName:"changeSalaryForm",required:!1,fieldName:"调整为"},e.$watch("level",function(t,n){t!=n&&(L(t),typeof n!="undefined"&&(e.position=undefined))},!0)}function g(){var t=e.userCommonInfo.type;if(t==o.INTERNS||t==o.LABOR)l.forbidFieldOfLabor(e.inputOptions,!0,e),l.forbidFieldOfLabor(e.fiveBaseOptions,!0,e);var n=e.userCommonInfo.isProbationary;n||(e.canModProbationarySalary=!1)}function y(t){function n(){return!e.level&&!e.position&&typeof e.baseSalary.inputVal=="undefined"&&typeof e.probationarySalary.inputVal=="undefined"&&typeof e.mobileSubsidy.inputVal=="undefined"&&typeof e.trafficSubsidy.inputVal=="undefined"&&!e.salaryType&&!e.socialSecurityBase&&!e.houseFundBase}function r(){return p&&p.needFiveBase?!e.endowBase&&!e.unemployBase&&!e.medicalBase&&!e.injuryBase&&!e.maternityBase:!0}if(!t.$valid)return;if(n()&&r()){alert("请输入至少一项变更");return}if(!w())return;var s=(new Date).getMonth(),o=e.executeDate.getMonth(),u=e.workInfo,a={level:e.level||u.level,position:e.position||u.position,salaryType:e.salaryType||e.salaryInfo.salaryType,socialSecurityBase:l.inputEmpty(e.socialSecurityBase)?e.salaryInfo.socialSecurityBase:+e.socialSecurityBase,houseFundBase:l.inputEmpty(e.houseFundBase)?e.salaryInfo.houseFundBase:+e.houseFundBase};p.needFiveBase&&(k(a,"endowBase"),k(a,"unemployBase"),k(a,"medicalBase"),k(a,"injuryBase"),k(a,"maternityBase"));if(!l.validateSocialAndHouseFundBase(a,p))return;E(a,"baseSalary"),E(a,"probationarySalary"),E(a,"mobileSubsidy"),E(a,"trafficSubsidy"),l.diffDaysFromNow(e.executeDate,"days")<i.EXECUTE_TIP_DAYS?confirm(i.EXECUTE_TIP,function(){b(a)}):b(a)}function b(n){var r=a().format("YYYY-MM-DD"),o=(new Date(r+" 00:00:00")).getTime(),u=e.executeDate.getTime();o==u&&(u=a(r).add(1,"days").valueOf()-1e3),t.addApply({editedNumber:e.userCommonInfo.number,type:s.APPLY_CODE.SALARY_INFO,content:n,reason:e.reason,executeDate:u}).then(function(){var t=(new Date).getMonth(),n=e.executeDate.getMonth();alert(i.SUCCESS_TIP+"审批通过后将从"+(n+1)+"月1日生效"),v.hadSuccess=!0,f.dismiss(v)})}function w(){return e.level&&!e.position?(alert("等级调整请一起调整职位名称"),!1):!0}function E(t,n){typeof e[n].inputVal!="undefined"?t[n]=h.getSalary(e[n]):t[n]=e.salaryInfo[n]||{}}function S(){c.getStaffWorkInfo({number:e.number}).then(function(t){e.workInfo=t.data;var n=e.workInfo.structure;C(n),e.workInfo.socialSecurityCity&&x(e.workInfo.socialSecurityCity)})}function x(t){c.getSocialSecurityCity({socialSecurityCity:t}).then(function(t){p=t.data[0],e.needFiveBase=p.needFiveBase})}function T(){c.getStaffSalaryInfo({number:e.number}).then(function(t){e.salaryInfo=t.data})}function N(){f.dismiss(v)}function C(t){t?c.getLevel({structure:e.workInfo.structure}).then(function(t){for(var n=0,i;i=t.data[n++];)i.id=i.name;t.data.unshift(r.EMPTY),e.inputOptions.level.items=t.data}):(e.inputOptions.level.items=[],e.inputOptions.position.items=[])}function k(t,n){t[n]=l.inputEmpty(e[n])?e.salaryInfo[n]:+e[n]}function L(t){t?c.getPosition({structure:e.workInfo.structure,level:e.level}).then(function(t){t.data.unshift(r.EMPTY),e.inputOptions.position.items=t.data}):e.inputOptions.position.items=[]}e.number=u.get("number"),e.save=y,e.closeHandler=N,e.inputOptions=n("changeSalaryForm",e),e.onGetUserCommonInfo=g;var p={},d=r.SALARY_TYPE[1].id;e.baseSalary={selectVal:d},e.probationarySalary={selectVal:d},e.mobileSubsidy={selectVal:d},e.trafficSubsidy={selectVal:d},e.canModProbationarySalary=!0;var v={};m()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("../../config"),s=e("module/codeConfig"),o=s.TYPE_CODE,u={},a=e("moment");t.controller("applyOptChangeSalaryCtrl",f),f.$inject=["$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","hrUtil"]}),define("module/apply/opt/leave/inputOptions",["require","module/config","module/codeConfig","module/nameConfig","moment"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o=e("moment"),u={reason:{required:!0,displayName:"离职原因",mode:"select",formName:t,name:"reason",items:r.LEAVE_REASON},leaveDate:{required:!0,displayName:"最后工作日期",name:"leaveDate",formName:t,placeholder:"yy-MM-dd",type:"date",min:new Date(o().format("YYYY/MM/DD")+" 00:00:00")},detail:{required:!1,displayName:"离职详细信息",maxLength:200,name:"detail",formName:t,placeholder:"少于200个字",mode:"textarea"}};return u}}),define("module/apply/opt/leave/controller",["require","../../app","./inputOptions","module/config","../../config","module/codeConfig","moment"],function(e){function a(e,t,r,u,a,f,l){function h(){}function p(t){if(!t.$valid)return;a.diffDaysFromNow(e.leaveDate,"days")<i.EXECUTE_TIP_DAYS?confirm(i.LEAVE_EXECUTE_TIP,function(){d()}):d()}function d(){var n=e.reason.split("-"),r=o().format("YYYY-MM-DD"),a=(new Date(r+" 00:00:00")).getTime(),f=e.leaveDate.getTime();a==f&&(f=o(r).add(1,"days").valueOf()-1e3);var l={number:e.number,reason:+n[0],detailReason:+n[1],detail:e.detail,leaveDate:f},h=s.APPLY_CODE.LEAVE;e.isAgent&&(h=s.APPLY_CODE.AGENT_LEAVE),t.addApply({editedNumber:e.userCommonInfo.number,type:h,content:l,executeDate:l.leaveDate}).then(function(){alert(i.SUCCESS_TIP),c.hadSuccess=!0,u.dismiss(c)})}function v(){u.dismiss(c)}e.number=r.get("number"),e.save=p,e.closeHandler=v,e.inputOptions=n("leaveForm",e);var c={};h()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("../../config"),s=e("module/codeConfig"),o=e("moment"),u={};t.controller("applyOptLeaveCtrl",a),a.$inject=["$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","hrUtil"]}),define("module/apply/opt/multiple/inputOptions",["require","module/config","module/codeConfig","module/nameConfig","../../config","moment"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o=e("../../config"),u=e("moment"),a={structure:{required:!1,displayName:"调整为",name:"structure",formName:t,manageNodes:[],mode:"structure"},leader:{required:!1,displayName:"调整为",mode:"nameSuggestion",formName:t,name:"leader"},level:{required:!1,displayName:"调整为",mode:"select",formName:t,name:"level",items:[]},position:{required:!1,displayName:"调整为",mode:"select",formName:t,name:"position",items:[]},office:{required:!1,displayName:"工作地点",mode:"select",name:"office",formName:t,items:[]},contractCompany:{required:!1,displayName:"合同签约公司",mode:"select",formName:t,name:"contractCompany",items:[]},baseSalary:{required:!1,displayName:"调整为",maxLength:10,name:"baseSalary",formName:t,placeholder:"",items:r.SALARY_TYPE,type:"number",errorDisplayName:"基本工资",pattern:"\\d*",mode:"combine"},salaryType:{required:!1,displayName:"调整为",name:"salaryType",formName:t,mode:"select",items:r.SALARY_MODE,filter:"salaryType"},reason:{required:!1,displayName:"变动原因",maxLength:200,name:"reason",formName:t,placeholder:"少于200个字",mode:"textarea"},socialSecurityBase:{required:!1,displayName:"调整为",name:"socialSecurityBase",formName:t,placeholder:"",pattern:"\\d*",postfix:"元"},houseFundBase:{required:!1,displayName:"调整为",name:"houseFundBase",formName:t,placeholder:"",pattern:"\\d*",postfix:"元"},trafficSubsidy:{required:!1,displayName:"调整为",maxLength:10,name:"trafficSubsidy",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine"},mobileSubsidy:{required:!1,displayName:"调整为",maxLength:10,name:"mobileSubsidy",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine"},socialSecurityCity:{required:!1,displayName:"调整为",mode:"select",name:"socialSecurityCity",formName:t,items:[]},executeDate:{required:!0,displayName:"生效日期",name:"executeDate",min:new Date(u().format("YYYY-MM-DD")+" 00:00:00"),formName:t,placeholder:"yy-MM-dd",type:"date",tip:o.EXECUTE_DATE_TIP},probationarySalary:{required:!1,displayName:"调整为",maxLength:10,name:"probationarySalary",formName:t,placeholder:"",type:"number",pattern:"\\d*",items:r.SALARY_TYPE,mode:"combine",changeHandler:n.probationarySalaryChange}};return a}}),define("module/apply/opt/multiple/controller",["require","../../app","./inputOptions","module/config","../../config","module/codeConfig","moment"],function(e){function f(e,t,u,f,l,c,h,p,d){function y(){C(),k(),M(),_(),D(),t.$watch("structure.id",function(e,n){e!=n&&(A(e),typeof n!="undefined"&&(t.level=undefined,t.position=undefined))},!0),t.$watch("level",function(e,n){e!=n&&(O(e),typeof n!="undefined"&&(t.position=undefined))},!0),t.$watch("socialSecurityCity",function(e,t){e?b(e):g={}},!0)}function b(e){h.getSocialSecurityCity({socialSecurityCity:e}).then(function(e){g=e.data[0],t.needFiveBase=g.needFiveBase,t.probationarySalary.inputVal&&(c.setDefaultSocialBase({},g,t),c.setDefaultHouseBase({},g,t))})}function w(e){var n=t.userCommonInfo.type;if(n==o.INTERNS||n==o.LABOR)return;c.setDefaultSocialBase({salary:e},g,t),c.setDefaultHouseBase({salary:e},g,t)}function E(){function e(){return g&&g.needFiveBase?!t.endowBase&&!t.unemployBase&&!t.medicalBase&&!t.injuryBase&&!t.maternityBase:!0}return(!t.structure||!t.structure.id)&&!t.leader&&!t.level&&!t.position&&!t.office&&!t.contractCompany&&!t.socialSecurityCity&&typeof t.baseSalary.inputVal=="undefined"&&typeof t.probationarySalary.inputVal=="undefined"&&typeof t.mobileSubsidy.inputVal=="undefined"&&typeof t.trafficSubsidy.inputVal=="undefined"&&!t.salaryType&&!t.socialSecurityBase&&!t.houseFundBase&&(!t.structure||!t.structure.id)&&!t.leader&&e()}function S(e){function s(e,n){e[n]=c.inputEmpty(t[n])?t.salaryInfo[n]:+t[n]}if(!e.$valid)return;if(E()){alert("请输入至少一项变更");return}if(!T())return;var n=t.workInfo,r={structure:t.structure&&t.structure.id||n.structure,leader:c.getUsernameFromSuggestion(t.leader)||n.leader,level:t.level||n.level,position:t.position||n.position,office:t.office||n.office,contractCompany:t.contractCompany||n.contractCompany,socialSecurityCity:t.socialSecurityCity||n.socialSecurityCity,salaryType:t.salaryType||t.salaryInfo.salaryType,socialSecurityBase:c.inputEmpty(t.socialSecurityBase)?t.salaryInfo.socialSecurityBase:+t.socialSecurityBase,houseFundBase:c.inputEmpty(t.houseFundBase)?t.salaryInfo.houseFundBase:+t.houseFundBase};g.needFiveBase&&g.needFiveBase&&(s(r,"endowBase"),s(r,"unemployBase"),s(r,"medicalBase"),s(r,"injuryBase"),s(r,"maternityBase"));if(!c.validateSocialAndHouseFundBase(r,g))return;N(r,"baseSalary"),N(r,"probationarySalary"),N(r,"mobileSubsidy"),N(r,"trafficSubsidy"),c.diffDaysFromNow(t.executeDate,"days")<i.EXECUTE_TIP_DAYS?confirm(i.EXECUTE_TIP,function(){x(r)}):x(r)}function x(e){var n=a().format("YYYY-MM-DD"),r=(new Date(n+" 00:00:00")).getTime(),o=t.executeDate.getTime();r==o&&(o=a(n).add(1,"days").valueOf()-1e3),u.addApply({editedNumber:t.userCommonInfo.number,type:s.APPLY_CODE.MULTIPLE,content:e,reason:t.reason,executeDate:t.executeDate.getTime()}).then(function(){var e=(new Date).getMonth(),n=t.executeDate.getMonth();H(t)?alert(i.SUCCESS_TIP+"审批通过后将从"+(n+1)+"月1日生效"):alert(i.SUCCESS_TIP),m.hadSuccess=!0,l.dismiss(m)})}function T(){if(t.structure&&t.structure.id){var n=c.getParentKeyNodeItem(e.structureData,t.structure.id),r=c.getParentKeyNodeItem(e.structureData,t.workInfo.structure),i=[];i.push(t.workInfo.structure);var s=c.getParentIds(e.structureData,t.workInfo.structure);while(s)i.push(s),s=c.getParentIds(e.structureData,s);var o=!1;if(t.userInfo.hasRoles.businessPartnerHR&&!!t.userInfo.hasRoles.businessPartnerHR)for(var u=0,a;a=t.userInfo.hasRoles.businessPartnerHR[u++];)if(i.indexOf(a)!=-1){o=!0;break}d||(o=!1);if(!o&&n&&r&&n.id!=r.id)return alert("您没有权限进行跨公司员工调整"),!1;if(n&&r&&n.parentId!=r.parentId||!n||!r){if(!t.level)return alert("跨公司调整时请一起调整等级"),!1;if(!t.position)return alert("跨公司调整时请一起调整职位名称"),!1}}return t.level&&!t.position?(alert("请一起调整职位名称"),!1):!0}function N(e,n){typeof t[n].inputVal!="undefined"?e[n]=p.getSalary(t[n]):e[n]=t.salaryInfo[n]||{}}function C(){h.getStaffWorkInfo({number:t.number}).then(function(e){t.workInfo=e.data;var n=t.workInfo.structure;A(n),b(t.workInfo.socialSecurityCity)})}function k(){h.getStaffSalaryInfo({number:t.number}).then(function(e){t.salaryInfo=e.data})}function L(){l.dismiss(m)}function A(e){e?h.getLevel({structure:e}).then(function(e){for(var n=0,i;i=e.data[n++];)i.id=i.name;e.data.unshift(r.EMPTY),t.inputOptions.level.items=e.data}):(t.inputOptions.level.items=[],t.inputOptions.position.items=[])}function O(e){e?h.getPosition({structure:t.structure.id,level:t.level}).then(function(e){e.data.unshift(r.EMPTY),t.inputOptions.position.items=e.data}):t.inputOptions.position.items=[]}function M(){h.getContractCompany().then(function(e){e.data.unshift(r.EMPTY),t.inputOptions.contractCompany.items=e.data})}function _(){h.getOffice().then(function(e){e.data.unshift(r.EMPTY),t.inputOptions.office.items=e.data})}function D(){h.getSocialSecurityCity().then(function(e){e.data.unshift(r.EMPTY),t.inputOptions.socialSecurityCity.items=e.data})}function P(){var e=t.userCommonInfo.type;if(e==o.INTERNS||e==o.LABOR)c.forbidFieldOfLabor(t.inputOptions,!0,t),c.forbidFieldOfLabor(t.fiveBaseOptions,!0,t);var n=t.userCommonInfo.isProbationary;n||(t.canModProbationarySalary=!1)}function H(e){var t=["socialSecurityCity","baseSalary","probationarySalary","socialSecurityBase","houseFundBase","trafficSubsidy","mobileSubsidy","salaryType"];g.needFiveBase&&(t.push.endowBase,t.push.unemployBase,t.push.medicalBase,t.push.injuryBase,t.push.maternityBase);for(var n=0,r;r=t[n++];)if(r=="baseSalary"||r=="probationarySalary"||r=="trafficSubsidy"||r=="mobileSubsidy"){if(typeof e[r].inputVal!="undefined")return!0}else if(typeof e[r]!="undefined")return!0;return!1}t.number=f.get("number"),t.save=S,t.closeHandler=L,t.probationarySalaryChange=w,t.inputOptions=n("changeMultipleForm",t),t.canModProbationarySalary=!0,t.onGetUserCommonInfo=P;var v=r.SALARY_TYPE[1].id;t.baseSalary={selectVal:v},t.probationarySalary={selectVal:v},t.mobileSubsidy={selectVal:v},t.trafficSubsidy={selectVal:v},t.fiveBaseInitOptions={formName:"changeMultipleForm",required:!1,fieldName:"调整为"};var m={},g={};y()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("../../config"),s=e("module/codeConfig"),o=s.TYPE_CODE,u={},a=e("moment");t.controller("applyOptMultipleCtrl",f),f.$inject=["$rootScope","$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","hrUtil","isFromHRBP"]}),define("module/apply/opt/detail/controller",["require","../../app","module/config","module/codeConfig"],function(e){function s(e,t,n){function r(){}function s(){n.dismiss(i)}e.closeHandler=s,e.url=t,r()}var t=e("../../app"),n=e("module/config"),r=e("module/codeConfig"),i={};t.controller("applyOptDetailController",s),s.$inject=["$scope","url","$modalInstance"]}),define("module/apply/opt/changeProbation/inputOptions",["require","module/config","module/codeConfig","module/nameConfig"],function(e){return function(t,n){var r=e("module/config"),i=e("module/codeConfig"),s=e("module/nameConfig"),o={probationEndDate:{required:!0,displayName:"试用期截止日期",name:"probationEndDate",formName:t,placeholder:"yy-MM-dd",type:"date"},commonts:{required:!0,displayName:"备注",maxLength:200,name:"commonts",formName:t,placeholder:"请填写试用期变更原因（少于200个字）",mode:"textarea"}};return o}}),define("module/apply/opt/changeProbation/controller",["require","../../app","./inputOptions","module/config","../../config","module/codeConfig","moment"],function(e){function a(e,t,r,i,a,f,l){function c(){f.getStaffBaseInfo({number:e.number}).then(function(t){e.formalDate=new Date(t.data.formalDate),e.enterTime=new Date(t.data.enterTime),e.hasChangedProbation=!1;var n=+o().add(1,"day").format("YYYYMMDD"),r=Math.min(+o(e.enterTime).add(6,"month").format("YYYYMMDD"),+o().add(15,"day").format("YYYYMMDD")),i=Math.max(n,+o(e.enterTime).add(3,"month").format("YYYYMMDD"));+o(e.formalDate).format("YYYYMMDD")==+o(e.enterTime).add(3,"month").format("YYYYMMDD")?(e.inputOptions.probationEndDate.min=o(e.formalDate).add(1,"day").toDate(),e.inputOptions.probationEndDate.max=o(e.formalDate).add(3,"month").toDate()):+o(e.formalDate).format("YYYYMMDD")==+o(e.enterTime).add(6,"month").format("YYYYMMDD")?(e.inputOptions.probationEndDate.min=o(n,"YYYYMMDD").toDate(),e.inputOptions.probationEndDate.max=o(r,"YYYYMMDD").toDate()):(e.hasChangedProbation=!0,e.inputOptions.probationEndDate.min=o(i,"YYYYMMDD").toDate(),e.inputOptions.probationEndDate.max=o(e.enterTime).add(6,"month").toDate())})}function h(t){if(!t.$valid)return;var n={probationEndDate:e.probationEndDate.getTime()},r=+o(e.userCommonInfo.enterTime).format("YYYYMMDD"),i=+o(e.probationEndDate).format("YYYYMMDD");if(e.hasChangedProbation){var s=o().add(16,"day"),u=o(e.userCommonInfo.formalTime);if(i>=+s.format("YYYYMMDD")&&i<=+u.format("YYYYMMDD")){alert("试用期的截止日期不能处于"+s.format("YYYY/MM/DD")+"到"+u.format("YYYY/MM/DD")+"之间");return}}p(n)}function p(n){var r=o().format("YYYY-MM-DD"),a=(new Date(r+" 23:59:59")).getTime();t.addApply({editedNumber:e.userCommonInfo.number,type:s.APPLY_CODE.PROBATION_CHANGE,content:n,reason:e.comments,executeDate:a}).then(function(){u.hadSuccess=!0,i.dismiss(u)})}function d(){i.dismiss(u)}e.number=r.get("number"),e.save=h,e.closeHandler=d,e.inputOptions=n("changeProbationForm",e),e.isChangeProbation=!0,c()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("../../config"),s=e("module/codeConfig"),o=e("moment"),u={};t.controller("applyChangeProbation",a),a.$inject=["$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","hrUtil"]}),define("module/apply/opt/workTarget/inputOptions",["require","module/config"],function(e){return function(t,n){var r=e("module/config"),i={detail:{required:!0,displayName:"目标设定",maxLength:1e3,minLength:200,name:"detail",formName:t,placeholder:"该工作计划将作为考察员工试用期是否符合正式录用的依据，请与上级协商后再进行填写。（不少于200字，不超过1000字）",mode:"textarea"}};return i}}),define("module/apply/opt/workTarget/controller",["require","../../app","./inputOptions","module/config","module/codeConfig","../../config","moment"],function(e){function a(e,t,r,u,a,f,l){function h(t){if(!t.$valid||!e.isReadStaffManual)return;confirm(s.WORK_TARGET_EXECUTE_TIP,function(){p()})}function p(){var n=o().format("YYYY-MM-DD"),r=(new Date(n+" 23:59:59")).getTime(),a={workTarget:e.detail.replace(/\n/g,"<br>").replace(/[ ]/g,"&nbsp;")},f=o().format("dddd");t.addApply({editedNumber:e.userCommonInfo.number,type:i.APPLY_CODE.WORK_TARGET,content:a,executeDate:r}).then(function(){alert(s.SUCCESS_TIP),c.hadSuccess=!0,u.dismiss(c)})}function d(){u.dismiss(c)}e.number=r.get("number"),e.save=h,e.closeHandler=d,e.inputOptions=n("workTargetForm",e);var c={}}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s=e("../../config"),o=e("moment"),u={};t.controller("applyOptWorkTargetCtrl",a),a.$inject=["$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","hrUtil"]}),define("module/apply/opt/formalApply/inputOptions",["require","module/config"],function(e){return function(t,n){var r=e("module/config"),i={detail:{required:!0,displayName:"转正申请",maxLength:1e3,minLength:200,name:"detail",formName:t,placeholder:"该转正申请主要是总结试用期工作目标的完成情况及对接下来工作的规划。（不少于200字，不超过1000字）",mode:"textarea"}};return i}}),define("module/apply/opt/formalApply/controller",["require","../../app","./inputOptions","module/config","module/codeConfig","../../config","moment"],function(e){function a(e,t,r,u,a,f,l){function h(){f.getWorkTarget({number:e.number}).then(function(t){e.workTarget=t.data.workTarget})}function p(e){if(!e.$valid)return;confirm(s.FORMAL_APPLY_EXECUTE_TIP,function(){d()})}function d(){var n=o().format("YYYY-MM-DD"),r=(new Date(n+" 23:59:59")).getTime(),a={formalApply:e.detail.replace(/\n/g,"<br>").replace(/[ ]/g,"&nbsp;")},f=o().format("dddd");t.addApply({editedNumber:e.userCommonInfo.number,type:i.APPLY_CODE.FORMAL_APPLY,content:a,executeDate:r}).then(function(){alert(s.SUCCESS_TIP),c.hadSuccess=!0,u.dismiss(c)})}function v(){u.dismiss(c)}e.number=r.get("number"),e.save=p,e.closeHandler=v,e.inputOptions=n("formalApplyForm",e);var c={};h()}var t=e("../../app"),n=e("./inputOptions"),r=e("module/config"),i=e("module/codeConfig"),s=e("../../config"),o=e("moment"),u={};t.controller("applyOptFormalApplyCtrl",a),a.$inject=["$scope","applyRequest","localStorage","$modalInstance","util","hrRequest","hrUtil"]}),define("module/apply/opt/main",["require","./transFullTime/controller","./changeStructure/controller","./changeSalary/controller","./leave/controller","./multiple/controller","./detail/controller","./changeProbation/controller","./workTarget/controller","./formalApply/controller"],function(e){e("./transFullTime/controller"),e("./changeStructure/controller"),e("./changeSalary/controller"),e("./leave/controller"),e("./multiple/controller"),e("./detail/controller"),e("./changeProbation/controller"),e("./workTarget/controller"),e("./formalApply/controller")}),define("module/apply/util",["require","./app","module/config","module/codeConfig"],function(e){var t=e("./app"),n=e("module/config"),r=e("module/codeConfig");t.factory("applyUtil",["$modal","authUtil","$q","hrRequest","util",function(e,t,n,r,i){return{getChangedValue:function(e,t){function i(e,t){if(typeof e=="object"){if(JSON.stringify(e)!=JSON.stringify(t))return!1}else if(e!=t)return!1;return!0}var n={};for(var r in e)i(e[r],t[r])||(n[r]=[e[r],t[r]]);for(var r in t)typeof e[r]=="undefined"&&(n[r]=[e[r],t[r]]);return n}}}])}),define("module/apply/optUtil",["require","./app","module/config","module/codeConfig"],function(e){var t=e("./app"),n=e("module/config"),r=e("module/codeConfig");t.factory("applyOptUtil",["$modal","authUtil","$q","hrRequest",function(e,t,n,r){return{viewDetail:function(t,n){var r=e.open({templateUrl:"src/module/apply/opt/detail/tpl.html",controller:"applyOptDetailController",windowClass:"xxx-dialog",resolve:{url:function(){return t}}});r.result.then(function(){},function(e){n(e)})}}}])}),define("module/apply/request",["require","../../common/app"],function(e){var t=e("../../common/app");t.factory("applyRequest",["ajaxService","$q","localStorage",function(e,t,n){return{getApplyList:function(t){var t=t||{};return e.send("/GET/approve/list.json",{data:t})},getApplyDetail:function(t){var t=t||{};return e.send("/GET/approve/detail.json",{data:t})},getCount:function(t){var t=t||{};return e.send("/GET/approve/amount.json",{data:t})},handleApply:function(t){var t=t||{};return e.send("/MOD/approve/batch.json",{data:t})},addApply:function(t){var t=t||{};return t.content&&(t.content=JSON.stringify(t.content)),e.send("/ADD/approve/approve.json",{data:t})},cancelApply:function(t){var t=t||{};return e.send("/MOD/approve/cancel.json",{data:t})}}}])}),define("module/apply/main",["require","./app","./directive/main","./filter/main","./list/main","./detail/main","./opt/main","./util","./optUtil","./request"],function(e){var t=e("./app");e("./directive/main"),e("./filter/main"),e("./list/main"),e("./detail/main"),e("./opt/main"),e("./util"),e("./optUtil"),e("./request"),t.config(["$stateProvider","$urlRouterProvider",function(e,t){function n(t){e.state("apply.detail."+t+"staffEnter",{url:"/"+t+"staffEnter",templateUrl:"src/module/apply/detail/offerInfos/tpl.html",controller:"applyDetailOfferInfosCtrl"}).state("apply.detail."+t+"leave",{url:"/"+t+"leave",templateUrl:"src/module/apply/detail/leave/tpl.html",controller:"applyDetailLeaveCtrl"}).state("apply.detail."+t+"multiple",{url:"/"+t+"multiple",templateUrl:"src/module/apply/detail/infos/tpl.html",controller:"applyDetailInfosCtrl"}).state("apply.detail."+t+"salary",{url:"/"+t+"salary",templateUrl:"src/module/apply/detail/infos/tpl.html",controller:"applyDetailInfosCtrl"}).state("apply.detail."+t+"structure",{url:"/"+t+"structure",templateUrl:"src/module/apply/detail/infos/tpl.html",controller:"applyDetailInfosCtrl"}).state("apply.detail."+t+"transFullMember",{url:"/"+t+"transFullMember",templateUrl:"src/module/apply/detail/transFullMember/tpl.html",controller:"applyTransFullMemberCtrl"}).state("apply.detail."+t+"offerChange",{url:"/"+t+"offerChange",templateUrl:"src/module/apply/detail/offerChange/tpl.html",controller:"applyDetailOfferChangeCtrl"}).state("apply.detail."+t+"offerChange.offerInfo",{url:"/"+t+"offerInfo",templateUrl:"src/module/apply/detail/offerInfos/tpl.html",controller:"applyDetailOfferInfosCtrl"}).state("apply.detail."+t+"workTarget",{url:"/"+t+"workTarget",templateUrl:"src/module/apply/detail/workTarget/tpl.html",controller:"applyDetailWorkTargetCtrl"}).state("apply.detail."+t+"formalApply",{url:"/"+t+"formalApply",templateUrl:"src/module/apply/detail/formalApply/tpl.html",controller:"applyDetailFormalApplyCtrl"}).state("apply.detail."+t+"agentEnter",{url:"/"+t+"agentEnter",templateUrl:"src/module/apply/detail/offerInfos/tpl.html",controller:"applyDetailOfferInfosCtrl"}).state("apply.detail."+t+"agentRejoin",{url:"/"+t+"agentRejoin",templateUrl:"src/module/apply/detail/offerInfos/tpl.html",controller:"applyDetailOfferInfosCtrl"}).state("apply.detail."+t+"agentStructure",{url:"/"+t+"agentStructure",templateUrl:"src/module/apply/detail/infos/tpl.html",controller:"applyDetailInfosCtrl"}).state("apply.detail."+t+"agentLeave",{url:"/"+t+"agentLeave",templateUrl:"src/module/apply/detail/leave/tpl.html",controller:"applyDetailLeaveCtrl"})}function r(t){var n=["all","staffEnter","leave","rejoin","workInfo","structure","transFullMember","multiple","workTarget","formalApply","agentEnter","agentRejoin","agentStructure","agentLeave"];for(var r=0,i;i=n[r++];)e.state("apply.list."+t+"."+i,{url:"/"+i,templateUrl:"src/module/apply/list/table/tpl.html",controller:"applyListTableCtrl"})}e.state("apply",{"abstract":"",url:"/apply",templateUrl:"src/module/apply/tpl.html"}).state("apply.list",{"abstract":"",url:"/list",templateUrl:"src/module/apply/list/tpl.html",controller:"applyListCtrl"}).state("apply.list.toHandle",{"abstract":"",url:"/toHandle",templateUrl:"src/module/apply/list/subTab/tpl.html",controller:"applyListSubTabCtrl"}).state("apply.list.hasHandled",{"abstract":"",url:"/hasHandled",templateUrl:"src/module/apply/list/subTab/tpl.html",controller:"applyListSubTabCtrl"}).state("apply.list.promoteMyself",{"abstract":"",url:"/promoteMyself",templateUrl:"src/module/apply/list/subTab/tpl.html",controller:"applyListSubTabCtrl"}).state("apply.detail",{url:"/:applyId",templateUrl:"src/module/apply/detail/tpl.html",controller:"applyDetailCtrl"}),n("modal"),n("modalMy-"),n("modalFinished-"),n(""),n("my-"),n("finished-"),r("toHandle"),r("hasHandled"),r("promoteMyself")}])}),define("jsLibrary/src/ngFilter/module",[],function(){"use strict";angular.module("library.filters",[])}),define("jsLibrary/src/function/parseRmb",[],function(){"use strict";return function(e,t){if(e===null||typeof e=="undefined")return"-";var n=e<0?"-":t?"+":"",r=parseInt(e=Math.abs(+e||0).toFixed(2),10)+"",i=(i=r.length)>3?i%3:0;return"￥"+n+(i?r.substr(0,i)+",":"")+r.substr(i).replace(/(\d{3})(?=\d)/g,"$1,")+("."+Math.abs(e-r).toFixed(2).slice(2))}}),define("jsLibrary/src/ngFilter/parseRmb",["require","../function/parseRmb"],function(e){"use strict";var t=e("../function/parseRmb");angular.module("library.filters").filter("rmb",function(){return t})}),define("module/main.tpl",["require"],function(e){angular.module("templates-main",[]).run(["$templateCache",function(e){e.put("src/common/directive/checkboxGroup/tpl.html",'<div class="directives-checkbox-group">\n    <div class="form-inline group">\n        <div class="form-group">\n            <input name="checkboxGroupType" type="radio" value="default"\n                   ng-model="checkboxGroupType" ng-click="defaultClick()">\n            <label class="form-label">\n                默认指标\n            </label>\n        </div>\n        <div class="form-group">\n            <input name="checkboxGroupType"  type="radio" value="selfDefine"\n                   ng-click="selfDefineClick()"\n                   ng-model="checkboxGroupType">\n            <label class="form-label">\n                自定义指标\n            </label>\n        </div>\n    </div>\n    <div class="form-inline content">\n        <div ng-repeat="item in options.data" class="group">\n            <div class="inline group-name">{{item.name}}:</div>\n            <ul class="inline list-inline item-area">\n                <li ng-repeat="data in item.items" class="item">\n                    <input type="checkbox" value="{{data.key}}" class="input"\n                           ng-change="itemClick(data.key,data.value)"\n                           ng-model="data.checked"/>\n                    {{data.value}}\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="btn-wrap">\n        <p ng-click="confirmHandler({error: error})" class="btn btn-warning btn-sm">确定</p>\n        <p ng-click="cancelHandler()"\n           class="btn btn-default btn-sm">取消</p>\n        <span class="red">{{error}}</span>\n    </div>\n</div>'),e.put("src/common/directive/commonInfo/tpl.html",'<div class="directive-commonInfo container-fluid" style="padding: 10px">\n    <div class="row">\n        <div class="col-sm-1 head-img-wrap" ng-if="commonInfo.headImgUrl">\n            <img ng-src="{{commonInfo.headImgUrl}}" class="head-img"\n                 ng-class="{\'pointer\': canEditHeadImg}"\n                    />\n            <i ng-show="canEditHeadImg"\n               ng-click="editClick()"\n               class="glyphicon glyphicon-edit edit"></i>\n        </div>\n        <div class="col-sm-1 no-head-img" ng-if="!commonInfo.headImgUrl"\n             ng-click="uploadClick()">\n            <span class="upload-tip">上传照片</span>\n        </div>\n        <div class="char">\n             姓名：\n            {{commonInfo.name}}\n        </div>\n        <div class="char">\n             性别：\n            {{commonInfo.sex|sex}}\n        </div>\n        <div class="char">\n             员工编号：\n            {{commonInfo.displayNumber}}\n        </div>\n        <div class="char">\n             员工状态：\n            {{commonInfo.status|staffStatus}}\n        </div>\n        <div class="char" ng-show="commonInfo.type != 21">\n             员工类型：\n            {{commonInfo.type|type}}\n        </div>\n        <div class="char">\n             法律名：\n            {{commonInfo.lawName}}\n        </div>\n    </div>\n</div>\n'),e.put("src/common/directive/customCols/tpl.html",'<div dropdown is-open="status.isopen" class="directives-custom-cols">\n    <div dropdown-toggle class="btn btn-default">\n       {{options.name}}\n    </div>\n    <div class="dropdown-menu" stop-event="click"  role="menu">\n        <div checkbox-group options="options"\n             confirm-handler=\'confirmBtnClickHandler(error)\'\n             cancel-handler=\'cancelBtnClickHandler()\'\n                ></div>\n    </div>\n</div>\n'),e.put("src/common/directive/fiveBase/tpl.html",'<div class="directive-fiveBase">\n    <table>\n        <tr class="thead">\n            <td class="col1">&nbsp;</td>\n            <td>养老</td>\n            <td>失业</td>\n            <td>医疗</td>\n            <td>工伤</td>\n            <td>生育</td>\n        </tr>\n        <tr>\n            <td class="col1">\n                <span class="blue" ng-show="fiveBaseInitOptions.required">\n                    *</span>{{fiveBaseInitOptions\n                .fieldName}}：</td>\n            <td class="endow">\n                <div input-control\n                     options="fiveBaseOptions.endowBase"\n                     ng-model="endowBase">\n                </div>\n            </td>\n            <td>\n                <div input-control\n                     options="fiveBaseOptions.unemployBase"\n                     ng-model="unemployBase">\n                </div>\n            </td>\n            <td>\n                <div input-control\n                     options="fiveBaseOptions.medicalBase"\n                     ng-model="medicalBase">\n                </div>\n            </td>\n            <td>\n                <div input-control\n                     options="fiveBaseOptions.injuryBase"\n                     ng-model="injuryBase">\n                </div>\n            </td>\n            <td>\n                <div input-control\n                     options="fiveBaseOptions.maternityBase"\n                     ng-model="maternityBase">\n                </div>\n            </td>\n        </tr>\n    </table>\n</div>\n'),e.put("src/common/directive/imageCrop/tpl.html",'<div class="directives-imageCrop">\n</div>\n'),e.put("src/common/directive/inputControl/tpl.html",'<div ng-if="options.mode!=\'textarea\'" class="directive-inputControl">\n<label class="col-sm-2 control-label">\n        <span class="{{options.prefixClass|| \'red\'}}"\n              ng-show="((options.prefixClass || options.required) && !options.disable) && options.displayName!=\'\'">\n            *</span>\n    {{options.displayName}}\n        <span ng-show="options.tip"\n              popover="{{options.tip}}"\n              popover-trigger="mouseenter" popover-placement="top"\n              popover-append-to-body="true"\n              class="glyphicon glyphicon-question-sign"\n                >\n                </span>\n    <span ng-show="options.displayName!=\'\'" class="dot">:</span>\n</label>\n\n<div class="col-sm-4" ng-switch="options.mode">\n        <span ng-switch-when="select">\n            <select ng-model="result.value"\n                    ng-hide="options.disable"\n                    class="form-control"\n                    ng-disabled="options.forbid"\n                    name="{{options.name}}"\n                    ng-change="options.changeHandler(result.value)"\n                    ng-required="options.required"\n                    input-validate="errorOption"\n                    ng-options="m.id as m.name for m in options.items">\n            </select>\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue|emptyFormat}}\n            </span>\n        </span>\n\n\n\n        <span ng-switch-when="nameSuggestion">\n             <span\n                     name-suggestion ng-model="result.value"\n                     ng-hide="options.disable"\n                     name="{{options.name}}"\n                     disable="options.disable"\n                     require="{{require}}"\n                     error-option="errorOption"\n                     >\n\n                     </span>\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue|emptyFormat}}\n            </span>\n        </span>\n\n        <span ng-switch-when="multiName">\n             <span\n                     multi-name ng-model="result.value"\n                     ng-hide="options.disable"\n                     name="{{options.name}}"\n                     disable="options.disable"\n                     error-option="errorOption"\n                     ></span>\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue|emptyFormat}}\n            </span>\n        </span>\n\n        <span ng-switch-when="structure">\n            <span structure-selector ng-model="result.value"\n                  ng-hide="options.disable"\n                  name="{{options.name}}"\n                  disable="options.disable"\n                  require="{{require}}"\n                  error-option="errorOption"\n                  options=\'treeSelectorOptions\'>\n\n             </span>\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue|emptyFormat}}\n            </span>\n        </span>\n\n        <span ng-switch-when="checkbox">\n            <input type="checkbox" ng-model="result.value"\n                   ng-hide="options.disable"\n                   ng-change="options.changeHandler(result.value)"\n                   name="{{options.name}}"\n                    >\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue}}\n            </span>\n        </span>\n\n\n    <div ng-switch-when="file">\n        <div input-validate="errorOption">\n            <span class="file-load" ng-show="!options.disable">\n                <label class="upload-file-btn" ng-show="!options.fileUrl">\n                    <i class="glyphicon glyphicon-upload"></i>上传文件\n                </label>\n                <label class="upload-file-btn" ng-show="options.fileUrl">\n                    <i class="glyphicon glyphicon-upload"></i>重新上传\n                </label>\n                <input type="file" ng-model="result.value"\n                       class="upload-file"\n                       onchange="angular.element(this).scope().fileChange(this)"\n                       name="{{options.name}}"/>\n            </span>\n            <span class="file-download" ng-show="options.fileUrl">\n                <a href="{{options.fileUrl}}" target="_blank">\n                    <i class="glyphicon glyphicon-download"></i>下载\n                </a>\n            </span>\n\n            <p ng-show="!options.disable" class="gray">\n\n                <span>只允许pdf、png、jpg、jpeg、doc、docx后缀文件</span>\n            </p>\n        </div>\n    </div>\n\n        <span ng-switch-when="selectWithInput">\n            <div class="col-sm-8 combine-first">\n                <input\n                        ng-disabled="options.forbid"\n                        ng-hide="options.disable"\n                        class="form-control"\n                        ng-model="result.input"\n                        name="{{options.name}}Input"\n                        ng-maxlength="{{options.maxLength}}"\n                        ng-minlength="{{options.minLength}}"\n                        input-validate="errorOption"\n                        placeholder="{{options.placeholder}}"\n                        ng-required="{{options.required}}"\n                        ng-pattern="options.pattern"\n                        ng-change="options.changeHandler(result.value)"\n                        type="{{options.type}}">\n            </div>\n            <div class="col-sm-4 combine-scd">\n                <span ng-repeat="item in options.items">\n                    <input type="radio" name="options.name"\n                           value="{{item.id}}" ng-model="result.select">\n                    {{item.name}}\n                </span>\n            </div>\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue}}\n            </span>\n        </span>\n\n        <span ng-switch-when="combine">\n            <div class="col-sm-8 combine-first">\n                <input\n                        ng-disabled="options.forbid"\n                        ng-hide="options.disable"\n                        class="form-control"\n                        ng-model="result.input"\n                        name="{{options.name}}"\n                        ng-maxlength="{{options.maxLength}}"\n                        ng-minlength="{{options.minLength}}"\n                        input-validate="errorOption"\n                        placeholder="{{options.placeholder}}"\n                        ng-required="{{options.required}}"\n                        ng-pattern="options.pattern"\n                        ng-change="options.changeHandler(result.input)"\n                        type="{{options.type}}">\n            </div>\n            <div class="col-sm-4 combine-scd">\n                <select ng-model="result.select"\n                        ng-hide="options.disable"\n                        ng-disabled="options.forbid"\n                        class="form-control"\n                        ng-required="{{options.required}}"\n                        ng-options="m.id as m.name for m in options.items">\n                </select>\n            </div>\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue|emptyFormat}}\n            </span>\n        </span>\n        <span ng-switch-default>\n            <span ng-class="{\'input-group\':options.postfix}"\n                  input-validate="errorOption"\n                    >\n            <input\n                    ng-hide="options.disable"\n                    ng-disabled="options.forbid"\n                    class="form-control"\n                    ng-model="result.value"\n                    name="{{options.name}}"\n                    ng-maxlength="{{options.maxLength}}"\n                    ng-minlength="{{options.minLength}}"\n                    ng-max="options.max"\n                    ng-min="options.min"\n                    placeholder="{{options.placeholder}}"\n                    ng-required="{{options.required}}"\n                    ng-change="options.changeHandler(result.value,this)"\n                    ng-blur="options.blurHandler(result.value,this)"\n                    ng-pattern="options.pattern"\n                    type="{{options.type}}">\n            <span ng-show="options.disable" class="display-name">\n                {{displayValue|emptyFormat}}\n                <span ng-show="options.postfix">\n                    {{options.postfix}}\n                </span>\n            </span>\n            <span ng-show="options.postfix && (!options.disable)"\n                  class="input-group-addon">\n                {{options.postfix}}\n            </span>\n            </span>\n        </span>\n</div>\n</div>\n<div ng-if="options.mode==\'textarea\'" class="directive-inputControl">\n    <span class="col-sm-2 control-label">\n        <span class="red" ng-show="options.required">*</span>\n        {{options.displayName}}:\n    </span>\n\n    <div class="col-sm-9">\n        <textarea\n                ng-hide="options.disable"\n                class="form-control"\n                ng-disabled="options.forbid"\n                ng-model="result.value"\n                name="{{options.name}}"\n                ng-maxlength="{{options.maxLength}}"\n                ng-minlength="{{options.minLength}}"\n                input-validate="errorOption"\n                placeholder="{{options.placeholder}}"\n                ng-change="options.changeHandler(result.value,this)"\n                ng-blur="options.blurHandler(result.value,this)"\n                ng-required="{{options.required}}"\n                >\n\n        </textarea>\n            <span ng-show="options.disable" class="display-name textarea-value">\n                {{displayValue|emptyFormat}}\n            </span>\n    </div>\n</div>\n\n'),e.put("src/common/directive/inputValidate/tpl.html",'<div class="directive-inputValidate">\n    <span\n            ng-show="form.$submitted && form[name].$error.required &&(!form[name].$error.requiredSubmitted)">\n        请{{optTip}}{{options.displayName}}\n            </span>\n    <span\n            ng-show="form.$submitted && form[name].$error.fileRequired &&(!form[name].$error.requiredSubmitted)">\n        请上传{{options.displayName}}\n            </span>\n    <span\n            ng-show="form.$submitted && form[name].$error.requiredSubmitted">\n        请{{optTip}}{{options.displayName}}\n            </span>\n    <span\n            ng-show="form[name].$error.maxlength">\n        请输入少于{{maxlength}}个字符的{{options.displayName}}\n            </span>\n    <span\n            ng-show="form[name].$error.minlength">\n        请输入不少于{{minlength}}个字符的{{options.displayName}}\n            </span>\n    <span\n            ng-show="form[name].$error.number">\n        请输入数字\n            </span>\n    <span\n            ng-show="form[name].$error.date">\n        请输入正确的日期\n            </span>\n    <span\n            ng-show="form[name].$error.pattern">\n        请输入正确的{{options.displayName}}\n            </span>\n    <span\n            ng-show="form[name].$error.common">\n        请输入正确的{{options.displayName}}\n            </span>\n    <span\n            ng-show="form[name].$error.min">\n        请输入大于{{min|dateFormat}}的日期\n            </span>\n    <span\n            ng-show="form[name].$error.max">\n        请输入小于{{max|dateFormat}}的日期\n            </span>\n    <span\n            ng-show="form[name].$error.sugguestionRequired">\n        请选择{{options.displayName}}\n     </span>\n    <span\n            ng-show="form[name].$error.email">\n        请输入正确的邮箱\n            </span>\n    <span\n            ng-show="form[name].$error.url">\n        请输入正确的url地址\n            </span>\n    <span\n            ng-show="form[name].$error.file">\n        文件格式不正确\n            </span>\n    <span\n            ng-show="form[name].$error.dateRequired">\n        请输入日期\n            </span>\n    <span\n            ng-show="form[name].$error.month">\n        请输入正确日期\n            </span>\n\n    <!--for nameSugguestion。。。-->\n    <span\n            ng-show="form[name].$error.parse">\n        请从下拉列表中选择\n            </span>\n</div>'),e.put("src/common/directive/itemSet/tpl.html",'<div class="directive-item-set">\n    <div ng-repeat="item in listData" class="data-item"\n         class="item">\n        <div ng-if="!options.tpl" class="btn btn-default name">\n            {{item.name}}\n        </div>\n        <div ng-if="options.tpl" class="inline-block name-content"\n             compile="options.tpl">\n        </div>\n            <span class="glyphicon delete"\n                  ng-click="delClickHandler(item, $index)">\n            </span>\n    </div>\n</div>'),e.put("src/common/directive/multiName/customTemplate.html",'<div style="padding-left: 10px">\n    {{match.model.displayName}},{{match.model.username}}\n</div>\n'),e.put("src/common/directive/multiName/itemSetTpl.html",'<span class="item-set-content">\n            {{item.name}},{{item.userName}}\n</span>'),e.put("src/common/directive/multiName/tpl.html",'<div class="directive-multiName">\n    <input type="text" ng-model="value"\n           name="{{name}}"\n           ng-keydown="onkeydown"\n           ng-disabled="disable"\n           ng-required="{{require}}"\n           input-validate="errorOption"\n           typeahead-append-to-body=false\n           placeholder="请输入邮箱前缀,并从下拉列表中选择" typeahead-editable="false"\n           typeahead-on-select="typeaheadOnSelect(item)"\n           typeahead="account for account in getAccounts($viewValue) | filter:{username:$viewValue}"\n           class="form-control"\n            >\n    <div item-set ng-model="listValue" options="itemSetOption"\n         class="names-container"></div>\n</div>\n\n'),e.put("src/common/directive/multiSelect/tpl.html",'<div class="form-control directives-multiSelect" dropdown\n     is-open="status.isopen">\n    <div class="dropdown-toggle content"\n         data-toggle="dropdown" title="{{selectedNames}}">\n        {{selectedNames}}\n        <span class="caret"></span>\n    </div>\n    <div class="dropdown-menu" role="menu">\n        <ul class="list-group" stop-event="click">\n            <li class="list-group-item" id="{{item.id}}"\n                ng-repeat="item in options.items">\n                <input type="checkbox" ng-model="item.checked"\n                       ng-change="itemChange(item.checked)">\n                {{item.name}}\n            </li>\n        </ul>\n    </div>\n</div>\n\n\n'),e.put("src/common/directive/nameSuggestion/customTemplate.html",'<div style="padding-left: 10px">\n    {{match.model.displayName}},{{match.model.username}}\n</div>\n'),e.put("src/common/directive/nameSuggestion/tpl.html",'<input type="text" ng-model="value"\n       name="{{name}}"\n       title="输入邮箱前缀,并从下拉列表中选择"\n       ng-disabled="disable"\n       ng-required="{{require}}"\n       input-validate="errorOption"\n       typeahead-append-to-body=false\n       placeholder="输入邮箱前缀,并从下拉列表中选择" typeahead-editable="false"\n       typeahead-on-select="typeaheadOnSelect(item)"\n       typeahead="account for account in getAccounts($viewValue) | filter:{username:$viewValue}"\n       class="form-control"\n        >\n\n'),e.put("src/common/directive/popoverHtmlUnsafePopup/tpl.html",'<div class="popover {{placement}} perform" ng-class="{ in: isOpen(), fade: animation() }">\n    <div class="arrow"></div>\n    <div class="popover-inner">\n        <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n        <button ng-show="title" style="position: absolute;top: 3px;right: 10px;"  ng-click="closePopover()" class="close"><span>x</span></button>\n        <div class="popover-content" bind-html-unsafe="content"></div>\n    </div>\n</div>\n'),e.put("src/common/directive/singleSelect/tpl.html",'<ul class="list-inline directives-single-select">\n    <li\n            ng-repeat="item in values track by $index"\n            ng-click="valueChange(item.key,$index)"\n            ng-class="{active: item.key == value,pointer:item.key != value}">\n        {{item.value}}\n        <span class="split" values= \'months\' ng-if="$index!=(values.length-1)">\n            |</span>\n    </li>\n</ul>\n'),e.put("src/common/directive/structureSelector/tpl.html",'<div class="directives-structureSelector" dropdown\n     is-open="status.isopen">\n    <input class="form-control dropdown-toggle content"\n           value="{{selectedNodeName}}"\n           ng-disabled="disable"\n           ng-required="{{require}}"\n           readonly\n           name="{{name}}"\n           input-validate="errorOption"\n           data-toggle="dropdown" title="{{selectedNodeName}}"\n            />\n\n    <div class="dropdown-menu" role="menu" stop-event="click">\n        <treecontrol class="tree-light" tree-model="structureData"\n                     options="opts"\n                     selected-node="selectedNode"\n                     expanded-nodes="expandedNodes"\n                     filter-expression="nodeFilter"\n                     filter-comparator="comparator"\n                     on-selection="onSelect(node)">\n            <span>\n                <span class="node-name" node-id="{{node.id}}">\n                {{node.label}}\n                </span>\n            </span>\n            <span class="line" ng-show="node.parentId"></span>\n        </treecontrol>\n    </div>\n</div>\n\n\n'),e.put("src/common/directive/table/tpl.html",'<div class="directive-table">\n    <div ng-class="{\'body-scroll\': options.bodyScroll}">\n        <div class="header" ng-show="options.totalCount">\n            共 <span class="count">{{options.totalCount}}</span> 条\n        </div>\n        <div class="table-area">\n            <table class="table table-striped table-bordered">\n                <!--两行表头-->\n                <tbody ng-if="options.hasTwoHead" class="tbody-head">\n                    <tr>\n                        <td ng-show="options.canSelect" rowspan="2"\n                            class="checkbox-col td-head" style="width: 20px">\n                            <input type="checkbox" ng-model="$parent.selectCurAll"\n                            ng-change="onSelectCurAllChange()">\n                        </td>\n                        <td ng-repeat="col in options.cols"\n                            rowspan="{{col.rowspan}}" class="td-head"\n                            ng-style="col.style"\n                            colspan="{{col.colspan||1}}"\n                            ng-show="col.rowspan || col.headOneDisplayName">\n                            {{col.headOneDisplayName||col.displayName}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td ng-repeat="col in options.cols" ng-if="!col.rowspan"\n                            ng-style="col.style">\n                            {{col.displayName}}\n                        </td>\n                    </tr>\n                </tbody>\n                <!--一行表头-->\n                <thead ng-if="!options.hasTwoHead">\n                    <th ng-show="options.canSelect" class="checkbox-col"\n                        style="width: 20px">\n                        <input type="checkbox" ng-model="$parent.selectCurAll"\n                        ng-change="onSelectCurAllChange()">\n                    </th>\n                    <th ng-repeat="col in options.cols"\n                        class="td-head" ng-style="col.style">\n                        {{col.displayName}}\n                    </th>\n                </thead>\n                <tbody class="tbody">\n                    <tr ng-repeat="item in dataSource track by $index"\n                        ng-style="item.style"\n                        ng-class="{success: options.curItemId &&(item.id==options.curItemId)}">\n                        <td ng-show="options.canSelect" class="checkbox-col"\n                            style="width: 20px">\n                            <input type="checkbox" ng-model="item.selected"\n                            ng-change="onItemSelectChange($index,item.selected)">\n                        </td>\n                        <td ng-repeat="col in options.cols track by $index"\n                            ng-style="col.style">\n                            <div ng-if="col.cellTpl" compile="col.cellTpl"></div>\n                            <div ng-if="!col.cellTpl">\n                                {{item[col.field]}}\n                            </div>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <div class="no-data" ng-show="!dataSource.length">\n                <div class="no-data-tip">暂无结果</div>\n            </div>\n            <div class="no-data" ng-show="options.isLoading">\n                <img src="">\n            </div>\n        </div>\n        <div class="page-container" ng-show="options.totalCount">\n            <pagination total-items="options.totalCount" ng-model="curPage"\n                ng-change="onPageChanged()"\n                items-per-page="{{options.pageSize}}"\n                previous-text="上一页"\n                next-text="下一页"\n                first-text="首页"\n                last-text="末页"\n                max-size="6" class="" boundary-links="true"\n            rotate="false" num-pages="numPages"></pagination>\n        </div>\n    </div>\n</div>'),e.put("src/common/directive/timerButton/tpl.html",'<span class="btn btn-info main"\n        ng-show="!showTimer" ng-click="clickHandler()">发送</span>\n<span class="btn btn-info timer" ng-show="showTimer" disabled>\n    {{remain}}秒后再次发送</span>'),e.put("src/common/service/alert/alert.html",'<div class="common-service">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n    </div>\n\n    <div class="modal-body">\n        <label class="red">\n            {{tip}}\n        </label>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-info"\n                ng-click="closeHandler()"\n                data-dismiss="modal">关闭\n        </button>\n    </div>\n</div>\n'),e.put("src/common/service/confirm/confirm.html",'<div class="common-service">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n    </div>\n\n    <div class="modal-body">\n        <label>\n            {{tip}}\n        </label>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-info"\n                ng-click="saveHandler()">确定\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">取消\n        </button>\n    </div>\n</div>\n'),e.put("src/common/service/info/info.html",'<div class="common-service">\n    <div class="common-service-info">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            {{tip}}\n        </div>\n    </div>\n</div>\n'),e.put("src/common/service/login/login.html",'<div class="common-service-login">\n    <div class="login-container">\n        <div class="title">登陆eHR</div>\n        <div class="slogan">你的光芒，照亮我们的梦想!</div>\n        <div class="">\n            <input type="text"\n                   placeholder="邮箱前缀" class="form-control"\n                   ng-model="username">\n        </div>\n        <div class="">\n            <input type="password"\n                   class="form-control"\n                   placeholder="密码" ng-model="password">\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="btn btn-primary"\n                    ng-click="saveHandler()">登陆\n            </button>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/admin/contractCompany/mod/tpl.html",'<div class="admin-structure-mod">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">{{title}}</h4>\n    </div>\n\n    <div class="modal-body">\n        <form class="form-horizontal" name="modContractCompanyForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.name"\n                     ng-model="name">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-primary"\n                ng-click="saveHandler(modContractCompanyForm)">保存\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">关闭\n        </button>\n    </div>\n</div>\n'),e.put("src/module/admin/contractCompany/tableTpl/companyOpt.html",'<div>\n    <span>\n        <a class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.modifyClick(item)">修改</a>\n    </span>\n</div>\n'),e.put("src/module/admin/contractCompany/tableTpl/name.html",'<div class="name-field" title="{{item.name}}">\n    {{item.name}}\n</div>'),e.put("src/module/admin/contractCompany/tpl.html",'<h5>\n    <span>签约公司配置</span>\n</h5>\n<div class="admin">\n    <div class="row admin-contractCompany">\n        <div class="col-sm-6">\n            <div class="table-opt-area">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="addCompany()">新增\n                </button>\n            </div>\n            <div options="companyTableOptions" table-control></div>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/directive/companyInfo/tpl.html",'<div class="admin-directive admin-directive-companyInfo">\n    <div class="wraper-show" ng-show="!editing">\n        <span class="time">\n            {{options.companyName}}\n        </span>\n        <span class="char">\n            {{options.departmentNames}}\n        </span>\n        <span class="btn btn-sm btn-warning" ng-click="onEdit()">编辑</span>\n        <span class="btn btn-sm btn-warning" ng-click="onDel()">删除</span>\n    </div>\n    <div class="wraper-edit" ng-show="editing">\n        <form class="form-horizontal" name="companyForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <label class="col-sm-1 control-label">\n                    公司:\n                </label>\n\n                <div class="col-sm-3">\n                    <select ng-model="options.companyId"\n                            class="form-control"\n                            name="company"\n                            required="true"\n                            ng-options="m.id as m.name for m in companys">\n                    </select>\n                </div>\n                <label class="col-sm-1 control-label">\n                    部门:\n                </label>\n\n                <div class="col-sm-3">\n                    <div multi-select ng-model="options.departmentIds"\n                         options="departmentsSelectOptions"></div>\n                </div>\n                <div class="col-sm-3">\n             <span class="btn btn-sm btn-warning"\n                   ng-click="onEditSave(companyForm)">确定</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="onCancelEdit()">取消</span>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>'),e.put("src/module/admin/directive/levelInfo/tpl.html",'<div class="admin-directive admin-directive-levelInfo">\n    <div class="wraper-show" ng-show="!editing">\n        <span class="col1">\n            {{options.level}}\n        </span>\n        <span class="col2">\n            {{options.levelName}}\n        </span>\n\n        <div class="col3">\n            <span ng-show=\'!options.disable\' class="btn btn-sm btn-warning"\n                  ng-click="onDel()">删除</span>\n            <span ng-show=\'!options.disable\' class="btn btn-sm btn-warning"\n                  ng-click="onEdit()">编辑</span>\n        </div>\n    </div>\n    <div class="wraper-edit" ng-show="editing">\n        <form class="form-horizontal" name="levelForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.level"\n                     ng-model="editInfo.level">\n                </div>\n                <div input-control options="inputOptions.levelName"\n                     ng-model="editInfo.levelName">\n                </div>\n            </div>\n            <div class="center">\n               <span class="btn btn-sm btn-warning"\n                     ng-click="onEditSave(levelForm)">保存</span>\n                <span class="btn btn-sm btn-default"\n                      ng-click="onCancelEdit()">取消</span>\n            </div>\n        </form>\n    </div>\n</div>'),e.put("src/module/admin/directive/structureInfo/tpl.html",'<div class="admin-directive admin-directive-structureInfo">\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-sm-3 name">组织名称:</div>\n            <div class="col-sm-9 content" title="{{info.name}}">{{info.name}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">上级组织:</div>\n            <div class="col-sm-9 content" title="{{info.parentStructureName}}">\n                {{info.parentStructureName}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">负责人:</div>\n            <div class="col-sm-9 content" title="{{info.leaderName}}">\n                {{info.ownerName}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">招聘HR:</div>\n            <div class="col-sm-9 content" title="{{info.ZPHRName.join(\',\')}}">\n                {{info.recruitHRName.join(\',\')}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">薪酬HR:</div>\n            <div class="col-sm-9 content" title="{{info.XCHRName.join(\',\')}}">\n                {{info.salaryHRName.join(\',\')}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">员工关系HR:</div>\n            <div class="col-sm-9 content" title="{{info.GXHRName.join(\',\')}}">\n                {{info.relationshipHRName.join(\',\')}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">HRBP:</div>\n            <div class="col-sm-9 content"\n                 title="{{info.businessPartnerHRName.join(\',\')}}">\n                {{info.businessPartnerHRName.join(\',\')}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">培训HR:</div>\n            <div class="col-sm-9 content"\n                 title="{{info.trainingHRName.join(\',\')}}">\n                {{info.trainingHRName.join(\',\')}}\n\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">资产管理员:</div>\n            <div class="col-sm-9 content"\n                 title="{{info.assetManagerName.join(\',\')}}">\n                {{info.assetManagerName.join(\',\')}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-3 name">IT负责人:</div>\n            <div class="col-sm-9 content"\n                 title="{{info.itOwnerName.join(\',\')}}">\n                {{info.itOwnerName.join(\',\')}}\n            </div>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/disability/mod/tpl.html",'<div class="admin-structure-mod">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">新增员工</h4>\n    </div>\n\n    <div class="modal-body">\n        <form class="form-horizontal" name="modContractCompanyForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <label class="col-sm-2">员工：</label>\n                <div class="col-sm-4" name-suggestion\n                     ng-model="name">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-primary"\n                ng-click="saveHandler(modContractCompanyForm)">保存\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">关闭\n        </button>\n    </div>\n</div>\n'),e.put("src/module/admin/disability/tableTpl/name.html",'<div class="name-field" title="{{item.name}}">\n    {{item.name}}\n</div>'),e.put("src/module/admin/disability/tableTpl/opt.html",'<div>\n    <span>\n        <a class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.delClick(item)">删除</a>\n    </span>\n</div>\n'),e.put("src/module/admin/disability/tpl.html",'<h5>\n    <span>残疾员工名单</span>\n</h5>\n<div class="admin">\n    <div class="row admin-disability">\n        <div class="col-sm-6">\n            <div class="table-opt-area">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="addDisability()">新增\n                </button>\n            </div>\n            <div options="disabilityTableOptions" table-control></div>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/holiday/mod/tpl.html",'<div class="admin-structure-mod">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">{{title}}</h4>\n    </div>\n\n    <div class="modal-body">\n        <form class="form-horizontal" name="modCalendarForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.name"\n                     ng-model="name">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-primary"\n                ng-click="saveHandler(modCalendarForm)">保存\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">关闭\n        </button>\n    </div>\n</div>\n'),e.put("src/module/admin/holiday/tableTpl/name.html",'<div class="name-field pointer"\n     ng-class="{\'blue\': item.id == mainScope.cid}"\n     title="{{item.name}}"\n     ng-click="mainScope.nameClick(item)">\n    {{item.name}}\n</div>'),e.put("src/module/admin/holiday/tableTpl/opt.html",'<div>\n    <span>\n        <a class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.modifyClick(item)">\n            修改名称</a>\n    </span>\n</div>\n'),e.put("src/module/admin/holiday/tpl.html",'<h5>\n    <span>工作日配置</span>\n</h5>\n<div class="admin">\n    <div class="admin-holiday row">\n        <div class="col-sm-6 border-right">\n            <div class="table-opt-area">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="add({})">新增模板\n                </button>\n            </div>\n            <div options="tableOptions" table-control></div>\n        </div>\n        <div class="col-sm-6">\n            <div>{{curName}}</div>\n            <div class="form-inline ">\n                <div class="form-group">\n                    <label>请选择年份：</label>\n                    <select class="form-control"\n                            ng-model="query.year" ng-change="yearChangeHandler()"\n                            ng-options="m for m in years">\n                    </select>\n                </div>\n                <div>\n                <span single-select\n                      ng-model="query.month"\n                      click-handler=\'monthChangeHandler(val,index)\'\n                      values="months">\n\n                </span>\n                </div>\n            </div>\n\n            <div class="date-pick-wrap">\n                <div class="header">{{query.year}}年{{query.month}}月</div>\n                <ul class="content">\n                    <li ng-repeat="val in weeks">\n                        <span>{{val}}</span>\n                    </li>\n                    <li ng-repeat="item in days"\n                        ng-class="{\'holiday\': item.isHoliday}"\n                        ng-click="dayClickHandler(item)">\n                        <span>{{item.value}}</span>\n                        <span ng-show="item.isHoliday" class="holiday-icon">休</span>\n                    </li>\n                </ul>\n            </div>\n            <div class="row" style="text-align: center">\n                <span class="btn btn-primary" ng-click="saveHandler()">保存</span>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/level/levelAdd.html",'<div class="wraper-edit" ng-show="addingLevel">\n    <form class="form-horizontal" name="levelAddForm"\n          novalidate="novalidate">\n        <div class="form-group">\n            <div input-control options="levelOptions.level"\n                 ng-model="levelAdd.level">\n            </div>\n            <div input-control options="levelOptions.levelName"\n                 ng-model="levelAdd.levelName">\n            </div>\n        </div>\n        <div class="center">\n        <span class="btn btn-sm btn-warning"\n              ng-click="levelAdd.onSave(levelAddForm)">添加</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="levelAdd.onCancel()">取消</span>\n        </div>\n    </form>\n</div>\n'),e.put("src/module/admin/level/mod/tpl.html",'<div class="admin-level-mod">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">{{title}}</h4>\n    </div>\n\n    <div class="modal-body">\n        <form class="form-horizontal" name="modLevelForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.name"\n                     ng-model="name">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-primary"\n                ng-click="saveHandler(modLevelForm)">保存\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">关闭\n        </button>\n    </div>\n</div>\n'),e.put("src/module/admin/level/tableTpl/name.html",'<div class="name-field pointer"\n     ng-class="{\'blue\': item.id == mainScope.tid}"\n     title="{{item.name}}"\n     ng-click="mainScope.nameClick(item)">\n    {{item.name}}\n</div>'),e.put("src/module/admin/level/tableTpl/opt.html",'<div>\n    <span>\n        <a class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.modifyClick(item)">\n            修改名称</a>\n    </span>\n</div>\n'),e.put("src/module/admin/level/tpl.html",'<h5>\n    <span>等级模板配置</span>\n</h5>\n<div class="admin">\n    <div class="admin-level row">\n        <div class="col-sm-6 border-right">\n            <div class="table-opt-area">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="add({})">新增模板\n                </button>\n            </div>\n            <div options="tableOptions" table-control></div>\n        </div>\n        <div class="col-sm-6">\n            <div class="cur-name" >{{curName}}</div>\n            <div class="form-inline ">\n                <div>\n                    <span single-select\n                          ng-model="type"\n                          click-handler=\'typeChangeHandler(val,index)\'\n                          values="types">\n                    </span>\n                </div>\n            </div>\n\n            <div level-info\n                 ng-repeat="item in levelList"\n                 options="item">\n            </div>\n            <div\n                    ng-include="\'src/module/admin/level/levelAdd.html\'"></div>\n            <div class="add-wrap">\n                <span class="add" ng-click="levelAdd.addClick()">\n                    <i class="glyphicon glyphicon-plus"></i>\n                    添加等级\n                </span>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/office/mod/tpl.html",'<div class="admin-structure-mod">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">{{title}}</h4>\n    </div>\n\n    <div class="modal-body">\n        <form class="form-horizontal" name="modOfficeForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.name"\n                     ng-model="name">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-primary"\n                ng-click="saveHandler(modOfficeForm)">保存\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">关闭\n        </button>\n    </div>\n</div>\n'),e.put("src/module/admin/office/tableTpl/name.html",'<div class="name-field" title="{{item.name}}">\n    {{item.name}}\n</div>'),e.put("src/module/admin/office/tableTpl/opt.html",'<div>\n    <span>\n        <a class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.modifyClick(item)">修改</a>\n    </span>\n</div>\n'),e.put("src/module/admin/office/tpl.html",'<h5>\n    <span>工作地点配置</span>\n</h5>\n<div class="admin">\n    <div class="row admin-office">\n        <div class="col-sm-6">\n            <div class="table-opt-area">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="addOffice()">新增\n                </button>\n            </div>\n            <div options="officeTableOptions" table-control></div>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/opt/editKeyInfo/tpl.html",'<div class="hr-opt-editStructure">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">{{title}}</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="editKeyInfoForm">\n            <div class="form-group">\n                <div input-control options="inputOptions.lawName"\n                     ng-model="lawName">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.sex"\n                     ng-model="sex">\n                </div>\n            </div>\n\n            <div class="modal-footer">\n                <button type="submit" class="btn btn-primary"\n                        ng-click="save(editKeyInfoForm)">保存\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n\n</div>\n\n'),e.put("src/module/admin/opt/editStructure/tpl.html",'<div class="hr-opt-editStructure">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">{{title}}</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="editStructureForm">\n            <div class="form-group" ng-show="showName">\n                <div input-control options="inputOptions.name"\n                     ng-model="name">\n                </div>\n                <div input-control options="inputOptions.parentStructure"\n                     ng-model="parentStructure" ng-show="showParentStructure">\n                </div>\n            </div>\n            <div class="form-group" ng-show="showName">\n                <div input-control options="inputOptions.shortName"\n                     ng-model="shortName">\n                </div>\n                <div input-control options="\n                inputOptions.numberPrefix"\n                     ng-model="numberPrefix">\n                </div>\n            </div>\n            <hr>\n            <p class="sub-title">基本信息</p>\n\n            <div class="form-group">\n                <div input-control options="inputOptions.isKeyNode"\n                     ng-model="isKeyNode">\n                </div>\n                <div input-control options="inputOptions.calendar"\n                     ng-model="calendar">\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div input-control options="inputOptions.mailSuffix"\n                     ng-model="mailSuffix">\n                </div>\n                <div input-control options="\n                inputOptions.lowestSalary"\n                     ng-model="lowestSalary">\n                </div>\n            </div>\n\n            <div class="form-group" ng-show="isKeyNode">\n                <div input-control\n                     ng-show="isKeyNode" options="inputOptions.isPunchCard"\n                     ng-model="isPunchCard">\n                </div>\n            </div>\n            <div class="form-group" ng-show="isPunchCard && isKeyNode">\n                <div input-control options="inputOptions.reception"\n                     ng-model="reception">\n                </div>\n                <div input-control options="inputOptions.punchDevice"\n                     ng-model="punchDevice">\n                </div>\n            </div>\n            <div class="form-group" ng-show="isKeyNode">\n                <div input-control options="inputOptions.socialSecurityCity"\n                     ng-model="socialSecurityCity">\n                </div>\n                <div input-control options="inputOptions.mealSubsidy"\n                     ng-model="mealSubsidy">\n                </div>\n            </div>\n            <div class="form-group" ng-show="isKeyNode">\n                <div input-control options="inputOptions.taxLocal"\n                     ng-model="taxLocal">\n                </div>\n                <div input-control options="inputOptions.isWelfareDefault"\n                     ng-model="isWelfareDefault">\n                </div>\n            </div>\n\n            <div class="form-group" ng-show="isKeyNode">\n                <div input-control options="inputOptions.levelTemplate"\n                     ng-model="levelTemplate">\n                </div>\n                <div input-control options="inputOptions.isGroupNode"\n                     ng-model="isGroupNode">\n                </div>\n            </div>\n\n            <hr>\n            <p class="sub-title">人员配置</p>\n\n            <div class="form-group">\n                <div input-control options="inputOptions.owner"\n                     ng-model="owner">\n                </div>\n                <div input-control options="inputOptions.businessPartnerHR"\n                     ng-model="businessPartnerHR">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.recruitHR"\n                     ng-model="recruitHR">\n                </div>\n                <div input-control options="inputOptions.salaryHR"\n                     ng-model="salaryHR">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.relationshipHR"\n                     ng-model="relationshipHR">\n                </div>\n                <div input-control options="inputOptions.trainingHR"\n                     ng-model="trainingHR">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.assetManager"\n                     ng-model="assetManager">\n                </div>\n                <div input-control options="inputOptions.itOwner"\n                     ng-model="itOwner">\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit" class="btn btn-primary"\n                        ng-click="save(editStructureForm)">保存\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n\n</div>\n\n'),e.put("src/module/admin/permission/tpl.html",'<div class="admin-permission">\n    <h5>\n        <span>权限配置</span>\n    </h5>\n\n    <div common-info number="{{number}}"></div>\n    <div class="content-container form-horizontal">\n        <div class="form-group">\n            <div class="col-sm-2">\n                <label>权限角色分配:</label>\n            </div>\n            <div class="col-sm-8">\n                <div class="col-sm-2">\n                    <input type="checkbox" ng-model="HRBP">HRBP\n                </div>\n                <div class="col-sm-2">\n                    <input type="checkbox" ng-model="ZPHR">招聘HR\n                </div>\n                <div class="col-sm-2">\n                    <input type="checkbox" ng-model="XCHR">薪酬HR\n                </div>\n                <div class="col-sm-2">\n                    <input type="checkbox" ng-model="GXHR">员工关系角色\n                </div>\n                <div class="col-sm-2">\n                    <input type="checkbox" ng-model="PXHR">培训HR\n                </div>\n            </div>\n        </div>\n        <div class="work-title">\n            <label class="control-label">公司分配:</label>\n        <span class="add pointer" ng-click="companyAddClick()"><i\n                class="glyphicon glyphicon-plus"></i>添加</span>\n        </div>\n        <div class="add-block" ng-show=\'isAdding\'>\n            <form class="form-horizontal" name="companyAddForm"\n                  novalidate="novalidate">\n                <div class="form-group row">\n                    <label class="col-sm-1 control-label">\n                        公司:\n                    </label>\n\n                    <div class="col-sm-3">\n                        <select ng-model="add.company"\n                                class="form-control"\n                                name="company"\n                                ng-change="companyChangeHandler(add.company)"\n                                required="true"\n                                ng-options="m.id as m.name for m in add.companys">\n                        </select>\n                    </div>\n                    <label class="col-sm-1 control-label">\n                        部门:\n                    </label>\n\n                    <div class="col-sm-3">\n                        <div multi-select ng-model="add.departments"\n                             options="departmentsSelectOptions"></div>\n                    </div>\n                    <div class="col-sm-3">\n                         <span class="btn btn-sm btn-warning"\n                               ng-click="add.onSave(companyAddForm)">添加</span>\n                        <span class="btn btn-sm btn-default"\n                              ng-click="add.onCancel()">取消</span>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div ng-repeat="item in manageRange">\n            <div company-info options="item"></div>\n        </div>\n        <div class="save">\n            <button class="btn btn-sm btn-primary" ng-click="saveAuth()">保存\n            </button>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/socialSecurityCity/mod/tpl.html",'<div class="admin-socialSecurityCity-mod">\n<div class="modal-header">\n    <button type="button" class="close"\n            ng-click="closeHandler()"\n            data-dismiss="modal"><span\n            aria-hidden="true">&times;</span><span\n            class="sr-only">Close</span>\n    </button>\n    <h4 class="modal-title">{{title}}</h4>\n</div>\n\n<div class="modal-body">\n<form class="form-horizontal" name="modSocialSecurityCityForm"\n      novalidate="novalidate">\n<div class="content-block">\n    <div class="form-group">\n        <div input-control options="inputOptions.name"\n             ng-model="name">\n        </div>\n    </div>\n</div>\n<div class="content-block">\n    <p class="sub-title">社保基数配置</p>\n\n    <div class="form-group">\n        <div input-control\n             options="inputOptions.socialSecurityMin"\n             ng-model="socialSecurityMin">\n        </div>\n        <div input-control options="inputOptions.socialSecurityMax"\n             ng-model="socialSecurityMax">\n        </div>\n    </div>\n    <div class="form-group">\n        <div input-control\n             options="inputOptions.socialSecurityDefault"\n             ng-model="socialSecurityDefault">\n        </div>\n        <div input-control\n             options="inputOptions.socialSecurityBySalary"\n             ng-model="socialSecurityBySalary">\n        </div>\n    </div>\n    <div class="form-group">\n        <div input-control\n             options="inputOptions.needFiveBase"\n             ng-model="needFiveBase">\n        </div>\n    </div>\n</div>\n\n<div class="content-block">\n<p class="sub-title">五险配置</p>\n<table class="table">\n<thead>\n<tr>\n    <th> 类型</th>\n    <th> 养老保险</th>\n    <th> 失业保险</th>\n    <th> 医疗保险</th>\n    <th> 工伤保险</th>\n    <th> 生育保险</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n    <td>个人基数下限(元)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowMin"\n             ng-model="endowMin">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployMin"\n             ng-model="unemployMin">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.medicalMin"\n             ng-model="medicalMin">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryMin"\n             ng-model="injuryMin">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityMin"\n             ng-model="maternityMin">\n        </div>\n    </td>\n</tr>\n<tr>\n    <td>个人基数上限(元)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowMax"\n             ng-model="endowMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployMax"\n             ng-model="unemployMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.medicalMax"\n             ng-model="medicalMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryMax"\n             ng-model="injuryMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityMax"\n             ng-model="maternityMax">\n        </div>\n    </td>\n</tr>\n\n\n\n<tr>\n<td>公司基数下限(元)</td>\n<td>\n    <div input-control\n         options="inputOptions.endowCMin"\n         ng-model="endowCMin">\n    </div>\n</td>\n<td>\n    <div input-control\n         options="inputOptions.unemployCMin"\n         ng-model="unemployCMin">\n    </div>\n</td>\n<td>\n    <div input-control\n         options="inputOptions.medicalCMin"\n         ng-model="medicalCMin">\n    </div>\n</td>\n<td>\n    <div input-control\n         options="inputOptions.injuryCMin"\n         ng-model="injuryCMin">\n    </div>\n</td>\n<td>\n    <div input-control\n         options="inputOptions.maternityCMin"\n         ng-model="maternityCMin">\n    </div>\n</td>\n</tr>\n<tr>\n    <td>公司基数上限(元)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowCMax"\n             ng-model="endowCMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployCMax"\n             ng-model="unemployCMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.medicalCMax"\n             ng-model="medicalCMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryCMax"\n             ng-model="injuryCMax">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityCMax"\n             ng-model="maternityCMax">\n        </div>\n    </td>\n</tr>\n\n\n<tr>\n    <td>本地城镇-个人缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowLCityPP"\n             ng-model="endowLCityPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployLCityPP"\n             ng-model="unemployLCityPP">\n        </div>\n    </td>\n    <td>\n        <div input-control class="inline"\n             options="inputOptions.medicalLCityPP"\n             ng-model="medicalLCityPP">\n        </div>\n        <span class="plus">+</span>\n\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalLCityPlus"\n             ng-model="medicalLCityPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryLCityPP"\n             ng-model="injuryLCityPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityLCityPP"\n             ng-model="maternityLCityPP">\n        </div>\n    </td>\n</tr>\n\n<tr>\n    <td>本地城镇-公司缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowLCityCP"\n             ng-model="endowLCityCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployLCityCP"\n             ng-model="unemployLCityCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.medicalLCityCP"\n             ng-model="medicalLCityCP">\n        </div>\n        <span class="plus">+</span>\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalLCityCPlus"\n             ng-model="medicalLCityCPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryLCityCP"\n             ng-model="injuryLCityCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityLCityCP"\n             ng-model="maternityLCityCP">\n        </div>\n    </td>\n</tr>\n\n\n<tr>\n    <td>本地农村-个人缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowLCtryPP"\n             ng-model="endowLCtryPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployLCtryPP"\n             ng-model="unemployLCtryPP">\n        </div>\n    </td>\n    <td>\n        <div input-control class="inline"\n             options="inputOptions.medicalLCtryPP"\n             ng-model="medicalLCtryPP">\n        </div>\n        <span class="plus">+</span>\n\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalLCtryPlus"\n             ng-model="medicalLCtryPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryLCtryPP"\n             ng-model="injuryLCtryPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityLCtryPP"\n             ng-model="maternityLCtryPP">\n        </div>\n    </td>\n</tr>\n<tr>\n    <td>本地农村-公司缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowLCtryCP"\n             ng-model="endowLCtryCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployLCtryCP"\n             ng-model="unemployLCtryCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.medicalLCtryCP"\n             ng-model="medicalLCtryCP">\n        </div>\n        <span class="plus">+</span>\n\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalLCtryCPlus"\n             ng-model="medicalLCtryCPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryLCtryCP"\n             ng-model="injuryLCtryCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityLCtryCP"\n             ng-model="maternityLCtryCP">\n        </div>\n    </td>\n</tr>\n\n\n<tr>\n    <td>外地城镇-个人缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowFCityPP"\n             ng-model="endowFCityPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployFCityPP"\n             ng-model="unemployFCityPP">\n        </div>\n    </td>\n    <td>\n        <div input-control class="inline"\n             options="inputOptions.medicalFCityPP"\n             ng-model="medicalFCityPP">\n        </div>\n        <span class="plus">+</span>\n\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalFCityPlus"\n             ng-model="medicalFCityPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryFCityPP"\n             ng-model="injuryFCityPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityFCityPP"\n             ng-model="maternityFCityPP">\n        </div>\n    </td>\n</tr>\n\n<tr>\n    <td>外地城镇-公司缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowFCityCP"\n             ng-model="endowFCityCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployFCityCP"\n             ng-model="unemployFCityCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.medicalFCityCP"\n             ng-model="medicalFCityCP">\n        </div>\n        <span class="plus">+</span>\n\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalFCityCPlus"\n             ng-model="medicalFCityCPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryFCityCP"\n             ng-model="injuryFCityCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityFCityCP"\n             ng-model="maternityFCityCP">\n        </div>\n    </td>\n</tr>\n\n\n<tr>\n    <td>外地农村-个人缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowFCtryPP"\n             ng-model="endowFCtryPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployFCtryPP"\n             ng-model="unemployFCtryPP">\n        </div>\n    </td>\n    <td>\n        <div input-control class="inline"\n             options="inputOptions.medicalFCtryPP"\n             ng-model="medicalFCtryPP">\n        </div>\n        <span class="plus">+</span>\n\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalFCtryPlus"\n             ng-model="medicalFCtryPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryFCtryPP"\n             ng-model="injuryFCtryPP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityFCtryPP"\n             ng-model="maternityFCtryPP">\n        </div>\n    </td>\n</tr>\n<tr>\n    <td>外地农村-公司缴纳比例(%)</td>\n    <td>\n        <div input-control\n             options="inputOptions.endowFCtryCP"\n             ng-model="endowFCtryCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.unemployFCtryCP"\n             ng-model="unemployFCtryCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.medicalFCtryCP"\n             ng-model="medicalFCtryCP">\n        </div>\n        <span class="plus">+</span>\n\n        <div input-control class="inline plus-input"\n             options="inputOptions.medicalFCtryCPlus"\n             ng-model="medicalFCtryCPlus">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.injuryFCtryCP"\n             ng-model="injuryFCtryCP">\n        </div>\n    </td>\n    <td>\n        <div input-control\n             options="inputOptions.maternityFCtryCP"\n             ng-model="maternityFCtryCP">\n        </div>\n    </td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class="content-block">\n    <p class="sub-title">公积金配置</p>\n\n    <div class="form-group">\n        <div input-control options="inputOptions.houseFundMin"\n             ng-model="houseFundMin">\n        </div>\n        <div input-control options="inputOptions.houseFundMax"\n             ng-model="houseFundMax">\n        </div>\n    </div>\n    <div class="form-group">\n        <div input-control options="inputOptions.houseFundDefault"\n             ng-model="houseFundDefault">\n        </div>\n        <div input-control options="inputOptions.houseFundBySalary"\n             ng-model="houseFundBySalary">\n        </div>\n    </div>\n    <div class="form-group">\n        <div input-control\n             options="inputOptions.houseFundPersonalPer"\n             ng-model="houseFundPersonalPer">\n        </div>\n        <div input-control\n             options="inputOptions.houseFundCompanyPer"\n             ng-model="houseFundCompanyPer">\n        </div>\n    </div>\n</div>\n</form>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn btn-primary"\n            ng-click="saveHandler(modSocialSecurityCityForm)">保存\n    </button>\n    <button type="button" class="btn btn-default"\n            ng-click="closeHandler()"\n            data-dismiss="modal">关闭\n    </button>\n</div>\n</div>\n'),e.put("src/module/admin/socialSecurityCity/tableTpl/name.html",'<div class="name-field" title="{{item.name}}">\n    {{item.name}}\n</div>'),e.put("src/module/admin/socialSecurityCity/tableTpl/opt.html",'<div>\n    <span>\n        <a class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.modifyClick(item)">修改</a>\n    </span>\n</div>\n'),e.put("src/module/admin/socialSecurityCity/tpl.html",'<h5>\n    <span>社保缴纳城市配置</span>\n</h5>\n<div class="admin">\n    <div class="row admin-socialSecurityCity">\n        <div class="col-sm-6">\n            <div class="table-opt-area">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="addCity()">新增\n                </button>\n            </div>\n            <div options="cityTableOptions" table-control></div>\n        </div>\n    </div>\n</div>'),e.put("src/module/admin/structure/tpl.html",'<h5>\n    <span>组织架构变更</span>\n</h5>\n<div class="admin admin-structure clearFloat">\n    <div class="tree-container">\n        <treecontrol class="tree-light" tree-model="treeData"\n                     options="treeOptions"\n                     selected-node="selectedNode"\n                     expanded-nodes="expandedNodes"\n                     on-selection="onNodeSelect(node)">\n        <span class="tree-node">\n            <span class="node-name" ng-click="viewNode(node)"\n                  ng-class="{\'disabled\': node.disable}"\n                  node-id="{{node.id}}" level="{{node.level}}">\n                {{node.label}}\n            </span>\n            <i\n                    ng-show="!node.disable"\n                    class="glyphicon glyphicon-plus-sign blue opt" title="添加"\n                    ng-click="addNode(node)"></i>\n            <i ng-show="!node.disable" class="glyphicon glyphicon-cog blue opt"\n               title="编辑"\n               ng-click="editNode(node)"></i>\n            <i ng-show="!node.disable"\n               class="glyphicon glyphicon-ban-circle blue opt" title="隐藏"\n               ng-click="delNode(node)"></i>\n            <i ng-show="node.disable"\n               class="glyphicon glyphicon-play-circle blue opt" title="恢复"\n               ng-click="enableNode(node)"></i>\n        </span>\n            <span class="line" ng-show="node.parentId"></span>\n        </treecontrol>\n    </div>\n    <div class="structure-info" id="structure-info">\n        <div class="container-fluid">\n            <div class="row">\n                <label class="col-sm-3 name">组织名称:</label>\n\n                <div class="col-sm-8 content" title="{{info.name}}">\n                    {{info.name}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">简称:</label>\n\n                <div class="col-sm-8 content" title="{{info.shortName}}">\n                    {{info.shortName}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">员工编号序列:</label>\n\n                <div class="col-sm-8 content" title="{{info.numberPrefix}}">\n                    {{info.numberPrefix}}\n                </div>\n            </div>\n            <div class="row" ng-show="hasParentNode">\n                <label class="col-sm-3 name">上级组织:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.parentStructureName}}">\n                    {{info.parentStructureName}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">负责人:</label>\n\n                <div class="col-sm-8 content" title="{{info.leaderName}}">\n                    {{info.ownerName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">招聘HR:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.ZPHRName.join(\',\')}}">\n                    {{info.recruitHRName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">薪酬HR:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.XCHRName.join(\',\')}}">\n                    {{info.salaryHRName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">员工关系HR:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.GXHRName.join(\',\')}}">\n                    {{info.relationshipHRName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">HRBP:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.businessPartnerHRName.join(\',\')}}">\n                    {{info.businessPartnerHRName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">培训HR:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.trainingHRName.join(\',\')}}">\n                    {{info.trainingHRName.join(\',\')}}\n\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">资产管理员:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.assetManagerName.join(\',\')}}">\n                    {{info.assetManagerName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">IT负责人:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.itOwnerName.join(\',\')}}">\n                    {{info.itOwnerName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">工资结算结点:</label>\n\n                <div class="col-sm-8 content"> {{ info.isKeyNode|boolean}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">社保缴纳城市:</label>\n\n                <div class="col-sm-8 content"> {{ info.socialSecurityCityName}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">本地缴纳所得税:</label>\n\n                <div class="col-sm-8 content"> {{ info.taxLocal|boolean}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">默认有职位福利费:</label>\n\n                <div class="col-sm-8 content"> {{info.isWelfareDefault|boolean}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">职级体系模板:</label>\n\n                <div class="col-sm-8 content"> {{ info.levelTemplateName}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">餐补:</label>\n\n                <div class="col-sm-8 content"> {{\n                    info.mealSubsidy|emptyFormat}}元/天\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">是否打卡:</label>\n\n                <div class="col-sm-8 content"> {{ info.isPunchCard|punchCard}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">前台:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.receptionName.join(\',\')}}">\n                    {{info.receptionName.join(\',\')}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">打卡机前缀:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.punchDevice}}">\n                    {{info.punchDevice}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">日历模板:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.calendarName}}">\n                    {{info.calendarName}}\n                </div>\n            </div>\n            <div class="row">\n                <label class="col-sm-3 name">邮箱后缀:</label>\n\n                <div class="col-sm-8 content"\n                     title="{{info.mailSuffix}}">\n                    {{info.mailSuffix}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'),e.put("src/module/admin/tpl.html","<div ui-view></div>"),e.put("src/module/apply/detail/formalApply/tpl.html",'<div class="apply-detail-leave">\n    <h5>\n        员工信息\n    </h5>\n\n    <div class="container" apply-staff-info number="{{number}}">\n    </div>\n    <h5>\n        试用期员工转正申请\n    </h5>\n\n    <div class="change-info-container">\n        <div class="row">\n            <div class="col-sm-2">\n                目标设定：\n            </div>\n            <div class="col-sm-9" ng-bind-html="applyInfo.workTarget">\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-2">\n                转正申请：\n            </div>\n            <div class="col-sm-9" ng-bind-html="applyInfo.contentAfter.formalApply">\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/detail/infos/tpl.html",'<div class="apply-detail">\n    <div class="apply-detail-structureAndSalary">\n        <h5>\n            员工信息\n        </h5>\n\n        <div class="container" apply-staff-info number="{{number}}">\n        </div>\n        <h5>\n            {{subTitle}}\n        </h5>\n\n        <div class="change-info-container">\n            <div ng-repeat="item in changeList" class="change-info row">\n                <div class="col-sm-2">\n                    {{item.fieldName}}:\n                </div>\n                <div class="col-sm-4">\n                    {{item.oldVal|emptyFormat}}\n                </div>\n                <div class="col-sm-2">\n                    变更为:\n                </div>\n                <div class="col-sm-4">\n                    {{item.newVal|emptyFormat}}\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="col-sm-2">\n                    生效日期:\n                </div>\n                <div class="col-sm-9">\n                    {{applyInfo.executeDate|dateFormat}}\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="col-sm-2">\n                    变更原因:\n                </div>\n                <div class="col-sm-9">\n                    {{applyInfo.reason}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/detail/leave/tpl.html",'<div class="apply-detail-leave">\n    <h5>\n        员工信息\n    </h5>\n\n    <div class="container" apply-staff-info number="{{number}}">\n    </div>\n    <h5>\n        离职信息\n    </h5>\n\n    <div class="change-info-container">\n        <div class="row">\n            <div class="col-sm-2">\n                最后工作时间:\n            </div>\n            <div class="col-sm-9">\n                {{applyInfo.contentAfter.leaveDate|dateFormat}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-2">\n                离职原因:\n            </div>\n            <div class="col-sm-9">\n                {{applyInfo.contentAfter.reasonName}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-2">\n                离职详细信息:\n            </div>\n            <div class="col-sm-9">\n                {{applyInfo.contentAfter.detail}}\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/detail/offerChange/tpl.html",'<div class="apply-detail-offerChange">\n    <h5>\n        变动信息\n    </h5>\n\n    <div class="change-info-container">\n        <div ng-repeat="item in changeList" class="change-info row">\n            <div>\n                <div class="col-sm-2 before-title">\n                    {{item.fieldName}}:\n                </div>\n                <div class="col-sm-4" ng-if="item.field!=\'resumeUrl\'">\n                    {{item.oldVal}}\n                </div>\n                <div class="col-sm-4" ng-if="item.field==\'resumeUrl\'">\n                    <a href="{{item.oldVal}}" target="_blank">下载</a>\n                </div>\n                <div class="col-sm-1">\n                    变更为:\n                </div>\n                <div class="col-sm-4" ng-if="item.field!=\'resumeUrl\'">\n                    {{item.newVal}}\n                </div>\n                <div class="col-sm-4" ng-if="item.field==\'resumeUrl\'">\n                    <a href="{{item.newVal}}" target="_blank">下载</a>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-sm-2">\n                变更原因:\n            </div>\n            <div class="col-sm-9">\n                {{applyInfo.reason}}\n            </div>\n        </div>\n    </div>\n    <div ui-view></div>\n</div>\n'),e.put("src/module/apply/detail/offerInfos/tpl.html",'<div class="apply-detail-offerInfos form-horizontal">\n    <h5>\n        部门人员信息\n    </h5>\n\n    <div class="content-container" style="padding-bottom: 0" ng-hide="userInfo.isAgent">\n        <table class="table table-bordered table-condensed">\n            <tr>\n                <th>&nbsp;</th>\n                <th>正式员工</th>\n                <th>实习生</th>\n                <th>劳务</th>\n            </tr>\n            <tr ng-repeat="item in headCount">\n                <td>{{item.structureName}}</td>\n                <td>{{item.regularCount}}</td>\n                <td>{{item.traineeCount}}</td>\n                <td>{{item.labourserviceCount}}</td>\n            </tr>\n        </table>\n    </div>\n\n    <div class="content-container" style="padding-bottom: 0" ng-show="userInfo.isAgent">\n        <table class="table table-bordered table-condensed table-agent">\n            <tr>\n                <td>{{structureName}}</td>\n                <td>{{agentCount}}</td>\n            </tr>\n        </table>\n    </div>\n\n    <h5>\n        候选人详细信息\n    </h5>\n\n    <div class="content-container">\n        <!--非合作和半自然信息 -->\n        <div class="content-block" ng-hide="userInfo.isAgent">\n            <p class="sub-title">自然信息</p>\n\n            <div class="form-group">\n                <div class="col-sm-2">法律名:</div>\n                <div class="col-sm-4">{{offerInfos.lawName}}</div>\n                <div class="col-sm-2">常用名:</div>\n                <div class="col-sm-4">{{offerInfos.name}}</div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">姓名拼音:</div>\n                <div class="col-sm-4">{{offerInfos.namePinyin}}</div>\n                <div class="col-sm-2">性别:</div>\n                <div class="col-sm-4">{{offerInfos.sex|sex}}</div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">学历:</div>\n                <div class="col-sm-4">{{offerInfos.degree|degree}}</div>\n                <div class="col-sm-2">身份证号:</div>\n                <div class="col-sm-4">{{offerInfos.idCardNumber}}</div>\n            </div>\n        </div>\n        <!-- 合作伙伴自然信息-->\n        <div class="content-block" ng-show="userInfo.isAgent">\n            <p class="sub-title">自然信息</p>\n\n            <div class="form-group">\n                <div class="col-sm-2">法律名:</div>\n                <div class="col-sm-4">{{offerInfos.lawName}}</div>\n                <div class="col-sm-2">性别:</div>\n                <div class="col-sm-4">{{offerInfos.sex|sex}}</div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">学历:</div>\n                <div class="col-sm-4">{{offerInfos.degree|degree}}</div>\n                <div class="col-sm-2">身份证号:</div>\n                <div class="col-sm-4">{{offerInfos.idCardNumber}}</div>\n            </div>\n        </div>\n\n        <!---联系方式-->\n        <div class="content-block">\n            <p class="sub-title">联系方式</p>\n\n            <div class="form-group">\n                <div class="col-sm-2">手机号:</div>\n                <div class="col-sm-4">{{offerInfos.mobile}}</div>\n                <div class="col-sm-2">邮箱:</div>\n                <div class="col-sm-4">{{offerInfos.personalEmail}}</div>\n            </div>\n        </div>\n\n\n        <!---非合作伙伴基本信息-->\n        <div class="content-block" ng-hide="userInfo.isAgent">\n            <p class="sub-title">基本信息</p>\n\n            <div class="form-group">\n                <div class="col-sm-2">员工类型:</div>\n                <div class="col-sm-4">{{offerInfos.type | type}}</div>\n                <div class="col-sm-2">直属领导:</div>\n                <div class="col-sm-4">{{offerInfos.leaderName}}</div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-2">组织架构:</div>\n                <div class="col-sm-4">{{offerInfos.structureName}}</div>\n                <div class="col-sm-2">等级:</div>\n                <div class="col-sm-4">{{offerInfos.level}}</div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">职位:</div>\n                <div class="col-sm-4">{{offerInfos.positionName}}</div>\n                <div class="col-sm-2">入职时间:</div>\n                <div class="col-sm-4">{{offerInfos.promiseEnterDate|dateFormat}}\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">转正日期:</div>\n                <div class="col-sm-4">\n                    {{offerInfos.formalDate|dateFormat}}\n                </div>\n                <div class="col-sm-2">合同签约公司:</div>\n                <div class="col-sm-4">{{offerInfos.contractCompanyName}}</div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-2">社保缴纳城市:</div>\n                <div class="col-sm-4">{{offerInfos.socialSecurityCityName}}\n                </div>\n            </div>\n\n        </div>\n\n        <!---合作伙伴基本信息-->\n        <div class="content-block" ng-show="userInfo.isAgent">\n            <p class="sub-title">基本信息</p>\n\n            <div class="form-group">\n                <div class="col-sm-2">入职时间:</div>\n                <div class="col-sm-4">{{offerInfos.promiseEnterDate|dateFormat}}\n                </div>\n                <div class="col-sm-2">直属领导:</div>\n                <div class="col-sm-4">{{offerInfos.leaderName}}</div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-2">组织架构:</div>\n                <div class="col-sm-4">{{offerInfos.structureName}}</div>\n                <div class="col-sm-2">等级:</div>\n                <div class="col-sm-4">{{offerInfos.level}}</div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">职位:</div>\n                <div class="col-sm-4">{{offerInfos.positionName}}</div>\n            </div>\n        </div>\n\n\n\n        <!---薪酬信息-->\n        <div class="content-block" ng-hide="userInfo.isAgent" >\n            <p class="sub-title">薪酬信息</p>\n\n            <div class="form-group">\n                <div class="col-sm-2">基本工资:</div>\n                <div class="col-sm-4">{{offerInfos.baseSalary|salary}}</div>\n                <div class="col-sm-2">试用期基本工资:</div>\n                <div class="col-sm-4">\n                    {{offerInfos.probationarySalary|salary}}\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">社保缴纳基数：</div>\n                <div class="col-sm-4">\n                    {{offerInfos.socialSecurityBase|unit:\'元\'}}\n                </div>\n                <div class="col-sm-2">公积金缴纳基数：</div>\n                <div class="col-sm-4">{{offerInfos.houseFundBase|unit:\'元\'}}\n                </div>\n            </div>\n            <div class="form-group" ng-show="needFiveBase">\n                <table width="100%" class="table1">\n                    <tr class="thead">\n                        <td class="td1">&nbsp;</td>\n                        <td>养老</td>\n                        <td>失业</td>\n                        <td>医疗</td>\n                        <td>工伤</td>\n                        <td>生育</td>\n                    </tr>\n                    <tr>\n                        <td class="col1 td1">\n                            五险基数：\n                        </td>\n                        <td>\n                            {{offerInfos.endowBase|unit:\'元\'}}\n                        </td>\n                        <td>\n                            {{offerInfos.unemployBase|unit:\'元\'}}\n                        </td>\n                        <td>\n                            {{offerInfos.medicalBase|unit:\'元\'}}\n                        </td>\n                        <td>\n                            {{offerInfos.injuryBase|unit:\'元\'}}\n                        </td>\n                        <td>\n                            {{offerInfos.maternityBase|unit:\'元\'}}\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">通讯补贴：</div>\n                <div class="col-sm-4">{{offerInfos.mobileSubsidy|salary}}</div>\n                <div class="col-sm-2">交通补贴：</div>\n                <div class="col-sm-4">{{offerInfos.trafficSubsidy|salary}}</div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">工资类型:</div>\n                <div class="col-sm-4">{{offerInfos.salaryType|salaryType}}\n                </div>\n            </div>\n        </div>\n        <!---其他信息-->\n        <div class="content-block">\n            <p class="sub-title">其他信息</p>\n\n            <div class="form-group">\n                <div class="col-sm-2">电子简历:</div>\n                <div class="col-sm-4">\n                    <a href="{{offerInfos.resumeUrl}}"\n                       ng-show="offerInfos.resumeUrl"\n                       target="_blank">\n                        下载\n                    </a>\n                </div>\n                <div class="col-sm-2" ng-hide="userInfo.isAgent">配备电脑:</div>\n                <div class="col-sm-4" ng-hide="userInfo.isAgent">{{offerInfos.pcType | pcType}}</div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-2">入职推荐途径:</div>\n                <div class="col-sm-4">{{offerInfos.recommendType|\n                    recommendType}}\n                </div>\n                <div class="col-sm-2">推荐详情:</div>\n                <div class="col-sm-4">{{offerInfos.recommendDetail}}</div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-2">备注:</div>\n                <div class="col-sm-8">{{offerInfos.detail}}</div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/detail/tpl.html",'<div class="apply-detail">\n    <h4>\n        审批详情-{{title}}\n    </h4>\n\n    <div class="opt-area" ng-show="showOptArea">\n        <form class="form-inline">\n            <label class="radio-inline">\n                <input type="radio" name="approveResult"\n                       ng-model="approveResult"\n                       value="2">通过\n            </label>\n            <label class="radio-inline">\n                <input type="radio" name="approveResult"\n                       ng-model="approveResult" value="3">拒绝&nbsp;\n            </label>\n\n            <div class="form-group">\n                <textarea class="form-control handle-detail" ng-model="detail"\n                          maxlength="500"\n                          placeholder="请输入审批意见(不超过500字)"></textarea>\n            </div>\n            <div class="form-group">\n                <button class="btn btn-primary btn-sm" ng-click="onSubmit()">提\n                    交\n                </button>\n            </div>\n        </form>\n    </div>\n    <div class="apply-content">\n        <div class="left">\n            <div ui-view></div>\n        </div>\n        <div class="right">\n            <div>审批记录</div>\n            <div>\n                <div ng-repeat="item in applyInfo.handleList">\n                    <p class="apply-name-line">\n                        <span class="name">\n                            <i class="glyphicon status-icon"\n                               ng-class="{\'glyphicon-ok-sign blue\':item.status==statusCode.TO_EXCUTE,\n                               \'glyphicon-remove-sign red\':item.status==statusCode.REJECT,\n                               \'glyphicon-question-sign gray\':(item.status==statusCode.TO_HANDLE||item.status==statusCode.IN_PROCESS)\n                               }"></i>\n                            &nbsp;{{item.name}}\n                        </span>\n                        <span class="date" ng-show="item.status==statusCode.TO_EXCUTE||item.status==statusCode.REJECT">\n                            {{item.handleTime | timeFormat}}</span>\n                    </p>\n\n                    <P>\n\n                    <div ng-show="!$last">\n\n                        <i class="up-arrow"\n                           ng-class="{\'up-arrow-blue\':(item.status==statusCode.TO_EXCUTE || item.status==statusCode.REJECT)}"></i>\n\n                        <div ng-class="{\'arrow-line\':!$last,\n                        \'arrow-line-blue\': (item.status==statusCode.TO_EXCUTE || item.status==statusCode.REJECT)}">\n\n                        <span class="status">\n                            {{item.status | applyHandleStatus}}\n                        </span>\n                            <span class="detail">\n                                {{item.detail}}\n                            </span>\n                        </div>\n                    </div>\n                    <span class="detail" ng-show="$last">发起审批</span>\n                    </P>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/detail/transFullMember/tpl.html",'<div class="apply-detail-structureAndSalary">\n    <h5>\n        员工信息\n    </h5>\n    <div class="container" apply-staff-info number="{{number}}">\n    </div>\n    <h5>\n        转正后信息\n    </h5>\n\n    <div class="trans-full-time">\n        <div class="row">\n            <div class="col-sm-2">\n                实习/劳务截止时间:\n            </div>\n            <div class="col-sm-4">\n                {{ contentAfter.internsEndDate | dateFormat}}\n            </div>\n            <div class="col-sm-2">\n                实习生转正日期:\n            </div>\n            <div class="col-sm-4">\n                {{ contentAfter.positiveDate| dateFormat}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-2">\n                社保缴纳城市:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.socialSecurityCityName}}\n            </div>\n        </div>\n        <hr/>\n        <div class="row">\n            <div class="col-sm-2">\n                组织架构:\n            </div>\n            <div class="col-sm-9">\n                {{contentAfter.structureName}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-2">\n                等级:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.level}}\n            </div>\n            <div class="col-sm-2">\n                职位名称:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.positionName}}\n            </div>\n        </div>\n\n\n        <div class="row">\n            <div class="col-sm-2">\n                基本工资:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.baseSalary|salary}}\n            </div>\n            <div class="col-sm-2">\n                试用期基本工资:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.probationarySalary|salary}}\n            </div>\n\n        </div>\n        <div class="row">\n            <div class="col-sm-2">\n                工资类型:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.salaryType|salaryType}}\n            </div>\n            <div class="col-sm-2">\n                直属领导:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.leaderName}}\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-sm-2">\n                社保缴纳基数:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.socialSecurityBase|unit:\'元\'}}\n            </div>\n            <div class="col-sm-2">\n                公积金缴纳基数:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.houseFundBase|unit:\'元\'}}\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-sm-2">\n                通讯补贴:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.mobileSubsidy|salary}}\n            </div>\n            <div class="col-sm-2">\n                交通补贴:\n            </div>\n            <div class="col-sm-4">\n                {{contentAfter.trafficSubsidy|salary}}\n            </div>\n        </div>\n        <div class="row detail">\n            <div class="col-sm-2">\n                变动原因:\n            </div>\n            <div class="col-sm-8">\n                {{applyInfo.reason}}\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/detail/workTarget/tpl.html",'<div class="apply-detail-leave">\n    <h5>\n        员工信息\n    </h5>\n\n    <div class="container" apply-staff-info number="{{number}}">\n    </div>\n    <h5>\n        试用期工作目标\n    </h5>\n\n    <div class="change-info-container">\n        <div class="row">\n            <div class="col-sm-2">\n                目标设定：\n            </div>\n            <div class="col-sm-9" ng-bind-html="applyInfo.contentAfter.workTarget">\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/directive/staffInfo/tpl.html",'<div class="apply-directive-staffInfo container">\n    <div class="row">\n        <div class="col-sm-2">\n            姓名:\n        </div>\n        <div class="col-sm-4">\n            {{userCommonInfo.name}}\n        </div>\n        <div class="col-sm-2">\n            员工编号:\n        </div>\n        <div class="col-sm-4">\n            {{userCommonInfo.displayNumber}}\n        </div>\n    </div>\n    <div class="row" ng-show="!isChangeProbation">\n        <div class="col-sm-2">\n            性别:\n        </div>\n        <div class="col-sm-4">\n            {{userCommonInfo.sex|sex}}\n        </div>\n        <div class="col-sm-2">\n            邮箱地址:\n        </div>\n        <div class="col-sm-4">\n            {{userCommonInfo.email}}\n        </div>\n    </div>\n    <div class="row" ng-show="!isChangeProbation">\n        <div class="col-sm-2" ng-hide="isAgent">\n            员工类型:\n        </div>\n        <div class="col-sm-4" ng-hide="isAgent">\n            {{userCommonInfo.type | type}}\n        </div>\n        <div class="col-sm-2" ng-show="isAgent">\n            入职时间:\n        </div>\n        <div class="col-sm-4" ng-show="isAgent">\n            {{userCommonInfo.enterTime|dateFormat}}\n            <strong ng-if="userCommonInfo.formalTime" >\n            (转正日期：{{userCommonInfo.formalTime|dateFormat}})\n            </strong>\n        </div>\n\n        <div class="col-sm-2">\n            组织架构:\n        </div>\n        <div class="col-sm-4" title="{{userCommonInfo.structureName}}">\n            {{userCommonInfo.structureName}}\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-2">\n            等级:\n        </div>\n        <div class="col-sm-4">\n            {{userCommonInfo.level}}\n        </div>\n        <div class="col-sm-2">\n            职位名称:\n        </div>\n        <div class="col-sm-4">\n            {{userCommonInfo.positionName}}\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-2">\n            直属领导:\n        </div>\n        <div class="col-sm-4">\n            {{userCommonInfo.leaderName}}\n        </div>\n        <div class="col-sm-2" ng-hide="isAgent">\n            入职时间:\n        </div>\n        <div class="col-sm-4" ng-hide="isAgent">\n            {{userCommonInfo.enterTime|dateFormat}}\n            <strong ng-if="userCommonInfo.formalTime && showFormalDate" >\n            (转正日期：{{userCommonInfo.formalTime|dateFormat}})\n            </strong>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/apply/list/subTab/tpl.html",'<div class="">\n    <ul class=\'list-inline sub-tab\' ng-hide="userInfo.isAgent">\n        <li role="presentation" ui-sref-active="active">\n            <a\n                    ui-sref="{{entry}}.all">全部 ( {{count.all}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.staffEnter">新员工入职 ( {{count.staffEnter}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.rejoin">员工再入职 ( {{count.rejoin}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.leave">离职处理 ( {{count.leave}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.workInfo">薪酬岗位调整 ( {{count.workInfo}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.structure">人事调动 ( {{count.structure}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.transFullMember">实习生/劳务转正式 ( {{count\n                .transFullMember}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.workTarget">试用期工作目标( {{count.workTarget}})</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.formalApply">试用期转正申请( {{count.formalApply}})</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.multiple">综合审批 ( {{count\n                .multiple}} )</a>\n        </li>\n    </ul>\n    <ul class=\'list-inline sub-tab\' ng-show="userInfo.isAgent">\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.all">全部 ( {{count.all}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.agentEnter">新员工入职 ( {{count.agentEnter}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.agentRejoin">员工再入职 ( {{count.agentRejoin}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.agentStructure">人事调动 ( {{count.agentStructure}} )</a>\n        </li>\n        <li role="presentation" ui-sref-active="active">\n            <a ui-sref="{{entry}}.agentLeave">离职处理 ( {{count.agentLeave}} )</a>\n        </li>\n    </ul>\n    <div ui-view></div>\n</div>\n'),e.put("src/module/apply/list/table/tableTpl/opt.html",'<div class="inline-opt-area">\n        <span class="opt" ng-show="$parent.$parent.$parent.$parent.showPassBtn">\n        <a ng-click="$parent.$parent.$parent.$parent.onSinglePassClick(item)"\n           class="pointer"\n                >通过\n        </a>\n        </span>\n    &nbsp;&nbsp;\n        <span class="opt"\n              ng-show="$parent.$parent.$parent.$parent.showRejectBtn">\n        <a ng-click="$parent.$parent.$parent.$parent.onSingleRejectClick(item)"\n           class="pointer"\n                >拒绝</a>\n        </span>\n    <span class="opt"\n          ng-show="item.canBeCanceled && $parent.$parent.$parent.$parent.showCancelBtn">\n        <a ng-click="$parent.$parent.$parent.$parent.onSingleCancelClick(item)"\n           class="pointer"\n                >撤回</a>\n    </span>\n</div>'),e.put("src/module/apply/list/table/tableTpl/title.html",'<div class="">\n    <a class="apply-title"\n       ng-click="$parent.$parent.$parent.$parent.onTitleClick(item)"\n            >{{item.title}}</a>\n</div>'),e.put("src/module/apply/list/table/tpl.html",'<div class="">\n    <div class="table-opt-area">\n        <button class="btn btn-primary btn-sm" ng-click="onPassClick()"\n                ng-show="showPassBtn"\n                ng-disabled="!tableOptions.selectedItems.length">批量通过\n        </button>\n        <button class="btn btn-warning btn-sm" ng-click="onRejectClick()"\n                ng-show="showRejectBtn"\n                ng-disabled="!tableOptions.selectedItems.length">批量拒绝\n        </button>\n    </div>\n    <div table-control options="tableOptions">\n    </div>\n</div>\n'),e.put("src/module/apply/list/tpl.html",'<div class="apply-list">\n    <ul class="nav nav-tabs">\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'apply.list.toHandle\')}">\n            <a\n                    ui-sref="apply.list.toHandle.all">待审批</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'apply.list.hasHandled\')}">\n            <a ui-sref="apply.list.hasHandled.all">已审批</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'apply.list.promoteMyself\')}">\n            <a ui-sref="apply.list.promoteMyself.all">我发起的审批</a>\n        </li>\n    </ul>\n    <div ui-view></div>\n</div>\n'),e.put("src/module/apply/opt/changeProbation/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-changeProbation">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title">试用期变更</h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                试用期变更信息\n            </h5>\n\n            <form class="form-horizontal" role="form" novalidate\n                  name="changeProbationForm">\n                <div class="form-group">\n                    <div input-control options="inputOptions.probationEndDate" errorOption="errorOption"\n                         ng-model="probationEndDate">\n                    </div>\n                </div>\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.commonts"\n                         ng-model="comments">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(changeProbationForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n\n</div>\n'),e.put("src/module/apply/opt/changeSalary/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-changeSalary">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title">岗位薪酬调整申请</h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                岗位薪酬调整\n            </h5>\n\n            <form class="form-horizontal" role="form" novalidate\n                  name="changeSalaryForm">\n                <div class="form-group">\n                    <div class="col-sm-2">等级:</div>\n                    <div class="col-sm-3">{{workInfo.level|emptyFormat}}</div>\n                    <div input-control options="inputOptions.level"\n                         ng-model="level">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">职位名称:</div>\n                    <div class="col-sm-3">\n                        {{workInfo.positionName|emptyFormat}}\n                    </div>\n                    <div input-control options="inputOptions.position"\n                         ng-model="position">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">基本工资:</div>\n                    <div class="col-sm-3">{{salaryInfo.baseSalary | salary}}\n                    </div>\n                    <div input-control options="inputOptions.baseSalary"\n                         ng-model="baseSalary">\n                    </div>\n                </div>\n                <div class="form-group"ng-show="canModProbationarySalary">\n                    <div class="col-sm-2">试用期基本工资:</div>\n                    <div class="col-sm-3">{{salaryInfo.probationarySalary|\n                        salary}}\n                    </div>\n                    <div input-control options="inputOptions.probationarySalary"\n                         ng-model="probationarySalary">\n                    </div>\n                </div>\n                <div class="form-group" style="position: relative">\n                    <div class="col-sm-2">社保缴纳基数\n                        :\n                    </div>\n                    <div class="col-sm-3">\n                        {{salaryInfo.socialSecurityBase|emptyFormat}}\n                    </div>\n                    <div input-control options="inputOptions.socialSecurityBase"\n                         ng-model="socialSecurityBase">\n                    </div>\n                    <div class="red base-tip">无特殊情况，经理无需发起基数调整申请</div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">公积金缴纳基数:</div>\n                    <div class="col-sm-3">\n                        {{salaryInfo.houseFundBase|emptyFormat}}\n                    </div>\n                    <div input-control options="inputOptions.houseFundBase"\n                         ng-model="houseFundBase">\n                    </div>\n                </div>\n                <div class="form-group" ng-show="needFiveBase">\n                    <div class="col-sm-5">\n                        <table width="100%" class="table1">\n                            <tr class="thead">\n                                <td class="td1">&nbsp;</td>\n                                <td>养老</td>\n                                <td>失业</td>\n                                <td>医疗</td>\n                                <td>工伤</td>\n                                <td>生育</td>\n                            </tr>\n                            <tr>\n                                <td class="col1 td1">\n                                    五险基数：\n                                </td>\n                                <td>\n                                    {{salaryInfo.endowBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.unemployBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.medicalBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.injuryBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.maternityBase|unit:\'元\'}}\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    <div class="col-sm-7 ">\n                        <div five-base></div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">通讯补贴\n                        <i popover="分公司师资专员和市场专员享受每月最多100元的交通补贴"\n                           popover-trigger="mouseenter" popover-placement="top"\n                           popover-append-to-body="true"\n                           class="glyphicon glyphicon-question-sign"></i>\n                        :\n                    </div>\n                    <div class="col-sm-3">{{salaryInfo.mobileSubsidy| salary}}\n                    </div>\n                    <div input-control options="inputOptions.mobileSubsidy"\n                         ng-model="mobileSubsidy">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">交通补贴\n                        <i popover="分公司师资专员和市场专员享受每月最多100元的通讯补贴"\n                           popover-trigger="mouseenter" popover-placement="top"\n                           popover-append-to-body="true"\n                           class="glyphicon glyphicon-question-sign"></i>\n                        :\n                    </div>\n                    <div class="col-sm-3">{{salaryInfo.trafficSubsidy| salary}}\n                    </div>\n                    <div input-control options="inputOptions.trafficSubsidy"\n                         ng-model="trafficSubsidy">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">工资类型:</div>\n                    <div class="col-sm-3">{{salaryInfo.salaryType | salaryType}}\n                    </div>\n                    <div input-control options="inputOptions.salaryType"\n                         ng-model="salaryType">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.executeDate"\n                         ng-model="executeDate">\n                    </div>\n                </div>\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.reason"\n                         ng-model="reason">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(changeSalaryForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n'),e.put("src/module/apply/opt/changeStructure/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-changeStructure">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title">人事调动申请</h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                人事调动\n            </h5>\n\n            <form class="form-horizontal" role="form" novalidate\n                  name="changeStructureForm">\n                <div class="form-group">\n                    <div class="col-sm-2">组织架构:</div>\n                    <div class="col-sm-3" title="{{workInfo.structureName}}">{{workInfo.structureName}}</div>\n                    <div input-control options="inputOptions.structure"\n                         ng-model="structure">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">直属领导:</div>\n                    <div class="col-sm-3">{{workInfo.leaderName}}</div>\n                    <div input-control options="inputOptions.leader"\n                         ng-model="leader">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">等级:</div>\n                    <div class="col-sm-3">{{workInfo.level|emptyFormat}}</div>\n                    <div input-control options="inputOptions.level"\n                         ng-model="level">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">职位名称:</div>\n                    <div class="col-sm-3">{{workInfo.positionName|emptyFormat}}</div>\n                    <div input-control options="inputOptions.position"\n                         ng-model="position">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.executeDate"\n                         ng-model="executeDate">\n                    </div>\n                </div>\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.reason"\n                         ng-model="reason">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(changeStructureForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n'),e.put("src/module/apply/opt/detail/tpl.html",'<div class="apply-opt-detail">\n    <div class="modal-header">\n        <button type="button" class="close"\n                id="apply-opt-detail-close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n    </div>\n    <iframe ng-src="{{url}}" class="detail-iframe"></iframe>\n</div>\n\n'),e.put("src/module/apply/opt/formalApply/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-transFullTime">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title">\n                试用期员工转正申请\n            </h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                试用期员工转正申请\n            </h5>\n\n            <div class="row">\n                <div style="width: 166px;" class="col-sm-2">\n                    目标设定:\n                </div>\n                <div class="col-sm-9" ng-bind-html="workTarget">\n\n                </div>\n            </div>\n            <br>\n            <form class="form-horizontal" role="form" novalidate\n                  name="formalApplyForm">\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.detail"\n                         ng-model="detail">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(formalApplyForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n'),e.put("src/module/apply/opt/leave/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-transFullTime">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title" ng-show="!isAgent">员工离职申请\n                <a style="font-size: 14px"\n                        href="http://www.baijiahulian.com/policy/Documents/%E7%A6%BB%E8%81%8C%E6%B5%81%E7%A8%8B.pdf"\n                   target="_blank"> &nbsp;&nbsp;查看离职流程</a>\n            </h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                离职信息\n            </h5>\n\n            <form class="form-horizontal" role="form" novalidate\n                  name="leaveForm">\n                <div class="form-group">\n                    <div input-control options="inputOptions.leaveDate"\n                         ng-model="leaveDate">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.reason"\n                         ng-model="reason">\n                    </div>\n                </div>\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.detail"\n                         ng-model="detail">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(leaveForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n'),e.put("src/module/apply/opt/multiple/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-changeSalary">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title">综合审批</h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                综合审批\n            </h5>\n\n            <form class="form-horizontal" role="form" novalidate\n                  name="changeMultipleForm">\n                <div class="form-group">\n                    <div class="col-sm-2">组织架构:</div>\n                    <div class="col-sm-3">{{workInfo.structureName}}</div>\n                    <div input-control options="inputOptions.structure"\n                         ng-model="structure">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">直属领导:</div>\n                    <div class="col-sm-3">{{workInfo.leaderName}}</div>\n                    <div input-control options="inputOptions.leader"\n                         ng-model="leader">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">等级:</div>\n                    <div class="col-sm-3">{{workInfo.level}}</div>\n                    <div input-control options="inputOptions.level"\n                         ng-model="level">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">职位名称:</div>\n                    <div class="col-sm-3">{{workInfo.positionName}}</div>\n                    <div input-control options="inputOptions.position"\n                         ng-model="position">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">工作地点:</div>\n                    <div class="col-sm-3">{{workInfo.officeName|emptyFormat}}</div>\n                    <div input-control options="inputOptions.office"\n                         ng-model="office">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">签约公司:</div>\n                    <div class="col-sm-3">{{workInfo.contractCompanyName|emptyFormat}}</div>\n                    <div input-control options="inputOptions.contractCompany"\n                         ng-model="contractCompany">\n                    </div>\n                </div>\n                <hr>\n                <div class="form-group">\n                    <div class="col-sm-2">社保缴纳城市:</div>\n                    <div class="col-sm-3">{{workInfo.socialSecurityCityName|emptyFormat}}\n                    </div>\n                    <div input-control options="inputOptions.socialSecurityCity"\n                         ng-model="socialSecurityCity">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">基本工资:</div>\n                    <div class="col-sm-3">{{salaryInfo.baseSalary | salary}}\n                    </div>\n                    <div input-control options="inputOptions.baseSalary"\n                         ng-model="baseSalary">\n                    </div>\n                </div>\n                <div class="form-group" ng-show="canModProbationarySalary">\n                    <div class="col-sm-2">试用期基本工资:</div>\n                    <div class="col-sm-3">{{salaryInfo.probationarySalary|salary}}\n                    </div>\n                    <div input-control options="inputOptions.probationarySalary"\n                         ng-model="probationarySalary">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">社保缴纳基数:</div>\n                    <div class="col-sm-3">{{salaryInfo.socialSecurityBase|unit:\'元\'}}\n                    </div>\n                    <div input-control options="inputOptions.socialSecurityBase"\n                         ng-model="socialSecurityBase">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">公积金缴纳基数:</div>\n                    <div class="col-sm-3">{{salaryInfo.houseFundBase|unit:\'元\'}}\n                    </div>\n                    <div input-control options="inputOptions.houseFundBase"\n                         ng-model="houseFundBase">\n                    </div>\n                </div>\n                <div class="form-group" ng-show="needFiveBase">\n                    <div class="col-sm-5">\n                        <table width="100%" class="table1">\n                            <tr class="thead">\n                                <td class="td1">&nbsp;</td>\n                                <td>养老</td>\n                                <td>失业</td>\n                                <td>医疗</td>\n                                <td>工伤</td>\n                                <td>生育</td>\n                            </tr>\n                            <tr>\n                                <td class="col1 td1">\n                                    五险基数：\n                                </td>\n                                <td>\n                                    {{salaryInfo.endowBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.unemployBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.medicalBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.injuryBase|unit:\'元\'}}\n                                </td>\n                                <td>\n                                    {{salaryInfo.maternityBase|unit:\'元\'}}\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    <div class="col-sm-7 ">\n                        <div five-base></div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">交通补贴:</div>\n                    <div class="col-sm-3">{{salaryInfo.trafficSubsidy| salary}}\n                    </div>\n                    <div input-control options="inputOptions.trafficSubsidy"\n                         ng-model="trafficSubsidy">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">通讯补贴:</div>\n                    <div class="col-sm-3">{{salaryInfo.mobileSubsidy| salary}}\n                    </div>\n                    <div input-control options="inputOptions.mobileSubsidy"\n                         ng-model="mobileSubsidy">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div class="col-sm-2">工资类型:</div>\n                    <div class="col-sm-3">{{salaryInfo.salaryType | salaryType}}\n                    </div>\n                    <div input-control options="inputOptions.salaryType"\n                         ng-model="salaryType">\n                    </div>\n                </div>\n                <hr>\n                <div class="form-group">\n                    <div input-control options="inputOptions.executeDate"\n                         ng-model="executeDate">\n                    </div>\n                </div>\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.reason"\n                         ng-model="reason">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(changeMultipleForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n'),e.put("src/module/apply/opt/transFullTime/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-transFullTime">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title">实习/劳务转正式申请</h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                转正信息\n            </h5>\n\n            <form class="form-horizontal" role="form" novalidate\n                  name="transFullTimeForm">\n                <div class="form-group">\n                    <div input-control options="inputOptions.internsEndDate"\n                         ng-model="internsEndDate">\n                    </div>\n                    <div input-control options="inputOptions.positiveDate"\n                         ng-model="positiveDate">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.formalDate"\n                         ng-model="formalDate">\n                    </div>\n                    <div input-control options="inputOptions.socialSecurityCity"\n                         ng-model="socialSecurityCity">\n                    </div>\n                </div>\n                <hr/>\n                <div class="form-group">\n                    <div input-control options="inputOptions.structure"\n                         ng-model="structure">\n                    </div>\n                    <div input-control options="inputOptions.leader"\n                         ng-model="leader">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.level"\n                         ng-model="level">\n                    </div>\n                    <div input-control options="inputOptions.position"\n                         ng-model="position">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.baseSalary"\n                         ng-model="baseSalary">\n                    </div>\n                    <div input-control\n                         options="inputOptions.probationarySalary"\n                         ng-model="probationarySalary">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.salaryType"\n                         ng-model="salaryType">\n                    </div>\n                    <div input-control options="inputOptions.socialSecurityBase"\n                         ng-model="socialSecurityBase">\n                    </div>\n                </div>\n                <div five-base class="form-group" ng-show="needFiveBase">\n                </div>\n                <div class="form-group">\n                    <div input-control\n                         options="inputOptions.houseFundBase"\n                         ng-model="houseFundBase">\n                    </div>\n                    <div input-control\n                         options="inputOptions.mobileSubsidy"\n                         ng-model="mobileSubsidy">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="inputOptions.trafficSubsidy"\n                         ng-model="trafficSubsidy">\n                    </div>\n                </div>\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.reason"\n                         ng-model="reason">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(transFullTimeForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n\n</div>\n'),e.put("src/module/apply/opt/workTarget/tpl.html",'<div class="apply-opt">\n    <div class="apply-opt-transFullTime">\n        <div class="modal-header">\n            <button type="button" class="close"\n                    ng-click="closeHandler()"\n                    data-dismiss="modal"><span\n                    aria-hidden="true">&times;</span><span\n                    class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title">\n                试用期工作目标设定\n            </h4>\n        </div>\n\n        <div class="modal-body ">\n            <h5>\n                员工信息\n            </h5>\n\n            <div class="container" apply-staff-info number="{{number}}">\n            </div>\n            <h5>\n                试用期工作目标\n            </h5>\n\n            <form class="form-horizontal" role="form" novalidate\n                  name="workTargetForm">\n                <div class="form-group detail">\n                    <div input-control options="inputOptions.detail"\n                         ng-model="detail">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <span class="red" style="margin-left:82px">*</span>\n                    <input type="checkbox" ng-model="isReadStaffManual">\n                    <span >本人已详细阅读</span>\n                    <a href="http://www.baijiahulian.com/policy/Pages/%E8%B7%9F%E8%B0%81%E5%AD%A6%E5%91%98%E5%B7%A5%E6%89%8B%E5%86%8C.pdf" target="_blank">《员工手册2016年2月1日版》</a>\n                    <span>，并熟知和充分理解《员工手册》的全部内容，对其条款无异议，并承诺遵照执行。</span>\n                </div>\n                <div class="modal-footer">\n                    <button type="submit" class="btn btn-primary"\n                            ng-click="save(workTargetForm)">提交\n                    </button>\n                    <button type="button" class="btn btn-default"\n                            ng-click="closeHandler()"\n                            data-dismiss="modal">关闭\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n'),e.put("src/module/apply/tpl.html","<div ui-view></div>"),e.put("src/module/home/baseChange/tpl.html",'<div class="home-baseChange">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">五险一金变更信息导入</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form>\n            <label for="base-change-upload" class="pointer">\n                <i class="glyphicon glyphicon-upload blue"></i>\n                上传文件\n            </label>\n            <input id="base-change-upload" type="file"  class="hide"\n                   onchange="angular.element(this).scope().fileChange(this)"\n                    >\n            </label>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/home/salaryChange/tpl.html",'<div class="home-salaryChange">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">薪酬变更信息导入</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form>\n            <label for="salary-change-upload" class="pointer">\n                <i class="glyphicon glyphicon-upload blue"></i>\n                上传文件\n            </label>\n            <input id="salary-change-upload" type="file"  class="hide"\n                   onchange="angular.element(this).scope().fileChange(this)"\n                    >\n            </label>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/home/tpl.html",'<div class="home">\n    <h5>\n        <span>快捷入口</span>\n    </h5>\n\n    <div class="container">\n        <div class="row">\n            <a class="col-xs-3 block" ng-click="selfInfoClick()"\n                    >\n                <i class="glyphicon glyphicon-user"></i>\n                <span>我的信息</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="subordinate.search" ng-show="isManager">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>下属信息</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="subordinate.ownerSearch" ng-show="isStructureOwner">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>部门员工信息</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="apply.list.toHandle.all">\n                <i class="glyphicon glyphicon-pencil"></i>\n                <span>我的审批</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="hr.newer" ng-show="isRecruitHR">\n                <i class="glyphicon glyphicon-circle-arrow-right"></i>\n                <span>发送offer</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="hr.newerSearch" ng-show="isRecruitHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>offer信息查询</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="hr.abandonSearch" ng-show="isRecruitHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>取消offer</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="hr.rejoin" ng-show="isRecruitHR">\n                <i class="glyphicon glyphicon-refresh"></i>\n                <span>员工再入职</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="hr.toJoinSearch" ng-show="isRelationshipHR && !isAgent">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>办理入职手续</span>\n            </a>\n            <a class="col-xs-3 block"\n               ui-sref="hr.toJoinSearchAgent" ng-show="isRelationshipHR && isAgent">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>办理入职手续</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="hr.salaryHRSearch"\n               ng-show="isSalaryHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>员工信息查询-薪酬</span>\n            </a>\n\n            <a class="col-xs-3 block" ui-sref="hr.relationshipHRSearch"\n               ng-show="isRelationshipHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>员工信息查询-员工关系</span>\n            </a>\n\n            <a class="col-xs-3 block"\n               ui-sref="hr.rejoinAgent" ng-show="isRelationshipHR && isAgent">\n                <i class="glyphicon glyphicon-refresh"></i>\n                <span>员工再入职</span>\n            </a>\n\n            <a class="col-xs-3 block" ui-sref="hr.trainingHRSearch"\n               ng-show="isTrainingHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>员工信息查询-培训</span>\n            </a>\n\n            <a class="col-xs-3 block" ui-sref="hr.businessPartnerHRSearch"\n               ng-show="isHRBP">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>员工信息查询-HRBP</span>\n            </a>\n\n\n            <a class="col-xs-3 block" ui-sref="hr.salaryBillSearch"\n               ng-show="isSalaryHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>应发工资名单</span>\n            </a>\n\n            <a class="col-xs-3 block" ui-sref="hr.securityList"\n               ng-show="isSalaryHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>社保缴纳名单</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="hr.taxList"\n               ng-show="isSalaryHR">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>个税名单</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="hr.tempCard.all"\n               ng-show="isReception">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>前台工作</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="hr.assetManagerSearch"\n               ng-show="isAssetManager">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>资产管理</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="hr.itManagerSearch"\n               ng-show="isItManager">\n                <i class="glyphicon glyphicon-search"></i>\n                <span>IT管理</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="admin.structure"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-list"></i>\n                <span>组织架构</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="admin.contractCompany"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-align-justify"></i>\n                <span>签约公司配置</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="admin.socialSecurityCity"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-align-justify"></i>\n                <span>社保缴纳城市配置</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="admin.office"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-align-justify"></i>\n                <span>办公地点配置</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="admin.holiday"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-calendar"></i>\n                <span>工作日配置</span>\n            </a>\n            <a class="col-xs-3 block"\n               ng-click="yearAwardClick()"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-usd"></i>\n                <span>年终奖导入</span>\n            </a>\n            <a class="col-xs-3 block"\n               ng-click="salaryChangeClick()"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-import"></i>\n                <span>薪酬变更导入</span>\n            </a>\n            <a class="col-xs-3 block"\n               ng-click="baseChangeClick()"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-import"></i>\n                <span>五险一金基数变更导入</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="admin.disability"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-align-justify"></i>\n                <span>残疾员工名单</span>\n            </a>\n            <a class="col-xs-3 block" ui-sref="admin.level"\n               ng-show="isAdmin">\n                <i class="glyphicon glyphicon-menu-hamburger"></i>\n                <span>职级体系配置</span>\n            </a>\n        </div>\n    </div>\n</div>'),e.put("src/module/home/yearAward/tpl.html",'<div class="home-yearAward">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">年终奖导入</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form>\n            <label for="year-award-upload" class="pointer">\n                <i class="glyphicon glyphicon-upload blue"></i>\n                上传文件\n            </label>\n            <input id="year-award-upload" type="file"  class="hide"\n                   onchange="angular.element(this).scope().fileChange(this)"\n                    >\n            </label>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/agent/tpl.html",'<div class="hr-agent hr hr-staffInfo">\n<h5>\n    <span>{{title}}</span>\n</h5>\n\n<form class="form-horizontal" name="agentEnterForm"\n      onkeydown="if(event.keyCode==13)return false;"\n      novalidate="novalidate">\n    <div class="content-container">\n        <div class="content-block">\n            <p class="sub-title">自然信息</p>\n\n            <div class="form-group">\n                <div input-control options="baseOptions.lawName"\n                     ng-model="lawName">\n                </div>\n                <div input-control options="baseOptions.name"\n                     ng-model="name">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="baseOptions.namePinyin"\n                     ng-model="namePinyin">\n                </div>\n                <div input-control options="baseOptions.sex" ng-model="sex">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="baseOptions.degree"\n                     ng-model="degree">\n                </div>\n                <div input-control options="baseOptions.accountLocation"\n                     ng-model="accountLocation">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="baseOptions.birthday"\n                     ng-model="birthday">\n                </div>\n                <div input-control options="baseOptions.beginWorkTime"\n                     ng-model="beginWorkTime">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="baseOptions.isForeign"\n                     ng-model="isForeign">\n                </div>\n                <div input-control options="baseOptions.idCardNumber"\n                     ng-model="idCardNumber">\n                </div>\n            </div>\n        </div>\n\n        <!---联系方式-->\n        <div class="content-block">\n            <p class="sub-title">联系方式</p>\n\n            <div class="form-group">\n                <div input-control options="contactOptions.mobile"\n                     ng-model="mobile">\n                </div>\n                <div input-control options="contactOptions.personalEmail"\n                     ng-model="personalEmail">\n                </div>\n            </div>\n        </div>\n\n\n        <!---基本信息-->\n        <div class="content-block">\n            <p class="sub-title">基本信息</p>\n\n            <div class="form-group">\n                <div input-control options="infoOptions.promiseEnterDate"\n                     ng-model="promiseEnterDate">\n                </div>\n                <div input-control options="infoOptions.leader"\n                     ng-model="leader">\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div input-control options="infoOptions.structure"\n                     class=""\n                     ng-model="structure">\n                </div>\n                <div input-control options="infoOptions.level"\n                     ng-model="levelIndex">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="infoOptions.position"\n                     ng-model="position">\n                </div>\n\n            </div>\n        </div>\n    </div>\n</form>\n\n<div class="content-container">\n    <!-- 个人信息-->\n    <div class="content-block">\n        <p class="sub-title">个人信息\n            <span class="clearFloat">\n                <span class="edit" ng-click="onEditPart2()">\n                <i class="glyphicon glyphicon-pencil"></i>\n                    编辑\n                </span>\n            </span>\n        </p>\n\n        <div>\n            教育经历\n            <span class="add" ng-click="educationAdd.addClick()"\n            ng-show="!isReadOnly2">\n                <i class="glyphicon glyphicon-plus"></i>\n                    添加\n            </span>\n        </div>\n\n        <div class="wraper-edit" ng-show="addingEducation">\n            <form class="form-horizontal" name="educationAddForm"\n                novalidate="novalidate">\n                <div class="form-group">\n                    <div input-control options="educationAddOptions.start"\n                        ng-model="educationAdd.start">\n                    </div>\n                    <div input-control options="educationAddOptions.end"\n                        ng-model="educationAdd.end">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="educationAddOptions.school"\n                        ng-model="educationAdd.school">\n                    </div>\n                    <div input-control options="educationAddOptions.discipline"\n                        ng-model="educationAdd.discipline">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="educationAddOptions.degree"\n                        ng-model="educationAdd.degree">\n                    </div>\n                </div>\n                <span class="btn btn-sm btn-warning"\n                    ng-click="educationAdd.onSave(educationAddForm)">添加\n                </span>\n                <span class="btn btn-sm btn-default"\n                    ng-click="educationAdd.onCancel()">取消\n                </span>\n        </form>\n    </div>\n    <div education-info\n     ng-repeat="item in educationList" ng-model="item"></div>\n\n    <div>\n        <div class="work-title">\n            工作经历\n            <span class="add" ng-click="workExpAdd.addClick()"\n                ng-show="!isReadOnly2">\n                <i class="glyphicon glyphicon-plus"></i>添加\n            </span>\n        </div>\n    </div>\n        <div class="wraper-edit" ng-show="addingWorkExp">\n            <form class="form-horizontal" name="workExpAddForm"\n                novalidate="novalidate">\n                <div class="form-group">\n                    <div input-control options="workExpAddOptions.start"\n                        ng-model="workExpAdd.start">\n                    </div>\n                    <div input-control options="workExpAddOptions.end"\n                        ng-model="workExpAdd.end">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <div input-control options="workExpAddOptions.company"\n                        ng-model="workExpAdd.company">\n                    </div>\n                    <div input-control options="workExpAddOptions.position"\n                         ng-model="workExpAdd.position">\n                    </div>\n                </div>\n            <span class="btn btn-sm btn-warning"\n                ng-click="workExpAdd.onSave(workExpAddForm)">添加</span>\n                <span class="btn btn-sm btn-default"\n                    ng-click="workExpAdd.onCancel()">取消</span>\n            </form>\n        </div>\n        <div work-info ng-repeat="item in workExpList" ng-model="item">\n        </div>\n\n        <form class="form-horizontal">\n            <div class="form-group" ng-show="!isReadOnly2" style="margin: 10px 0 0">\n                <div class="col-sm-12 center">\n                    <button class="btn btn-sm btn-default" ng-show="!isReadOnly2"\n                        ng-click="cancelPart2()">取消\n                    </button>\n                </div>\n            </div>\n        </form>\n\n    </div>\n</div>\n\n<form class="form-horizontal" name="otherInfoForm"\n                novalidate="novalidate">\n    <!---其他信息-->\n<div class="content-container">\n    <div class="content-block">\n        <p class="sub-title">其他信息</p>\n\n        <div class="form-group">\n            <div input-control options="otherOptions.resumeStorageId"\n                 ng-model="resumeStorageId">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="otherOptions.recommendType"\n                 ng-model="recommendType">\n            </div>\n            <div input-control options="otherOptions.recommendDetail"\n                 ng-model="recommendDetail">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="otherOptions.idCardAndContract"\n                 ng-model="idCardAndContract">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="otherOptions.idCardUpload"\n                 ng-model="idCardUpload">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="otherOptions.limitAgreement"\n                 ng-model="limitAgreement">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="otherOptions.detail"\n                 ng-model="detail">\n            </div>\n        </div>\n    </div>\n</div>\n</form>\n<div class="text-muted" ng-hide="isReadOnly">提示：\n        <span class="red">*</span>为提交的必填项\n    </div>\n<div class="btn-area">\n    <button class="btn btn-primary btn-sm" type="submit"\n            ng-hide="hideSubmit || isReadOnly"\n            ng-click="submit()">提交\n    </button>\n</div>\n</div>\n'),e.put("src/module/hr/attendceRecord/tpl.html",'<div class="hr-salaryList">\n    <h5>\n        <span>考勤记录导出</span>\n    </h5>\n\n    <form class="form-horizontal query-container"\n          role="form" novalidate="novalidate" class=\'salaryQueryForm\'>\n        <div class="row">\n        	<div class="col-sm-3 control">\n                <label>姓名:</label>\n                <span name-suggestion ng-model="query.name"></span>\n                <!-- <input class="form-control" placeholder="请输入邮箱前缀"\n                       maxlength="20"\n                       ng-model="query.name"> -->\n            </div>\n            <div class="col-sm-5 control">\n                <label>时间:</label>\n                <input class="form-control ng-pristine ng-untouched ng-valid" placeholder="yyyy-MM-dd" type="date" ng-model="query.startDate">\n                至\n                <input type="date" placeholder="yyyy-MM-dd" class="form-control ng-pristine ng-untouched ng-valid" ng-model="query.endDate">\n            </div>\n            <div class="col-sm-3 control">\n                <label>组织架构:</label>\n                <select class="form-control"\n                        ng-model="query.structure"\n                        ng-options="m.id as m.name for m in structureList">\n                        <option value="">请选择</option>\n                </select>\n            </div>\n            <div class="col-sm-1 control">\n                <button class="btn btn-primary" ng-click="onSearch()">查询\n                </button>\n            </div>\n        </div>\n    </form>\n\n    <div class="table-opt-area">\n        <span>\n            <span class="btn btn-default btn-sm">\n                <a target="_blank" href="{{exportUrl}}">\n                   导出\n                </a>\n            </span>\n        </span>\n    </div>\n    <form name="salaryComputeForm">\n        <div table-control options="tableOptions">\n        </div>\n    </form>\n</div>\n'),e.put("src/module/hr/baseInfo/educationAdd.html",'<div class="wraper-edit" ng-show="addingEducation">\n    <form class="form-horizontal" name="educationAddForm"\n          novalidate="novalidate">\n        <div class="form-group">\n            <div input-control options="educationAddOptions.start"\n                 ng-model="educationAdd.start">\n            </div>\n            <div input-control options="educationAddOptions.end"\n                 ng-model="educationAdd.end">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="educationAddOptions.school"\n                 ng-model="educationAdd.school">\n            </div>\n            <div input-control options="educationAddOptions.discipline"\n                 ng-model="educationAdd.discipline">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="educationAddOptions.degree"\n                 ng-model="educationAdd.degree">\n            </div>\n        </div>\n        <span class="btn btn-sm btn-warning"\n              ng-click="educationAdd.onSave(educationAddForm)">添加</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="educationAdd.onCancel()">取消</span>\n    </form>\n</div>\n'),e.put("src/module/hr/baseInfo/tpl.html",'<div class="content-container hr-baseInfo">\n<div class="content-block">\n    <p class="sub-title info-title">个人信息-1\n    <span ng-if="canEditBaseInfo" class="clearFloat">\n            <span class="edit" ng-click="$parent.onEdit()">\n            <i class="glyphicon glyphicon-pencil"></i>\n            编辑\n            </span>\n    </span>\n    </p>\n\n    <form class="form-horizontal" name="baseInfoForm"\n          novalidate="novalidate">\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="baseOptions.hometown"\n                 ng-model="hometown">\n            </div>\n            <div input-control options="baseOptions.ethnic"\n                 ng-model="ethnic">\n            </div>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="baseOptions.politicalStatus"\n                 ng-model="politicalStatus">\n            </div>\n            <div input-control options="baseOptions.birthplace"\n                 ng-model="birthplace">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="baseOptions.accountLocation"\n                 ng-model="accountLocation">\n            </div>\n            <div input-control options="baseOptions.degree"\n                 ng-model="degree">\n            </div>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="baseOptions.religion"\n                 ng-model="religion">\n            </div>\n            <div input-control options="baseOptions.maritalStatus"\n                 ng-model="maritalStatus">\n            </div>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="baseOptions.citizenship"\n                 ng-model="citizenship">\n            </div>\n            <div input-control options="baseOptions.accountType"\n                 ng-model="accountType">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="baseOptions.isForeign"\n                 ng-model="isForeign">\n            </div>\n            <div input-control options="baseOptions.idCardNumber"\n                 ng-model="idCardNumber">\n            </div>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="baseOptions.beginWorkTime"\n                 ng-model="beginWorkTime">\n            </div>\n            <div input-control options="baseOptions.isGraduate"\n                 ng-model="isGraduate">\n            </div>\n        </div>\n        <div class="form-group" style="position: relative">\n            <div input-control options="baseOptions.mobile"\n                 ng-model="mobile">\n            </div>\n            <span class="btn btn-warning btn-sm mod-mobile"\n                  ng-click="modMobileClick()" ng-show="showModMobile">修改</span>\n            <div input-control options="baseOptions.birthday"\n                 ng-model="birthday">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <div input-control options="baseOptions.enterTime"\n                 ng-model="enterTime">\n            </div>\n            <div input-control options="baseOptions.beginWorkTime"\n                 ng-model="beginWorkTime" ng-show="isAgent">\n            </div>\n            <div input-control options="baseOptions.contractEndDate"\n                 ng-model="contractEndDate" ng-show="!isAgent">\n            </div>\n        </div>\n        <div class="form-group" ng-show="!isAgent && staffType == 1">\n            <div input-control options="baseOptions.formalDate"\n                 ng-model="formalDate">\n            </div>\n        </div>\n\n        <div class="form-group id-card upload-file" ng-show="canDownLoadFile">\n            <div input-control options="baseOptions.idCardAndContract"\n                 ng-model="idCardAndContract">\n            </div>\n                <span class="red" ng-show="canEditBaseInfo">\n                </span>\n        </div>\n        <div class="form-group id-card upload-file" ng-show="canDownLoadFile">\n            <div input-control options="baseOptions.idCardUpload"\n                 ng-model="idCardUpload">\n            </div>\n                <span class="red" ng-show="canEditBaseInfo">\n                </span>\n        </div>\n        <div class="form-group limit-agreement upload-file"\n             ng-show="canDownLoadFile">\n            <div input-control options="baseOptions.limitAgreement"\n                 ng-model="limitAgreement">\n            </div>\n            <span class="red" ng-show="canEditBaseInfo"></span>\n        </div>\n        <div class="form-group upload-file"\n             ng-show="canDownLoadFile">\n            <div input-control options="baseOptions.resume"\n                 ng-model="resume">\n            </div>\n            <span class="red" ng-show="canEditBaseInfo"></span>\n        </div>\n        <div class="form-group" ng-show="!isReadOnly">\n            <div class="col-sm-12 center">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="saveBaseInfo(baseInfoForm)">保存\n                </button>\n                <span class="btn btn-sm btn-default"\n                        ng-click="cancelPart1(baseInfoForm)">取消\n                </span>\n            </div>\n        </div>\n    </form>\n</div>\n<div class="">\n    <p class="sub-title">个人信息-2\n    <span ng-if="canEditWorkEduInfo" class="clearFloat">\n            <span class="edit" ng-click="$parent.onEditPart2()">\n            <i class="glyphicon glyphicon-pencil"></i>\n            编辑\n            </span>\n    </span>\n    </p>\n\n    <div>\n        教育经历\n        <span class="add" ng-click="educationAdd.addClick()"\n              ng-show="!isReadOnly2">\n            <i class="glyphicon glyphicon-plus"></i>\n            添加</span>\n    </div>\n    <div class="wraper-edit" ng-show="addingEducation">\n        <form class="form-horizontal" name="educationAddForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="educationAddOptions.start"\n                     ng-model="educationAdd.start">\n                </div>\n                <div input-control options="educationAddOptions.end"\n                     ng-model="educationAdd.end">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="educationAddOptions.school"\n                     ng-model="educationAdd.school">\n                </div>\n                <div input-control options="educationAddOptions.discipline"\n                     ng-model="educationAdd.discipline">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="educationAddOptions.degree"\n                     ng-model="educationAdd.degree">\n                </div>\n            </div>\n        <span class="btn btn-sm btn-warning"\n              ng-click="educationAdd.onSave(educationAddForm)">添加</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="educationAdd.onCancel()">取消</span>\n        </form>\n    </div>\n\n    <div education-info\n         ng-repeat="item in educationList" ng-model="item"></div>\n\n    <div>\n        <div class="work-title">\n            工作经历\n        <span class="add" ng-click="workExpAdd.addClick()"\n              ng-show="!isReadOnly2">\n            <i\n                    class="glyphicon glyphicon-plus"></i>添加</span>\n        </div>\n    </div>\n    <div class="wraper-edit" ng-show="addingWorkExp">\n        <form class="form-horizontal" name="workExpAddForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="workExpAddOptions.start"\n                     ng-model="workExpAdd.start">\n                </div>\n                <div input-control options="workExpAddOptions.end"\n                     ng-model="workExpAdd.end">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="workExpAddOptions.company"\n                     ng-model="workExpAdd.company">\n                </div>\n                <div input-control options="workExpAddOptions.position"\n                     ng-model="workExpAdd.position">\n                </div>\n            </div>\n        <span class="btn btn-sm btn-warning"\n              ng-click="workExpAdd.onSave(workExpAddForm)">添加</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="workExpAdd.onCancel()">取消</span>\n        </form>\n    </div>\n    <div work-info\n         ng-repeat="item in workExpList" ng-model="item">\n    </div>\n\n    <form class="form-horizontal">\n        <div class="form-group" ng-show="!isReadOnly2" style="margin: 10px 0 0">\n            <div class="col-sm-12 center">\n                <button class="btn btn-sm btn-default"\n                        ng-click="cancelPart2()">取消\n                </button>\n            </div>\n        </div>\n    </form>\n</div>\n</div>\n'),e.put("src/module/hr/baseInfo/workExpAdd.html",'<div class="wraper-edit" ng-show="addingWorkExp">\n    <form class="form-horizontal" name="workExpAddForm"\n          novalidate="novalidate">\n        <div class="form-group">\n            <div input-control options="workExpAddOptions.start"\n                 ng-model="workExpAdd.start">\n            </div>\n            <div input-control options="workExpAddOptions.end"\n                 ng-model="workExpAdd.end">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="workExpAddOptions.company"\n                 ng-model="workExpAdd.company">\n            </div>\n            <div input-control options="workExpAddOptions.position"\n                 ng-model="workExpAdd.position">\n            </div>\n        </div>\n        <span class="btn btn-sm btn-warning"\n              ng-click="workExpAdd.onSave(workExpAddForm)">添加</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="workExpAdd.onCancel()">取消</span>\n    </form>\n</div>\n'),e.put("src/module/hr/changeInfo/tpl.html",'<div class="hr-changeInfo">\n    <div table-control options="tableOptions">\n    </div>\n</div>\n'),e.put("src/module/hr/dimission/tpl.html",'<form class="form-horizontal" name="leaveJobForm"\n      novalidate="novalidate">\n    <div class="content-container hr-dimission">\n        <div class="form-group">\n            <div class="col-sm-2">离职原因：</div>\n            <div class="col-sm-4">{{reason}}</div>\n            <div input-control options="inputOptions.leaveDate"\n                 ng-model="leaveDate">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <div input-control options="inputOptions.reasonFromHr"\n                 ng-model="reasonFromHr">\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2">备注：</div>\n            <div class="col-sm-10">{{leaveDetail}}</div>\n        </div>\n        <div class="form-group">\n            <div input-control options="inputOptions.leaveSignBill"\n                 ng-model="leaveSignBill">\n            </div>\n        </div>\n        <div class="form-group" ng-if="canEditLeaveInfo">\n            <div class="col-sm-12 center">\n                <button class="btn btn-primary btn-sm" type="submit"\n                        ng-click="ok(leaveJobForm)">提交\n                </button>\n            </div>\n        </div>\n    </div>\n</form>\n</div>\n'),e.put("src/module/hr/directive/educationInfo/tpl.html",'<div class="hr-directive hr-directive-educationInfo">\n    <div class="wraper-show" ng-show="!editing">\n        <span class="time">\n            {{startShow}}至{{endShow}}\n        </span>\n        <span class="char">\n            {{school}}\n        </span>\n        <span class="char">\n            {{discipline}}\n        </span>\n        <span class="char">\n            {{degree|degree}}\n        </span>\n        <span ng-show=\'!disable\' class="btn btn-sm btn-warning"\n              ng-click="onDel()">删除</span>\n        <span ng-show=\'!disable\' class="btn btn-sm btn-warning"\n              ng-click="onEdit()">编辑</span>\n    </div>\n    <div class="wraper-edit" ng-show="editing">\n        <form class="form-horizontal" name="educationForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.start"\n                     ng-model="editInfo.start">\n                </div>\n                <div input-control options="inputOptions.end"\n                     ng-model="editInfo.end">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.school"\n                     ng-model="editInfo.school">\n                </div>\n                <div input-control options="inputOptions.discipline"\n                     ng-model="editInfo.discipline">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.degree"\n                     ng-model="editInfo.degree">\n                </div>\n            </div>\n        <span class="btn btn-sm btn-warning"\n              ng-click="onEditSave(educationForm)">保存</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="onCancelEdit()">取消</span>\n        </form>\n    </div>\n</div>'),e.put("src/module/hr/directive/familyInfo/tpl.html",'<div class="hr-directive hr-directive-familyInfo">\n    <div class="wraper-show" ng-show="!editing">\n        <span class="time">\n            {{options.name}}\n        </span>\n        <span class="char">\n            {{options.title}}\n        </span>\n        <span class="char">\n            生日：{{options.birthday |dateFormat}}\n        </span>\n        <span class="char">\n            {{options.company || emptyValue}}\n        </span>\n        <span class="char">\n            {{options.position || emptyValue}}\n        </span>\n        <span class="char">\n            {{options.mobile || emptyValue}}\n        </span>\n        <span ng-show=\'!options.disable\' class="btn btn-sm btn-warning"\n              ng-click="onDel()">删除</span>\n        <span ng-show=\'!options.disable\' class="btn btn-sm btn-warning"\n              ng-click="onEdit()">编辑</span>\n    </div>\n    <div class="wraper-edit" ng-show="editing">\n        <form class="form-horizontal" name="familyForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.name"\n                     ng-model="editInfo.name">\n                </div>\n                <div input-control options="inputOptions.title"\n                     ng-model="editInfo.title">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.birthday"\n                     ng-model="editInfo.birthday">\n                </div>\n                <div input-control options="inputOptions.company"\n                     ng-model="editInfo.company">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.position"\n                     ng-model="editInfo.position">\n                </div>\n                <div input-control options="inputOptions.mobile"\n                     ng-model="editInfo.mobile">\n                </div>\n            </div>\n            <div class="center">\n               <span class="btn btn-sm btn-warning"\n                     ng-click="onEditSave(familyForm)">保存</span>\n                <span class="btn btn-sm btn-default"\n                      ng-click="onCancelEdit()">取消</span>\n            </div>\n        </form>\n    </div>\n</div>'),e.put("src/module/hr/directive/workInfo/tpl.html",'<div class="hr-directive hr-directive-workInfo">\n    <div class="wraper-show" ng-show="!editing">\n        <span class="time">\n            {{startShow}}至{{endShow}}\n        </span>\n        <span class="char">\n            {{company}}\n        </span>\n        <span class="char">\n            {{position}}\n        </span>\n        <span ng-show=\'!disable\' class="btn btn-sm btn-warning"\n              ng-click="onDel()">删除</span>\n        <span ng-show=\'!disable\' class="btn btn-sm btn-warning"\n              ng-click="onEdit()">编辑</span>\n    </div>\n    <div class="wraper-edit" ng-show="editing">\n        <form class="form-horizontal" name="workForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="inputOptions.start"\n                     ng-model="editInfo.start">\n                </div>\n                <div input-control options="inputOptions.end"\n                     ng-model="editInfo.end">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.company"\n                     ng-model="editInfo.company">\n                </div>\n                <div input-control options="inputOptions.position"\n                     ng-model="editInfo.position">\n                </div>\n            </div>\n        <span class="btn btn-sm btn-warning"\n              ng-click="onEditSave(workForm)">保存</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="onCancelEdit()">取消</span>\n        </form>\n    </div>\n</div>'),e.put("src/module/hr/formalApplyInfo/tpl.html",'<div class="content-container formalApply">\n    <table>\n        <tr>\n            <td>转正申请：</td>\n            <td ng-bind-html="commonInfo.formalApplyInfo"></td>\n        </tr>\n    </table>\n</div>'),e.put("src/module/hr/initInfo/tpl.html",'<div class="admin-structure-mod">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">员工初始信息</h4>\n    </div>\n\n    <div class="modal-body">\n        <form class="form-horizontal" name="modStructureForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <label class="col-sm-3">员工编号：</label>\n\n                <div class="col-sm-8">{{info.displayNumber}}</div>\n            </div>\n            <div class="form-group">\n                <label class="col-sm-3">邮箱：</label>\n\n                <div class="col-sm-8">{{info.email}}</div>\n            </div>\n            <div class="form-group">\n                <label class="col-sm-3">初始密码：</label>\n\n                <div class="col-sm-8">{{info.password}}</div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">关闭\n        </button>\n    </div>\n</div>\n'),e.put("src/module/hr/monthSalary/tpl.html",'<div class="hr-monthSalary container">\n    <div class="row row1">\n        <div class="col-sm-1">\n            <span class="month-char">月份选择:</span>\n        </div>\n        <div class="col-sm-2">\n            <form name=\'monthSalaryForm\'\n            novalidate="novalidate">\n                <input class="form-control month" placeholder="yy-MM"\n                type=\'month\'\n                name=\'month\'\n                required=true\n                max="{{monthMax}}"\n                min="{{monthMin}}"\n                ng-change="onMonthChange()"\n                ng-model="query.month"\n                >\n            </form>\n        </div>\n        <div class="col-sm-9">\n            <div class="row row2">\n                <div class="col-sm-3">\n                    &nbsp;\n                </div>\n                <div class="col-sm-3">\n                    税前总收入：{{sumSalary|rmb}}\n                </div>\n                <div class="col-sm-3">\n                    代扣金额：{{sumMinusPer|rmb}}\n                </div>\n                <div class="col-sm-3">\n                    <strong>\n                    实发工资：{{realSum|rmb}}\n                    </strong>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row row3">\n        <div class="col-sm-6">\n            <p><strong>税前收入明细</strong></p>\n            <table class="table table-bordered">\n                <tr>\n                    <td class=\'td1\'>描述</td>\n                    <td>收入额</td>\n                </tr>\n                <tr ng-repeat="item in abtainSalary">\n                    <td>{{item.name}}</td>\n                    <td>{{item.value|rmb}}</td>\n                </tr>\n                <tr>\n                    <td class=\'sum-tip\'>\n                        小计:\n                    </td>\n                    <td>\n                        <strong>\n                        {{sumSalary|rmb}}\n                        </strong>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="col-sm-6">\n            <p><strong>代扣明细</strong></p>\n            <table class="table table-bordered">\n                <tr>\n                    <td class=\'td1\'>描述</td>\n                    <td>扣减额</td>\n                </tr>\n                <tr ng-repeat="item in minusSalary">\n                    <td>{{item.name}}</td>\n                    <td>{{item.value|rmb}}</td>\n                </tr>\n                <tr ng-show="yearAwardTax">\n                    <td>代扣年终奖所得税</td>\n                    <td>{{yearAwardTax|rmb}}</td>\n                </tr>\n                <tr>\n                    <td class=\'sum-tip\'>\n                        小计:\n                    </td>\n                    <td>\n                        <strong>\n                        {{sumMinusPer|rmb}}\n                        </strong>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div class=\'yinzhang\'>\n    </div>\n    <div class="row row3" ng-if="performDetail">\n        <p><strong>绩效详情：</strong></p>\n        <div class="col-sm-6 perform-table" id="perform" ng-bind-html="performDetail">\n        </div>\n    </div>\n    <div class="row row3" ng-show="detail">\n        <p><strong>备注信息：</strong></p>\n        <p>{{detail}}</p>\n    </div>\n\n</div>'),e.put("src/module/hr/newer/tpl.html",'<div class="hr-newer hr">\n<h5>\n    <span>{{title}}</span>\n        <span class="edit" ng-click="onEditClick()" ng-show="canEdit">\n            <i class="glyphicon glyphicon-pencil"></i>\n            编辑\n        </span>\n</h5>\n\n<form class="form-horizontal" name="newerEnterForm"\n      onkeydown="if(event.keyCode==13)return false;"\n      novalidate="novalidate">\n    <div class="content-container">\n        <div class="content-block">\n            <p class="sub-title">自然信息</p>\n\n            <div class="form-group">\n                <div input-control options="baseOptions.lawName"\n                     ng-model="lawName">\n                </div>\n                <div input-control options="baseOptions.name"\n                     ng-model="name">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="baseOptions.namePinyin"\n                     ng-model="namePinyin">\n                </div>\n                <div input-control options="baseOptions.sex" ng-model="sex">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="baseOptions.degree"\n                     ng-model="degree">\n                </div>\n                <div input-control options="baseOptions.idCardNumber"\n                     ng-model="idCardNumber">\n                </div>\n            </div>\n        </div>\n\n        <!---联系方式-->\n        <div class="content-block">\n            <p class="sub-title">联系方式</p>\n\n            <div class="form-group">\n                <div input-control options="contactOptions.mobile"\n                     ng-model="mobile">\n                </div>\n                <div input-control options="contactOptions.personalEmail"\n                     ng-model="personalEmail">\n                </div>\n            </div>\n        </div>\n\n\n        <!---基本信息-->\n        <div class="content-block">\n            <p class="sub-title">基本信息</p>\n\n            <div class="form-group">\n                <div input-control options="infoOptions.type"\n                     ng-model="type">\n                </div>\n                <div input-control options="infoOptions.leader"\n                     ng-model="leader">\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div input-control options="infoOptions.structure"\n                     class=""\n                     ng-model="structure">\n                </div>\n                <div input-control options="infoOptions.level"\n                     ng-model="levelIndex">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="infoOptions.position"\n                     ng-model="position">\n                </div>\n                <div input-control options="infoOptions.promiseEnterDate"\n                     ng-model="promiseEnterDate">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="infoOptions.formalDate"\n                    ng-model="formalDate">\n                </div>\n                <div input-control options="infoOptions.contractCompany"\n                     ng-model="contractCompany">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="infoOptions.socialSecurityCity"\n                     ng-model="socialSecurityCity">\n                </div>\n            </div>\n        </div>\n        <!---薪酬信息-->\n        <div class="content-block">\n            <p class="sub-title">薪酬信息</p>\n\n            <div class="form-group">\n                <div input-control options="salaryOptions.baseSalary"\n                     ng-model="baseSalary">\n                </div>\n                <div input-control\n                     options="salaryOptions.probationarySalary"\n                     ng-model="probationarySalary">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="salaryOptions.socialSecurityBase"\n                     ng-model="socialSecurityBase">\n                </div>\n                <div input-control\n                     options="salaryOptions.houseFundBase"\n                     ng-model="houseFundBase">\n                </div>\n            </div>\n            <div five-base class="form-group" ng-show="needFiveBase">\n            </div>\n            <div class="form-group">\n                <div input-control\n                     options="salaryOptions.mobileSubsidy"\n                     ng-model="mobileSubsidy">\n                </div>\n                <div input-control options="salaryOptions.trafficSubsidy"\n                     ng-model="trafficSubsidy">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="salaryOptions.salaryType"\n                     ng-model="salaryType">\n                </div>\n                <div input-control options="\n                salaryOptions.reportAddress"\n                     ng-model="reportAddress">\n                </div>\n            </div>\n\n        </div>\n        <!---其他信息-->\n        <div class="content-block">\n            <p class="sub-title">其他信息</p>\n\n            <div class="form-group">\n                <div input-control options="otherOptions.resumeStorageId"\n                     ng-model="resumeStorageId">\n                </div>\n                <div input-control options="otherOptions.pcType"\n                     ng-model="pcType">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="otherOptions.recommendType"\n                     ng-model="recommendType">\n                </div>\n                <div input-control options="otherOptions.recommendDetail"\n                     ng-model="recommendDetail">\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div input-control options="otherOptions.detail"\n                     ng-model="detail">\n                </div>\n            </div>\n        </div>\n        <div class="content-block" ng-show="isEditing && commited">\n            <div class="form-group">\n                <div input-control options="editOptions.reason"\n                     ng-model="reason">\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="btn-area">\n        <div class="text-muted" ng-hide="isReadOnly">提示：\n            <span class="red">*</span>为保存,预览和提交的必填项，\n            <span class="blue">*</span>为提交的必填项，\n        </div>\n        <button class="btn btn-default btn-sm" type="submit"\n                ng-show="(!isReadOnly)"\n                ng-click="showOfferDetail(newerEnterForm)">预览\n        </button>\n        &nbsp;&nbsp;\n\n        <button class="btn btn-default btn-sm" type="submit"\n                ng-show="canSave && (!isReadOnly)"\n                ng-click="save(newerEnterForm)">保存\n        </button>\n        &nbsp;&nbsp;\n\n\n        <button class="btn btn-primary btn-sm" type="submit"\n                ng-hide="hideSubmit || isReadOnly"\n                ng-click="submit(newerEnterForm)">提交\n        </button>\n        &nbsp;&nbsp;\n\n\n        <button class="btn btn-warning btn-sm pointer"\n                ng-click="desertClick()"\n                ng-show="showAbandonBtn">\n            放弃\n        </button>\n    </div>\n</form>\n<div class="bg-danger" ng-show="showAbandonInfo">\n    <span class="red">该候选人已放弃!</span>\n\n    <p class="reason">原因：{{abandonReason | abandonReason}}\n        &nbsp;&nbsp;{{abandonDetail}}\n    </p>\n</div>\n</div>\n'),e.put("src/module/hr/opt/addAssetId/tpl.html",'<div class="hr-opt-addAssetId">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">录入资产编码</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="addAssetIdForm">\n            <div class="form">\n               <input type="text"\n                      ng-model="assetCode"\n                      ng-change="validityConfirm()"\n                      value="{{assetCode}}"\n                      title="资产编码">\n\n                <div ng-show="!isValid">请输入正确格式资产编码</div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit"  class="btn btn-primary"\n                        ng-click="save(addAssetIdForm)">保存\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/desertCandidate/tpl.html",'<div class="hr-desertCandidate">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">候选人放弃</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="desertCandidateForm">\n            <div class="form-group reason">\n                <div input-control options="inputOptions.reason"\n                     ng-model="reason">\n                </div>\n            </div>\n            <div class="form-group detail">\n                <div input-control options="inputOptions.detail"\n                     ng-model="detail">\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit"  class="btn btn-primary"\n                        ng-click="save(desertCandidateForm)">保存\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n\n</div>\n\n'),e.put("src/module/hr/opt/detail/tpl.html",'<div class="hr-opt-detail">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n    </div>\n    <iframe ng-src="{{url}}" class="detail-iframe"></iframe>\n</div>\n\n'),e.put("src/module/hr/opt/modFiveInsurance/tpl.html",'<div class="hr-opt-modFiveInsurance">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">五险个人缴纳金额详细</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="modFiveInsuranceForm">\n            <table class="table table-bordered table-salary">\n            <tr class="thead">\n                    <td>养老保险</td>\n                    <td>失业保险</td>\n                    <td>医疗保险</td>\n                    <td>工伤保险</td>\n                    <td>生育保险</td>\n                    <td>总计</td>\n                </tr>\n                <tr>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.endowPer"\n                                ng-model="endowPer">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.unemployPer"\n                                ng-model="unemployPer">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.medicalPer"\n                                ng-model="medicalPer">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.injuryPer"\n                                ng-model="injuryPer">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.maternityPer"\n                                ng-model="maternityPer">\n                        </div>\n                    </td>\n                    <td class="sum">{{sumSocialSecurityPer}}</td>\n                </tr>\n            </table>\n            <div class="modal-footer">\n                <button type="submit" class="btn btn-primary"\n                        ng-click="save(modFiveInsuranceForm)">确认\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">取消\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/modFiveInsuranceCom/tpl.html",'<div class="hr-opt-modFiveInsuranceCom">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">五险公司缴纳金额详细</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="modFiveInsuranceComForm">\n            <table class="table table-bordered table-salary">\n            <tr class="thead">\n                    <td>养老保险</td>\n                    <td>失业保险</td>\n                    <td>医疗保险</td>\n                    <td>工伤保险</td>\n                    <td>生育保险</td>\n                    <td>总计</td>\n                </tr>\n                <tr>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.endowCom"\n                                ng-model="endowCom">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.unemployCom"\n                                ng-model="unemployCom">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.medicalCom"\n                                ng-model="medicalCom">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.injuryCom"\n                                ng-model="injuryCom">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.maternityCom"\n                                ng-model="maternityCom">\n                        </div>\n                    </td>\n                    <td class="sum">{{sumSocialSecurityCom}}</td>\n                </tr>\n            </table>\n            <div class="modal-footer">\n                <button type="submit" class="btn btn-primary"\n                        ng-click="save(modFiveInsuranceComForm)">确认\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">取消\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/modMobile/tpl.html",'<div class="hr-desertCandidate">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">修改手机号-验证密码</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="modMobileForm">\n            <div class="form-group">\n                <div input-control options="inputOptions.mobile"\n                     ng-model="mobile">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.code"\n                     ng-model="code">\n                </div>\n                <span clickhandler="sendCode(modMobileForm)" begintimer="beginTimer" timer-button\n                      time="60"></span>\n            </div>\n            <div class="modal-footer">\n                <button type="submit"  class="btn btn-primary"\n                        ng-click="save(modMobileForm)">提交\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/modOfferDetail/tpl.html",'<div class="hr-opt-modOfferDetail">\n    <div class="modalHeader">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n    </div>\n\n    <div class="modal-body">\n        <h2 style="text-align: center">入职通知书</h2>\n        <p>{{lawName}} 您好</p>\n        <p>&nbsp;&nbsp;&nbsp;\n        <span>我们非常荣幸的通知您，欢迎您成为跟谁学的一员.\n        </span></p>\n        <strong>请您于\n            <span ng-class = "{\'offer-line\': enterDate.dateExist}">{{enterDate.dateStr}}</span>10点，到\n            <span ng-class = "{\'offer-line\': office.isExist}">{{office.str}}</span>报到。\n        </strong>\n        <br>\n        <strong>聘用期限、职位情况及薪酬：</strong>\n        <p>入职部门：\n            <span ng-class="{\'offer-line\': structure.isExist}">{{structure.str}}</span>\n        </p>\n        <p>担任职位：\n            <span ng-class="{\'offer-line\': position.isExist}">{{position.str}}</span>\n        </p>\n        <div ng-show="type == 1 && formalDate == 2">\n            <p>聘用期限<span>3</span>年，试用期<span>6</span>个月</p>\n        </div>\n        <div ng-show="type == 1 && formalDate == 1">\n            <p>聘用期限<span>3</span>年，试用期<span>3</span>个月</p>\n        </div>\n        <div ng-show="type != 1">\n            <p>聘用期限<span>6</span>个月</p>\n        </div>\n        <p>试用期工资：\n            <span ng-class="{\'offer-line\': probationarySalary.isExist}">{{probationarySalary.str}}</span>元（人民币／月）。转正工资：\n            <span ng-class="{\'offer-line\':\n            baseSalary.isExist}">{{baseSalary.str}}</span>\n            元（人民币／月）\n        </p>\n        <p>月工资指满勤月收入，支付工资根据实际出勤进行计算。月工资中包含个人所得税</p>\n        <strong>报到时需要您提供以下入职文件：</strong>\n        <ol>\n            <li>原单位离职证明（加盖原单位红印章）1份；</li>\n            <li>二代身份证原件及复印件（正反面在一张纸上）1份；</li>\n            <li>学位证、毕业证原件及复印件1份； </li>\n            <li>北京招商银行借记卡及复印件（复印件上注明银行卡号）1份；</li>\n            <li>个人彩色一寸白底免冠照片电子版1张（用于办理员工卡使用）；</li>\n            <li>入职体检证明（公司指定的体检机构）;</li>\n            <li>员工基础信息采集卡电子打印版（见邮件附件）。</li>\n        </ol>\n        <strong>注意事项</strong>\n        <ol>\n            <li>社保公积金转移业务于每月15日之前办理，15日之后入职的将于下月办理； </li>\n            <li>未在北京参加过社保的同学，需提供一寸白底彩色电子照片（正面、免冠、彩色、白底、服装与背景颜色的反差要大的，jpg格式，宽度：358 像素，高度：441 像素；文件不小于 9KB，不大于 20KB）</li>\n        </ol>\n        <p>以上内容如有任何疑问，请与人力资源部联系。</p>\n        &nbsp;&nbsp;&nbsp;\n        <strong>本通知书为公司保密文件，请认真阅读，不得向任何第三方透露。\n        </strong>\n        <br>\n        <br>\n        <br>\n        <div style="float: right;width: 100px;text-align: center">\n            <span>跟谁学</span><br>\n            <span>{{sendDate.dateStr}}</span>\n        </div>\n    </div>\n\n\n</div>'),e.put("src/module/hr/opt/modSalaryDetail/tpl.html",'<div class="hr-opt-modSalaryDetail">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">备注</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="modSalaryDetailForm">\n\n            <div class="form-group">\n                <div input-control options="inputOptions.detail"\n                     ng-model="detail">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="submit" class="btn btn-primary"\n                ng-click="save(modSalaryDetailForm)">确认\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">取消\n        </button>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/rejoin/tpl.html",'<div class="hr-desertCandidate">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">员工再入职-查找</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="hrRejoinForm">\n            <div class="form-group reason">\n                <div input-control options="inputOptions.idCardNumber"\n                     ng-model="idCardNumber">\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit" class="btn btn-primary"\n                        ng-click="save(hrRejoinForm)">提交\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n\n</div>\n\n'),e.put("src/module/hr/opt/salaryOther/tpl.html",'<div class="hr-opt-salaryOther">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">应发工资其他各项详细</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="modSalaryOtherForm">\n            <table class="table table-bordered table-salary">\n            <tr class="thead">\n                    <td>补充餐补</td>\n                    <td>推荐费用</td>\n                    <td>住房补贴</td>\n                    <td ng-show="isSpecialRewardShow">分公司经理特别奖</td>\n                    <td>补充绩效</td>\n                    <td>其它补贴</td>\n                    <td>总计</td>\n                </tr>\n                <tr>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.mealPlus"\n                                ng-model="mealPlus">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.recommend"\n                                ng-model="recommend">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.houseSubsidy"\n                                ng-model="houseSubsidy">\n                        </div>\n                    </td>\n                    <td ng-show="isSpecialRewardShow">\n                        <div class="special-reward"\n                                input-control\n                                options="inputOptions.specialReward"\n                                ng-model="specialReward">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.performExtSalary"\n                                ng-model="performExtSalary">\n                        </div>\n                    </td>\n                    <td>\n                        <div\n                                input-control\n                                options="inputOptions.otherSubsidy"\n                                ng-model="otherSubsidy">\n                        </div>\n                    </td>\n                    <td><div class="sum">{{otherSalary}}</div></td>\n                </tr>\n            </table>\n            <div class="modal-footer">\n                <button type="submit" class="btn btn-primary"\n                        ng-click="save(modSalaryOtherForm)">确认\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">取消\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/tempCardAdd/tpl.html",'<div class="hr-opt-tempCardAdd">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">添加临时卡</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="tempCardAddForm">\n            <div class="form-group">\n                <div input-control options="inputOptions.cardName"\n                     ng-model="cardName">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.cardNumber"\n                     ng-model="cardNumber">\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit"  class="btn btn-primary"\n                        ng-click="save(tempCardAddForm)">添加\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/tempCardBorrow/tpl.html",'<div class="hr-opt-tempCardBorrow">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">借出临时卡</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="tempCardBorrowForm">\n            <div class="form-group">\n                <label class="col-sm-2">卡名:</label>\n                <div class="col-sm-4">{{cardName}}</div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.borrowUserName"\n                     ng-model="borrowUserName">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.idCardNumber"\n                     ng-model="idCardNumber">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="inputOptions.memo"\n                     ng-model="memo">\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit"  class="btn btn-primary"\n                        ng-click="save(tempCardBorrowForm)">提交\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/tempCardDel/tpl.html",'<div class="hr-opt-tempCardDel">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">删除临时卡</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="tempCardDelForm">\n\n            <div class="form-group">\n                <div input-control options="inputOptions.detail"\n                     ng-model="detail">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button type="submit" class="btn btn-primary"\n                ng-click="save(tempCardDelForm)">确认\n        </button>\n        <button type="button" class="btn btn-default"\n                ng-click="closeHandler()"\n                data-dismiss="modal">取消\n        </button>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/tempCardReturn/tpl.html",'<div class="hr-opt-tempCardReturn">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">归还临时卡</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="tempCardReturnForm">\n            <div class="form-group">\n                <label class="col-sm-2">卡名:</label>\n                <div class="col-sm-4">{{cardName}}</div>\n            </div>\n            <div class="form-group">\n                <label class="col-sm-2">借卡人:</label>\n                <div class="col-sm-4">{{borrowName}}</div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit"  class="btn btn-primary"\n                        ng-click="save(tempCardReturnForm)">归还\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/uploadHeadImg/tpl.html",'<div class="hr-uploadHeadImg">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">上传照片</h4>\n    </div>\n\n    <div class="modal-body ">\n        <div class="content-tip">\n            <p><label>照片要求</label></p>\n\n            <p>1.近期(半年内)正面免冠电子版照片一张，面带微笑；</p>\n\n            <p ng-if="!userInfo.isAgent">2.穿着深色，最好是本公司服装；</p>\n\n            <p ng-if="userInfo.isAgent">2.着白色logo文化衫;</p>\n\n            <p>3.使用偏暖灰浅色背景；</p>\n\n            <p>4.照片要求: 大于 100KB，小于5M（建议使用单反相机或苹果手机拍摄）；</p>\n\n            <p>5.照片要求人像清晰，神态自然。不建议使用黑白照片或经翻拍的照片；</p>\n\n            <p>6.只能上传png、jpg、jpeg后缀的文件；</p>\n        </div>\n        <div class="img-area">\n            <div image-crop options="imgOptions"></div>\n        </div>\n    </div>\n</div>\n\n'),e.put("src/module/hr/opt/validatePassword/tpl.html",'<div class="hr-desertCandidate">\n    <div class="modal-header">\n        <button type="button" class="close"\n                ng-click="closeHandler()"\n                data-dismiss="modal"><span\n                aria-hidden="true">&times;</span><span\n                class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title">修改手机号-验证密码</h4>\n    </div>\n\n    <div class="modal-body ">\n        <form class="form-horizontal" role="form" novalidate\n              name="validatePasswordForm">\n            <div class="form-group reason">\n                <div input-control options="inputOptions.password"\n                     ng-model="password">\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="submit"  class="btn btn-primary"\n                        ng-click="save(validatePasswordForm)">下一步\n                </button>\n                <button type="button" class="btn btn-default"\n                        ng-click="closeHandler()"\n                        data-dismiss="modal">关闭\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n'),e.put("src/module/hr/salaryChangeInfo/tableTpl/content.html",'<div ng-bind-html="item.content">\n</div>'),e.put("src/module/hr/salaryChangeInfo/tpl.html",'<div class="hr-changeInfo">\n    <div table-control options="tableOptions">\n    </div>\n</div>\n'),e.put("src/module/hr/salaryInfo/tpl.html",'<form class="form-horizontal hr-salaryInfo" name="salaryInfoForm"\n      novalidate="novalidate">\n    <div class="content-container">\n        <div ng-show="canEditSalaryInfo\n        ||(isFromSelf && mealSubsidyToMealCard)">\n            <span class="edit" ng-click="onEdit()">\n            <i class="glyphicon glyphicon-pencil"></i>\n            编辑\n            </span>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2">基本工资：</div>\n            <div class="col-sm-4">\n                {{baseSalary|salary}}\n                <span ng-show="welfareSalary>0  && (!isProbationary)"\n                      class="gray">(包含{{welfareOri}}元职位福利费)\n                </span>\n            </div>\n            <div class="col-sm-2">试用期基本工资：</div>\n            <div class="col-sm-4">\n                {{probationarySalary|salary}}\n                <span ng-show="welfareSalary>0  && isProbationary"\n                      class="gray">(包含{{welfareOri}}元职位福利费)\n                </span>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2">社保缴纳基数：</div>\n            <div class="col-sm-4">{{socialSecurityBase|unit:\'元\'}}</div>\n            <div class="col-sm-2">公积金缴纳基数：</div>\n            <div class="col-sm-4">{{houseFundBase|unit:\'元\'}}</div>\n        </div>\n        <div class="form-group" ng-show="needFiveBase && !isSelfView">\n            <table width="100%" class="table1">\n                <tr class="thead">\n                    <td class="td1">&nbsp;</td>\n                    <td>养老</td>\n                    <td>失业</td>\n                    <td>医疗</td>\n                    <td>工伤</td>\n                    <td>生育</td>\n                </tr>\n                <tr>\n                    <td class="col1 td1">\n                        五险基数：\n                    </td>\n                    <td>\n                        {{endowBase|unit:\'元\'}}\n                    </td>\n                    <td>\n                        {{unemployBase|unit:\'元\'}}\n                    </td>\n                    <td>\n                        {{medicalBase|unit:\'元\'}}\n                    </td>\n                    <td>\n                        {{injuryBase|unit:\'元\'}}\n                    </td>\n                    <td>\n                        {{maternityBase|unit:\'元\'}}\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2">通讯补贴：</div>\n            <div class="col-sm-4">{{mobileSubsidy|salary}}</div>\n            <div class="col-sm-2">交通补贴：</div>\n            <div class="col-sm-4">{{trafficSubsidy|salary}}</div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2">工资类型：</div>\n            <div class="col-sm-4">{{salaryType|salaryType}}</div>\n\n            <div ng-show="maxWelfareSalary>0" input-control\n                 options="options.welfareSalary"\n                 ng-model="welfareSalary">\n            </div>\n        </div>\n        <div class="form-group">\n            <div ng-show="mealSubsidyToMealCard" input-control\n                 options="options.mealSalaryMethod"\n                 ng-model="mealSalaryMethod">\n            </div>\n        </div>\n        <div class="form-group"\n             ng-show="(canEditSalaryInfo||(isFromSelf && mealSubsidyToMealCard))\n             && !isReadOnly">\n            <div class="col-sm-12 center">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="saveSalaryInfo(salaryInfoForm)">保存\n                </button>\n            </div>\n        </div>\n    </div>\n</form>'),e.put("src/module/hr/salaryList/tableTpl/detail.html",'<div class="detail">\n    <div ng-if="item.isEdit && (!mainScope.onlyViewMode)">\n        <i class="glyphicon glyphicon-pencil detail-edit"\n           ng-click="mainScope.onDetailClick($parent.$parent.$parent.$index)">\n        </i>\n        <a ng-click="mainScope.onDetailClick($parent.$parent.$parent.$parent.$index)"\n           popover="{{item.detail}}"\n           popover-trigger="mouseenter" popover-placement="top"\n           popover-append-to-body="true"\n           class="detail-content">\n            {{item.detail}}\n        </a>\n    </div>\n    <span ng-if="!item.isEdit || mainScope.onlyViewMode"\n          popover="{{item.detail}}"\n          popover-trigger="mouseenter" popover-placement="top"\n          popover-append-to-body="true"\n          class="detail-content">\n        {{item.detail}}\n    </span>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/executeSalary.html","<div>\n   {{item.executeSalary}}{{item.executeSalaryTypeValue}}\n</div>"),e.put("src/module/hr/salaryList/tableTpl/fullDay.html","<div>\n   {{item.maxDay}}/{{item.fullDay}}\n</div>"),e.put("src/module/hr/salaryList/tableTpl/houseFundCom.html",'<div ng-class="{\'red\':item.houseFundCom<0}">\n    <div input-control\n         options="mainScope[\'houseFundComOptions\'+$parent.$parent.$index]"\n         ng-model="item.houseFundCom">\n    </div>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/houseFundPer.html",'<div ng-class="{\'red\':item.houseFundPer<0}">\n    <div input-control\n         options="mainScope[\'houseFundPerOptions\'+$parent.$parent.$index]"\n         ng-model="item.houseFundPer">\n    </div>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/name.html",'<div ng-class="{\'yellow-bg\': item.yellowBg}"\n     popover="{{item.structureName}}"\n     popover-trigger="mouseenter"\n     popover-placement="top"\n     popover-append-to-body="true"\n>\n    {{item.lawName}}\n</div>\n'),e.put("src/module/hr/salaryList/tableTpl/opt.html",'<div class="inline-opt-area">\n    <div ng-show="!mainScope.onlyViewMode">\n        <a\n                ng-show="item.isEdit"\n                ng-click="mainScope.onSave($parent.$parent.$index)">保存</a>\n        <a\n                ng-show="item.isEdit"\n                ng-click="mainScope.onConfirm($parent.$parent.$index)">确认</a>\n        <a ng-show="!item.isEdit && mainScope.canEditSalary"\n           ng-click="mainScope.onEdit($parent.$parent.$index)">编辑</a>\n    </div>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/otherSalary.html",'<div ng-class="{\'red\':item.otherSalary<0}">\n    <a ng-if="item.isEdit && !mainScope.onlyViewMode"\n       ng-click="mainScope.onOtherSalaryClick($parent.$parent.$parent.$index)">\n        {{item.otherSalary}}\n    </a>\n    <span ng-if="!item.isEdit || mainScope.onlyViewMode">\n        {{item.otherSalary}}\n    </span>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/performSalary.html",'<div  class="perform-salary"\n      ng-class="{\'red\':item.performLeaveSalary<0}"\n      popover-html-unsafe="{{item.performSalaryHtml}}"\n      popover-trigger="click"\n      popover-title="绩效详情"\n      popover-append-to-body="true"\n      popover-placement="right"\n      >\n    <div input-control\n         options="mainScope[\'performSalaryOptions\'+$parent.$parent.$parent.$index]"\n         ng-model="item.performSalary" >\n    </div>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/personTax.html",'<div class=""  ng-class="{\'red\':item.personTax<0}">\n    <div input-control\n         options="mainScope[\'personTaxOptions\'+$parent.$parent.$index]"\n         ng-model="item.personTax">\n    </div>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/realDay.html",'<div class="real-day">\n    <div input-control\n         options="mainScope[\'realDayOptions\'+$parent.$parent.$index]"\n         ng-model="item.realDay">\n    </div>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/realSum.html",'<div\n    class="real-sum" popover-html-unsafe="{{item.realSumHtml}}"\n    popover-trigger="mouseenter"\n    popover-title="绩效工资详情"\n    popover-placement="left"\n    popover-append-to-body="true"\n    ng-class="{\'red\':item.realSumAll<0}">\n        {{item.realSumAll}}\n</div>\n\n'),e.put("src/module/hr/salaryList/tableTpl/sumCom.html",'<div class="" ng-class="{\'red\':item.sumCom<0}">\n    {{item.sumCom}}\n</div>\n'),e.put("src/module/hr/salaryList/tableTpl/sumMinusPer.html",'<div class="real-sum" ng-class="{\'red\':item.sumMinusPer<0}">\n    {{item.sumMinusPer}}\n</div>'),e.put("src/module/hr/salaryList/tableTpl/sumSalary.html","<div ng-class=\"{'red':item.sumSalary<0}\">\n   {{item.sumSalary}}</a>\n</div>"),e.put("src/module/hr/salaryList/tableTpl/sumSocialSecurityCom.html",'<div  ng-class="{\'red\':item.sumSocialSecurityCom<0}">\n    <a\n            ng-if="!item.noInsurance && item.isEdit && !mainScope.onlyViewMode" ng-click="mainScope.onSumSocialSecurityComClick($parent.$parent.$parent.$index)">\n        {{item.sumSocialSecurityCom}}\n    </a>\n    <span ng-if="item.noInsurance || (!item.isEdit) || mainScope.onlyViewMode">\n        {{item.sumSocialSecurityCom}}\n    </span>\n</div>\n'),e.put("src/module/hr/salaryList/tableTpl/sumSocialSecurityPer.html",'<div ng-class="{\'red\':item.sumSocialSecurityPer<0}">\n    <a  ng-if="!item.noInsurance && item.isEdit && !mainScope.onlyViewMode" ng-click="mainScope.onSumSocialSecurityPerClick($parent.$parent.$parent.$index)">\n        {{item.sumSocialSecurityPer}}\n    </a>\n    <span ng-if="item.noInsurance || (!item.isEdit) || mainScope.onlyViewMode">\n        {{item.sumSocialSecurityPer}}\n    </span>\n</div>\n'),e.put("src/module/hr/salaryList/tableTpl/systemMemo.html",'<div class="system-Memo">\n    <span class="detail-content" popover="{{item.systemMemo}}"\n    popover-trigger="mouseenter"\n    popover-placement="top"\n    popover-append-to-body="true"\n    >\n        {{item.systemMemo}}\n    </span>\n</div>'),e.put("src/module/hr/salaryList/tableTpl/taxFreeSubsidy.html",'<div ng-class="{\'red\':item.taxFreeSubsidy<0}">\n    <div input-control\n         options="mainScope[\'taxFreeSubsidyOptions\'+$parent.$parent.$index]"\n         ng-model="item.taxFreeSubsidy">\n    </div>\n</div>'),e.put("src/module/hr/salaryList/tpl.html",'<div class="hr-salaryList">\n    <h5>\n        <span>应发工资名单查询</span>\n    </h5>\n    <form class="form-horizontal query-container"\n          role="form" novalidate="novalidate" class=\'salaryQueryForm\'>\n        <div class="row">\n            <div class="col-sm-3 control">\n                <label>组织架构:</label>\n                <select class="form-control"\n                        ng-change="onStructureChange(query.structure)"\n                        ng-model="query.structure"\n                        ng-options="m.id as m.name for m in structureList">\n                </select>\n            </div>\n            <div class="col-sm-3 control">\n                <label>月份:</label>\n                <input class="form-control month" placeholder="yy-MM"\n                       type=\'month\'\n                       max="{{monthMax}}"\n                       ng-model="query.month">\n            </div>\n            <div class="col-sm-1 control">\n                <button class="btn btn-primary" ng-click="onSearch()">查询\n                </button>\n            </div>\n        </div>\n    </form>\n\n    <div class="table-opt-area">\n        <span ng-show="!onlyViewMode">\n            <span class="btn btn-primary btn-sm" ng-click="onBatchSaveClick()"\n                  ng-disabled="!tableOptions.selectedItems.length"\n                    >批量保存\n            </span>\n            <span class="btn btn-warning btn-sm"\n                  ng-click="onBatchConfirmClick()"\n                  ng-disabled="!tableOptions.selectedItems.length"\n                    >批量确认\n            </span>\n            <span class="btn btn-default btn-sm" ng-show=\'hasMealSubsidyList\'>\n                <a target="_blank" href="{{exportMealSubsidyListUrl}}">\n                    导出餐补名单\n                </a>\n            </span>\n            <span class="btn btn-default btn-sm">\n                <a target="_blank" href="{{exportWelfareSalaryListUrl}}">\n                   职位福利费导出\n                </a>\n            </span>\n            <a class="export" target="_blank" href="{{exportUrl}}">\n                导出\n            </a>\n        </span>\n    </div>\n    <form name="salaryComputeForm">\n        <div table-control options="tableOptions">\n        </div>\n    </form>\n    <div class="text-muted bg-tip">提示：红色记录代表由于出勤原因或者罚款过多导致员工本月不能参与职位福利费</div>\n\n</script>\n</div>\n'),e.put("src/module/hr/search/tableTpl/entryLeaveLog.html",'<span popover-html-unsafe="{{item.entryLeaveLog}}" \n   popover-trigger="mouseenter" \n   popover-popup-delay="300" \n   popover-placement="top" \n   popover-append-to-body="true" \n   title="{{item.entryLeaveLog}}" \n   style="width: 80px;"\n   class="ellipsis">\n        {{item.entryLeaveLog}}\n    </span>'),e.put("src/module/hr/search/tableTpl/name.html",'<div>\n    <span\n            ng-if="$parent.$parent.$parent.$parent.isRecruitHRSearch">\n        <a ng-click="$parent.$parent.$parent.$parent.$parent.viewInfo(item.number,\'newerSearch\')"\n           class="pointer"\n                >{{item.name}}</a>\n    </span>\n    <span\n            ng-if="$parent.$parent.$parent.$parent.isHRSearch\n            || $parent.$parent.$parent.$parent.isToJoinSearch\n            || $parent.$parent.$parent.$parent.isAdminSearch\n            || $parent.$parent.$parent.$parent.isBillSearch">\n        <a ng-click="$parent.$parent.$parent.$parent.$parent.viewInfo(item.number,\'search\')"\n           class="pointer"\n                >{{item.name}}</a>\n    </span>\n    <span\n            ng-if="$parent.$parent.$parent.$parent.entryName == \'subordinate.search\'\n            || $parent.$parent.$parent.$parent.entryName == \'subordinate.ownerSearch\' ">\n        <a\n                class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.$parent.viewInfo(item.number,\'subordinateSearch\')"\n                >{{item.name}}</a>\n    </span>\n    <span\n            ng-if="$parent.$parent.$parent.$parent.entryName == \'hr.assetManagerSearch\'">\n        {{item.name}}\n    </span>\n    <span\n            ng-if="$parent.$parent.$parent.$parent.entryName == \'hr.itManagerSearch\'">\n        {{item.name}}\n    </span>\n</div>\n'),e.put("src/module/hr/search/tableTpl/opt.html",'<div class="inline-opt-area">\n    <span class="opt"\n          ng-if="$parent.$parent.$parent.$parent.isRecruitHRSearch">\n        <a ng-click="$parent.$parent.$parent.$parent.$parent.viewInfo(item.number,\'newerSearch\')"\n           class="pointer"\n                >查看/修改</a>\n    </span>\n    <span\n            class="opt"\n            ng-if="$parent.$parent.$parent.$parent.isHRSearch || $parent.$parent.$parent.$parent.isToJoinSearch">\n        <a ng-click="$parent.$parent.$parent.$parent.$parent.viewInfo(item.number,\'search\')"\n           class="pointer"\n                >查看/修改</a>\n    </span>\n    <span class="opt"\n          ng-if="$parent.$parent.$parent.$parent.entryName == \'subordinate.search\'">\n        <a\n                class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.$parent.viewInfo(item.number,\'subordinateSearch\')"\n                >查看/修改</a>\n    </span>\n    <span class="opt"\n          ng-if="$parent.$parent.$parent.$parent.entryName == \'subordinate.ownerSearch\'">\n        <a\n                class="pointer"\n                ng-click="$parent.$parent.$parent.$parent.$parent.viewInfo(item.number,\'subordinateSearch\')"\n                >查看/修改</a>\n    </span>\n    <span class="opt"\n          ng-if="false">\n        <a ng-click="$parent.$parent.$parent.$parent.$parent.setPermission(item.number)"\n           class="pointer"\n                >权限配置</a>\n    </span>\n    <span class="opt"\n          ng-if="$parent.$parent.$parent.$parent.entryName == \'admin.search\'">\n        <a ng-click="$parent.$parent.$parent.$parent.$parent.modKeyInfo(item)"\n           class="pointer"\n                >修改</a>\n    </span>\n    <span class="opt" ng-show="item.canSeeInitInfo">\n    <a ng-click="$parent.$parent.$parent.$parent.viewInitInfo(item.number)"\n       class="pointer"\n            >查看初始信息</a\n    </span>\n    <span class="opt" ng-show="item.canAddAssetCode">\n    <a ng-click="$parent.$parent.$parent.$parent.addAssetCodeClick(item)"\n       class="pointer"\n            >录入资产编码</a>\n    </span>\n    <span class="opt" ng-show="item.canSeeJoinWork">\n\n       <a ng-click="$parent.$parent.$parent.$parent.joinWorkClick(item.number)"\n          class="pointer"\n               >入职</a>\n    </span>\n\n    <span class="opt" ng-show="item.canSeeAbandon">\n       <a ng-click="$parent.$parent.$parent.$parent.abandonClick(item.number)"\n          class="pointer"\n               >放弃</a>\n    </span>\n\n    <span class="opt" ng-show="item.canSeeSubAccount">\n       <a ng-click="$parent.$parent.$parent.$parent.viewSubAccountClick(item)"\n          class="pointer"\n               >下属</a>\n    </span>\n</div>'),e.put("src/module/hr/search/tpl.html",'<div class="hr-search">\n    <h5>\n        <span>{{title}}</span>\n    </h5>\n\n    <form class="form-horizontal query-container" novalidate="novalidate">\n        <div class="row">\n            <!-- <div class="col-sm-3 control">\n                <label>编号:</label>\n                <input class="form-control" ng-model="query.number">\n            </div> -->\n            <div class="col-sm-3 control"\n                 ng-show="!isRecruitHRSearch">\n                <label>姓名:</label>\n                <span name-suggestion ng-model="query.name"></span>\n            </div>\n            <div class="col-sm-3 control"\n                 ng-show="isRecruitHRSearch">\n                <label>姓名:</label>\n                <input class="form-control" ng-model="query.name"/>\n            </div>\n            <div class="col-sm-3 control">\n                <label>手机号:</label>\n                <input class="form-control" ng-model="query.mobile">\n            </div>\n            <div class="col-sm-3 control">\n                <label>直属领导:</label>\n                <span name-suggestion ng-model="query.leader"></span>\n            </div>\n            <div class="col-sm-3 control">\n                <label>员工状态:</label>\n                <select class="form-control" ng-model="query.status"\n                        ng-options="m.id as m.name for m in staffStatus">\n                </select>\n            </div>\n            <div class="col-sm-3 control"\n                 ng-show="!isRecruitHRSearch && !userInfo.isAgent">\n                <label>员工类型:</label>\n                <select class="form-control" ng-model="query.type"\n                        ng-options="m.id as m.name for m in staffType">\n                </select>\n            </div>\n            <div class="col-sm-3 control">\n                <label>组织架构:</label>\n                <span structure-selector ng-model="query.structure"\n                      options=\'structureOptions\'>\n                        >\n                </span>\n            </div>\n            <div class="col-sm-5 control"\n                 ng-show="isRecruitHRSearch"\n                    >\n                <label>入职日期:</label>\n                <input class="form-control" placeholder="yyyy-MM-dd" type=\'date\'\n                       ng-model="query.promiseEnterDateBegin">\n                至\n                <input type=\'date\' placeholder="yyyy-MM-dd"\n                       class="form-control"\n                       ng-model="query.promiseEnterDateEnd">\n            </div>\n            <div class="col-sm-3 control" ng-show="isAssetManagerSearch">\n                <label>电脑类型:</label>\n                <select ng-model="query.pcType" class="form-control"\n                        ng-options="m.id as m.name for m in pcTypeItems">\n                </select>\n            </div>\n            <div class="col-sm-1 control">\n                <button class="btn btn-primary" ng-click="onSearch()">查询\n                </button>\n            </div>\n        </div>\n    </form>\n    <div class="table-plus-info">\n        <div ng-show="leaderStack.length">\n            <span class="return pointer" ng-click="returnLastLeaderClick()">\n                <i class="glyphicon glyphicon-arrow-left"></i>\n                返回\n            </span>\n        </div>\n    </div>\n    <div class="table-opt-area">\n        <a class="export" target="_blank" href="{{exportUrl}}"\n           ng-show="showExport">\n            导出\n        </a>\n\n        <div class="custom-cols" custom-cols options="userDefineColOptions"\n             ng-show="showCustomCols"\n             confirm-handler=\'userDefineColConfirmHandler(error)\'>\n        </div>\n    </div>\n    <div table-control options="tableOptions">\n    </div>\n</div>\n'),e.put("src/module/hr/secretInfo/familyAdd.html",'<div class="wraper-edit" ng-show="addingFamilyMember">\n    <form class="form-horizontal" name="familyMemberAddForm"\n          novalidate="novalidate">\n        <div class="form-group">\n            <div input-control options="familyMemberOptions.name"\n                 ng-model="familyMemberAdd.name">\n            </div>\n            <div input-control options="familyMemberOptions.title"\n                 ng-model="familyMemberAdd.title">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="familyMemberOptions.birthday"\n                 ng-model="familyMemberAdd.birthday">\n            </div>\n            <div input-control options="familyMemberOptions.company"\n                 ng-model="familyMemberAdd.company">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="familyMemberOptions.position"\n                 ng-model="familyMemberAdd.position">\n            </div>\n            <div input-control options="familyMemberOptions.mobile"\n                 ng-model="familyMemberAdd.mobile">\n            </div>\n        </div>\n        <div class="center">\n        <span class="btn btn-sm btn-warning"\n              ng-click="familyMemberAdd.onSave(familyMemberAddForm)">添加</span>\n            <span class="btn btn-sm btn-default"\n                  ng-click="familyMemberAdd.onCancel()">取消</span>\n        </div>\n    </form>\n</div>\n'),e.put("src/module/hr/secretInfo/tpl.html",'<div class="content-container hr-secretInfo">\n    <div class="content-block">\n        <div ng-show="canEditSecretInfo">\n            <span class="edit" ng-click="onEdit()">\n            <i class="glyphicon glyphicon-pencil"></i>\n            编辑\n            </span>\n        </div>\n        <form class="form-horizontal" name="secretInfoForm"\n              novalidate="novalidate">\n            <div class="form-group">\n                <div input-control options="secretOptions.bank"\n                     ng-model="bank">\n                </div>\n                <div input-control options="secretOptions.cardNum"\n                     ng-model="cardNum">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="secretOptions.personalEmail"\n                     ng-model="personalEmail">\n                </div>\n                <div input-control options="secretOptions.emergContact"\n                     ng-model="emergContact">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="secretOptions.emergContactMobile"\n                     ng-model="emergContactMobile">\n                </div>\n                <div input-control options="secretOptions.address"\n                     ng-model="address">\n                </div>\n            </div>\n            <div class="form-group">\n                <div input-control options="secretOptions.filePlace"\n                     ng-model="filePlace">\n                </div>\n            </div>\n            <div class="form-group" ng-show="!isReadOnly">\n                <div class="col-sm-12 center">\n                    <button class="btn btn-sm btn-primary"\n                            ng-click="saveSecretInfo(secretInfoForm)">保存\n                    </button>\n                    <span class="btn btn-sm btn-default"\n                          ng-click="cancelPart1(secretInfoForm)">取消\n                    </span>\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="family-container">\n        <div ng-show="canEditSecretInfo">\n            <span class="edit" ng-click="onEditPart2()">\n            <i class="glyphicon glyphicon-pencil"></i>\n            编辑\n            </span>\n        </div>\n        <br>\n\n        <div>\n            家庭成员\n        <span class="add" ng-click="familyMemberAdd.addClick()"\n              ng-show="!isReadOnly2">\n            <i class="glyphicon glyphicon-plus"></i>\n            添加\n        </span>\n        </div>\n\n        <div ng-include="\'src/module/hr/secretInfo/familyAdd.html\'"></div>\n        <div family-info\n             ng-repeat="item in familyList"\n             options="item">\n\n        </div>\n        <form class="form-horizontal">\n            <div class="form-group" ng-show="!isReadOnly2"\n                 style="margin: 10px 0 0">\n                <div class="col-sm-12 center">\n                    <button class="btn btn-sm btn-default"\n                            ng-click="cancelPart2()">取消\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n'),e.put("src/module/hr/securityList/tpl.html",'<div class="hr-taxList">\n    <h5>\n        <span>社保缴纳名单查询</span>\n    </h5>\n\n    <form class="form-horizontal query-container" novalidate="novalidate">\n        <div class="row">\n            <div class="col-sm-3 control">\n                <label>社保缴纳城市:</label>\n                <select class="form-control" ng-model="query.city"\n                        ng-options="m.id as m.name for m in cityList">\n                </select>\n            </div>\n            <div class="col-sm-3 control">\n                <label>月份:</label>\n                <input class="form-control month" placeholder="yy-MM"\n                       type=\'month\'\n                       max="{{monthMax}}"\n                       ng-model="query.month">\n            </div>\n            <div class="col-sm-1 control">\n                <button class="btn btn-primary" ng-click="onSearch()">查询\n                </button>\n            </div>\n        </div>\n    </form>\n    <div class="table-opt-area">\n        <a class="export" target="_blank" href="{{exportUrl}}">\n            导出\n        </a>\n    </div>\n    <div table-control options="tableOptions">\n    </div>\n</div>\n'),e.put("src/module/hr/staffInfo/tpl.html",'<div class="hr-staffInfo">\n    <h5>\n        <span>{{pageTitle}}</span>\n    </h5>\n\n    <div class="container-fluid" common-info number="{{number}}">\n    </div>\n    <div class="opt-btn">\n        <!--zhanwentao-->\n        <button class="btn btn-default pointer"\n                style="background-color: #618fe4;"\n                ng-show="showJoinBtn"\n                ng-click="getJobNumber()"\n                ng-disabled="hasGetJobNumber"\n                ng-show="!isAgent"\n                >\n            <span ng-if="!hasGetJobNumber">生成工号</span>\n            <span ng-if="hasGetJobNumber">已生成工号</span>\n        </button>\n        <button class="btn btn-primary pointer"\n                ng-click="joinWorkClick()"\n                ng-show="showJoinBtn && !isAgent"\n                >\n            入职\n        </button>\n\n        <button class="btn btn-default pointer"\n                ng-show="canSeeInitInfo"\n                ng-click="initInfoClick()"\n                >\n            查看初始信息\n        </button>\n    </div>\n    <div class="bg-danger" ng-show="showJoinBtn">\n        备注： {{detail}}\n    </div>\n    <ul class="nav nav-tabs">\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.baseInfo\')}"\n            ng-show="canReadBaseInfo">\n            <a\n                    ui-sref="{{entryName}}.baseInfo">个人资料</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.workInfo\')}"\n            ng-show="canReadWorkInfo">\n            <a ui-sref="{{entryName}}.workInfo">岗位信息</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.salaryInfo\')}"\n            ng-show="canReadSalaryInfo && !isAgent">\n            <a ui-sref="{{entryName}}.salaryInfo">薪酬信息</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.secretInfo\')}"\n            ng-show="canReadSecretInfo && !isAgent">\n            <a ui-sref="{{entryName}}.secretInfo">隐私信息</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.changeInfo\')}"\n            ng-show="canReadChangeInfo">\n            <a ui-sref="{{entryName}}.changeInfo">岗位变动历史</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.salaryChangeInfo\')}"\n            ng-show="canReadSalaryInfo && !isAgent">\n            <a ui-sref="{{entryName}}.salaryChangeInfo">薪酬变动历史</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.leaveInfo\')}"\n            ng-show="canReadLeaveInfo">\n            <a ui-sref="{{entryName}}.leaveInfo">员工离职</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.workTargetInfo\')}"\n            ng-show="canReadWorkTargetInfo">\n            <a ui-sref="{{entryName}}.workTargetInfo">试用期工作目标</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.formalApplyInfo\')}"\n            ng-show="canReadFormalApplyInfo">\n            <a ui-sref="{{entryName}}.formalApplyInfo">试用期转正申请</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'*.*.monthSalary\')}"\n            ng-show="canReadMonthSalary && !isAgent">\n            <a ui-sref="{{entryName}}.monthSalary">工资单</a>\n        </li>\n    </ul>\n    <div ui-view></div>\n\n    <div class="row opt-container" ng-show="showOptArea">\n        <h5 style="text-align: left">\n            <span>工作台</span>\n        </h5>\n        <div class="col-btn"\n             ng-show="showProbationChangeBtn">\n            <button class="btn btn-primary"\n                    ng-click="onChangeProbation()"\n                    ng-disabled="disableProbationChangeBtn"\n                    >试用期变更\n            </button>\n        </div>\n        <div class="col-btn"\n             ng-show="showWorkTargetBtn">\n            <button class="btn btn-primary"\n                    ng-click="onWriteWorkTarget()"\n                    ng-disabled="disableWorkTargetBtn"\n                    >试用期工作目标\n            </button>\n        </div>\n        <div class="col-btn"\n             ng-show="showFormalApplyBtn">\n            <button class="btn btn-primary"\n                    ng-click="onFormalApply()"\n                    ng-disabled="disableFormalApplyBtn"\n                    >试用期转正申请\n            </button>\n        </div>\n        <div class="col-btn"\n             ng-show="showTransFullBtn">\n            <button class="btn btn-primary"\n                    ng-click="onTransFull()"\n                    ng-disabled="disableTransFullBtn"\n                    >实习生/劳务转正式\n            </button>\n        </div>\n        <div class="col-btn"\n             ng-show="showStructureChangeBtn">\n            <button class="btn btn-primary"\n                    ng-click="onChangeStructure()"\n                    ng-disabled="disableStructureChangeBtn"\n                    >内部人事调动\n            </button>\n        </div>\n        <div class="col-btn"\n             ng-show="showSalaryChangeBtn && !isAgent">\n            <button class="btn btn-primary"\n                    ng-click="onChangeSalary()"\n                    ng-disabled="disableSalaryChangeBtn"\n                    >岗位薪酬调整\n            </button>\n        </div>\n        <div class="col-btn"\n             ng-show="showLeaveBtn">\n            <button class="btn btn-primary"\n                    ng-click="onLeave()"\n                    ng-disabled="disbaleLeaveBtn"\n                    >发起离职\n            </button>\n        </div>\n        <div class="col-btn"\n             ng-show="showMultipleBtn && !isAgent">\n            <button class="btn btn-primary"\n                    ng-click="onMultiple()"\n                    ng-disabled="disbaleMultipleBtn"\n                    >综合审批\n                <i popover="跨公司调整、调整部门、岗位、薪酬、签约公司、社保城市等"\n                   popover-trigger="mouseenter" popover-placement="top"\n                   popover-append-to-body="true"\n                   class="glyphicon glyphicon-question-sign"></i>\n            </button>\n        </div>\n\n        <div class="col-btn"\n             ng-show="showForbidBtn">\n            <button class="btn btn-primary"\n                    ng-click="onForbid()"\n                    >{{curForbidBtnName}}\n            </button>\n        </div>\n    </div>\n</div>\n'),e.put("src/module/hr/taxList/tpl.html",'<div class="hr-taxList">\n    <h5>\n        <span>个税名单查询</span>\n    </h5>\n\n    <form class="form-horizontal query-container" novalidate="novalidate">\n        <div class="row">\n            <div class="col-sm-3 control">\n                <label>组织架构:</label>\n                <select class="form-control" ng-model="query.structure"\n                        ng-options="m.id as m.name for m in structureList">\n                </select>\n            </div>\n            <div class="col-sm-3 control">\n                <label>月份:</label>\n                <input class="form-control month" placeholder="yy-MM"\n                       type=\'month\'\n                       max="{{monthMax}}"\n                       ng-model="query.month">\n            </div>\n            <div class="col-sm-1 control">\n                <button class="btn btn-primary" ng-click="onSearch()">查询\n                </button>\n            </div>\n        </div>\n    </form>\n    <div class="table-opt-area">\n        <a class="export" target="_blank" href="{{exportUrl}}">\n            导出\n        </a>\n    </div>\n    <div table-control options="tableOptions">\n    </div>\n</div>\n'),e.put("src/module/hr/tempCard/table/tableTpl/opt.html",'<div class="inline-opt-area">\n    <span class="opt"\n          ng-show="item.status == mainScope.tabCode.HAD_BORROW">\n        <a ng-click="mainScope.onSingleReturnClick(item)"\n           class="pointer"\n                >归还</a>\n    </span>\n    <span class="opt"\n          ng-show="item.status == mainScope.tabCode.CAN_BORROW">\n        <a ng-click="mainScope.onSingleBorrowClick(item)"\n           class="pointer"\n                >借出</a>\n    </span>\n    <span class="opt">\n        <a ng-click="mainScope.onSingleDelClick(item)"\n           class="pointer"\n                >删除</a>\n    </span>\n</div>'),e.put("src/module/hr/tempCard/table/tableTpl/title.html",'<div class="">\n</div>'),e.put("src/module/hr/tempCard/table/tpl.html",'<div class="">\n    <div class="table-opt-area">\n        <button class="btn btn-primary btn-sm"\n                ng-click="addTempCard()">添加临时卡\n        </button>\n    </div>\n    <div table-control options="tableOptions">\n    </div>\n</div>\n'),e.put("src/module/hr/tempCard/tpl.html",'<div class="tempCard-list">\n    <h5>\n        <span>临时卡管理</span>\n    </h5>\n    <ul class="nav nav-tabs">\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'hr.tempCard.all\')}">\n            <a\n                    ui-sref="hr.tempCard.all">全部 ( {{count.all}} )</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'hr.tempCard.canBorrow\')}">\n            <a ui-sref="hr.tempCard.canBorrow">可借出 ( {{count.canBorrow}} )</a>\n        </li>\n        <li role="presentation"\n            ng-class="{active: $state.includes(\'hr.tempCard.hadBorrow\')}">\n            <a ui-sref="hr.tempCard.hadBorrow">已借出( {{count.hadBorrow}} )</a>\n        </li>\n    </ul>\n    <div ui-view></div>\n</div>\n'),e.put("src/module/hr/tpl.html","<div ui-view></div>"),e.put("src/module/hr/workInfo/tpl.html",'<form class="form-horizontal hr-workInfo" name="workInfoForm"\n      novalidate="novalidate">\n    <div class="content-container">\n        <div ng-show="canEditWorkInfo && !isAgent">\n            <span class="edit" ng-click="onEdit()">\n            <i class="glyphicon glyphicon-pencil"></i>\n            编辑\n            </span>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div class="col-sm-2">员工类型：</div>\n            <div class="col-sm-4">{{type|type}}</div>\n            <div input-control options="workOptions.contractCompany"\n                 ng-model="contractCompany">\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2">直属领导：</div>\n            <div class="col-sm-4">{{leader}}</div>\n            <div class="col-sm-2">组织架构：</div>\n            <div class="col-sm-4">{{structureName}}</div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2">等级：</div>\n            <div class="col-sm-4">{{level}}</div>\n            <div class="col-sm-2">职位名称：</div>\n            <div class="col-sm-4">{{positionName}}</div>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="workOptions.office"\n                 ng-model="office">\n            </div>\n            <div input-control options="workOptions.sit"\n                 ng-model="sit">\n            </div>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="workOptions.socialSecurityCity"\n                 ng-model="socialSecurityCity">\n            </div>\n            <div input-control options="workOptions.icCardNumber"\n                 ng-model="icCardNumber">\n            </div>\n        </div>\n        <div class="form-group" ng-show="!isAgent">\n            <div input-control options="workOptions.remotePunchCard"\n                 ng-model="remotePunchCard">\n            </div>\n            <div input-control options="workOptions.requireCheckTime"\n                 ng-model="requireCheckTime" ng-show="isPunchCardNode">\n            </div>\n        </div>\n        <div class="form-group">\n            <div input-control options="workOptions.workEmail"\n                ng-model="workEmail">\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="canEditWorkInfo && !isReadOnly">\n            <div class="col-sm-12 center">\n                <button class="btn btn-sm btn-primary"\n                        ng-click="saveWorkInfo(workInfoForm)">保存\n                </button>\n            </div>\n        </div>\n    </div>\n</form>\n'),e.put("src/module/hr/workTargetInfo/tpl.html",'<div class="content-container workTarget">\n    <table>\n        <tr>\n            <td>目标设定：</td>\n            <td ng-bind-html="commonInfo.workTargetInfo"></td>\n        </tr>\n    </table>\n</div>'),e.put("src/module/subordinate/tpl.html","<div ui-view></div>")}])}),define("app",["require","common/main","module/home/app","module/hr/main","module/admin/main","module/subordinate/main","module/home/main","module/apply/main","jsLibrary/src/ngFilter/module","jsLibrary/src/ngFilter/parseRmb","module/main.tpl"],function(e){e("common/main"),e("module/home/app"),e("module/hr/main"),e("module/admin/main"),e("module/subordinate/main"),e("module/home/main"),e("module/apply/main"),e("jsLibrary/src/ngFilter/module"),e("jsLibrary/src/ngFilter/parseRmb");var t="1",n=["app.common","app.admin","app.subordinate","app.home","app.hr","app.apply","ui.router","ngSanitize","ui.bootstrap","treeControl","library.filters"];t=="1"&&(e("module/main.tpl"),n.push("templates-main"));var r=angular.module("app",n).config(["$tooltipProvider",function(e){e.options({appendToBody:!0})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("","/home")}]).config(["$httpProvider",function(e){e.defaults.headers.post={"Content-Type":"application/json"}}]).run(["$rootScope","$state","$stateParams","authUtil","ajaxService","applyRequest","util",function(e,t,n,r,i,s,o){function u(){s.getCount({status:0}).then(function(t){var n=o.findIndexInObjArr(e.navigator,"state","apply.list.toHandle.all");e.navigator[n].num=t.data.total})}e.$state=t,e.$stateParams=n,e.refreshApplyNum=u}]).controller("mainCtrl",["$scope","$rootScope","authUtil","ajaxService","localStorage","$state","util","applyRequest",function(e,t,n,r,i,s,o,u){function a(){function t(e,t){return e.indexOf(t)!=-1}var e=window.location.hash;/#\/hr\/\w*-staffInfo/g.test(e)||t(e,"subordinate/info")||t(e,"admin/info")||/#\/apply\/\d*\/modal[\w|\/]*/g.test(e)||($("#header").removeClass("hide"),$("#footer").removeClass("hide"))}function f(){t.userInfo.isHRBP=n.isHRBP(),t.userInfo.isRecruitHR=n.isRecruitHR(),t.userInfo.isSalaryHR=n.isSalaryHR(),t.userInfo.isRelationshipHR=n.isRelationshipHR(),t.userInfo.isTrainingHR=n.isTrainingHR(),t.userInfo.isAssetManager=n.isAssetManager(),t.userInfo.isItOwner=n.isItOwner(),t.userInfo.isStructureOwner=n.isStructureOwner(),t.userInfo.isAdmin=n.isAdmin(),t.userInfo.isHR=n.isHR(),t.userInfo.isManager=n.isManager()}function l(){t.navigator=[{state:"home",title:"首页",rootState:"home"},{state:"subordinate.self.baseInfo",title:"我的信息",rootState:"self"},{state:"apply.list.toHandle.all",title:"我的审批",rootState:"apply"}],n.isAdmin()&&t.navigator.push({state:"admin",title:"管理员配置",rootState:"admin",items:[{state:"admin.structure",title:"组织架构"},{state:"admin.contractCompany",title:"签约公司配置"},{state:"admin.socialSecurityCity",title:"社保缴纳城市配置"},{state:"admin.office",title:"办公地点配置"},{state:"admin.holiday",title:"工作日配置"},{state:"admin.search",title:"关键信息修改"},{state:"admin.disability",title:"残疾员工名单"},{state:"admin.level",title:"职级体系配置"}]}),n.isReception()&&e.navigator.push({state:"hr.tempCard.all",title:"前台工作"}),n.isAssetManager()&&e.navigator.push({state:"hr.assetManagerSearch",title:"资产管理"}),n.isItOwner()&&e.navigator.push({state:"hr.itManagerSearch",title:"IT管理"});if(n.isHR()){var r={state:"hr",rootState:"hr",title:"HR工作",items:[]},i=[];n.isRecruitHR()&&i.push({state:"hr.newer",title:"发送offer"},{state:"hr.newerSearch",title:"offer信息查询"},{state:"hr.abandonSearch",title:"取消offer"},{state:"hr.rejoin",title:"员工再入职"}),n.isRelationshipHR()&&(n.isAgent()?(i.push({state:"hr.toJoinSearchAgent",title:"办理入职手续"}),i.push({state:"hr.rejoinAgent",title:"员工再入职"}),i.push({state:"hr.relationshipHRSearch",title:"员工信息查询-员工关系"})):(i.push({state:"hr.toJoinSearch",title:"办理入职手续"}),i.push({state:"hr.relationshipHRSearch",title:"员工信息查询-员工关系"}))),n.isSalaryHR()&&(i.push({state:"hr.salaryBillSearch",title:"应发工资名单"}),i.push({state:"hr.securityList",title:"社保缴纳名单"}),i.push({state:"hr.taxList",title:"个税名单"}),i.push({state:"hr.salaryHRSearch",title:"员工信息查询-薪酬"})),n.isTrainingHR()&&i.push({state:"hr.trainingHRSearch",title:"员工信息查询-培训"}),n.isHRBP()&&(i.push({state:"hr.businessPartnerHRSearch",title:"员工信息查询-HRBP"}),i.push({state:"hr.attendceRecord",title:"出勤记录"})),r.items=i,t.navigator.push(r)}n.isManager()&&t.navigator.push({state:"subordinate.search",title:"下属信息",rootState:"subordinate"}),n.isStructureOwner()&&t.navigator.push({state:"subordinate.ownerSearch",title:"部门员工信息",rootState:"subordinate"})}alert=o.alert,confirm=o.confirm,info=o.info,r.send("/GET/staff/loginUserInfo.json",{asyn:!1}).then(function(n){t.userInfo=n.data;var r=t.userInfo.roleTypes;t.userInfo.roleTypes=r?r.split(","):[],f(),l(),a(),e.refreshApplyNum()}),e.logout=function(){r.send("/GET/user/loginout.json",{}).then(function(e){window.location.href="login.html"})},e.navClick=function(t){t.state=="subordinate.self.baseInfo"&&i.set("number",e.userInfo.number),s.go(t.state)}}]);return angular.bootstrap(document,["app"]),r});