define(["require","../../app"],function(e){var t=e("../../app");t.directive("nameSuggestion",["$http","ajaxService",function(e,t){return{restrict:"EA",templateUrl:"src/common/directive/nameSuggestion/tpl.html",scope:{name:"@",disable:"=",require:"@",errorOption:"="},require:"?ngModel",replace:!1,compile:function(e,n,r,i){return{pre:function(e,t,n,r){},post:function(e,n,r,i){e.getAccounts=function(n){return t.send("/GET/ac/queryAccounts.json",{showLoading:!1,data:{searchKey:n}}).then(function(t){var n=t.data.map(function(e){return e.displayName+","+e.username}),r=[];return e.$root.userInfo.isAgent?n.forEach(function(e,t){e.indexOf("a-")>-1&&r.push(e)}):r=n,r})},e.typeaheadOnSelect=function(t){i.$setViewValue(e.value)},e.$watch("value",function(e,t){e||i.$setViewValue(e)}),i.$render=function(){e.value=i.$viewValue}}}}}}])});