define(["require","../../app"],function(e){var t=e("../../app");t.directive("timerButton",["$interval",function(e){return{restrict:"EA",replace:!1,scope:{onClick:"&clickhandler",begintimer:"=",remain:"@time"},templateUrl:"src/common/directive/timerButton/tpl.html",link:function(t,n,r){function s(){t.remain=i,t.showTimer=!0;var n=e(function(){t.remain--,t.remain==0&&(t.showTimer=!1,t.begintimer=!1,e.cancel(n))},1e3)}var i=t.remain;t.clickHandler=function(){t.onClick()},t.$watch("begintimer",function(e,t){e==1&&s()},!0)}}}])});