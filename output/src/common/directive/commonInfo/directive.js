define(["require","../../app","module/codeConfig","module/codeConfig"],function(e){var t=e("../../app"),n=e("module/codeConfig");t.directive("commonInfo",["$http","ajaxService","hrOptUtil",function(t,n,r){return{restrict:"EA",templateUrl:"src/common/directive/commonInfo/tpl.html",scope:!1,require:"?ngModel",replace:!1,link:function(t,n,i,s){function a(){r.uploadHeadImg(t.commonInfo.number,function(e){e.hadSuccess&&(t.commonInfo.headImgUrl=e.url)})}var o=e("module/codeConfig"),u=o.STAFF_STATUS_CODE;(t.isFromHRBP||t.isFromRelationshipHR)&&t.commonInfo.status!=u.LEAVED&&(t.canEditHeadImg=!0),t.uploadClick=function(){if(!t.canEditHeadImg)return;a()},t.editClick=function(){if(!t.canEditHeadImg)return;a()}}}}])});