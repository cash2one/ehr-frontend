define(["require","../../app"],function(e){var t=e("../../app");t.directive("multiSelect",function(){return{restrict:"EA",scope:{options:"="},replace:!1,require:"?ngModel",templateUrl:"src/common/directive/multiSelect/tpl.html",link:function(e,t,n,r){e.itemChange=function(t){e.selected=[];var n=[];for(var i=0,s;s=e.options.items[i++];)s.checked==1&&(e.selected.push(s.id),n.push(s.name));e.selectedNames=n.join(","),r.$setViewValue(e.selected)},e.status={},e.status.isopen=!0,r.$formatters.push(function(e){return e}),r.$parsers.push(function(e){return e}),r.$render=function(){e.selected=r.$viewValue,e.paintName()},e.paintName=function(){var t=[];for(var n=0,r;r=e.options.items[n++];)$.inArray(r.id,e.selected)!=-1&&(r.checked=!0,t.push(r.name));e.selectedNames=t.join(",")},e.$watch("options.items",function(t,n){e.paintName()},!0)}}})});