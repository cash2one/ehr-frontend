define(["require","../app","./config"],function(e){var t=e("../app"),n=e("./config");t.factory("login",["$rootScope","$modal",function(e,t,n){return{show:function(){t.open({animation:!1,backdrop:"static",size:"sm",templateUrl:"src/common/service/login/login.html",controller:["$scope","$modalInstance","$http",function(e,t,n){e.saveHandler=function(){(!e.username||!e.password)&&alert("请输入用户名和密码"),n({method:"POST",url:"/GET/user/login.json",data:{password:e.password,username:e.username}}).success(function(e){e.status==200?window.location.reload():e.status==500?alert("系统异常"):(e.status==400||e.status==800)&&alert(e.error.message)})}}]})}}}])});